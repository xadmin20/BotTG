"use strict";function polyfill(){function e(e){var t=["MSIE ","Trident/","Edge/"];return new RegExp(t.join("|")).test(e)}function t(e,t){this.scrollLeft=e,this.scrollTop=t}function n(e){return.5*(1-Math.cos(Math.PI*e))}function s(e){if(null===e||"object"!=typeof e||e.behavior===undefined||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function i(e,t){return"Y"===t?e.clientHeight+g<e.scrollHeight:"X"===t?e.clientWidth+g<e.scrollWidth:void 0}function r(e,t){var n=d.getComputedStyle(e,null)["overflow"+t];return"auto"===n||"scroll"===n}function o(e){var t=i(e,"Y")&&r(e,"Y"),n=i(e,"X")&&r(e,"X");return t||n}function a(e){var t;do{e=e.parentNode,t=e===u.body}while(!1===t&&!1===o(e));return t=null,e}function c(e){var t,s,i,r=f(),o=(r-e.startTime)/p;o=o>1?1:o,t=n(o),s=e.startX+(e.x-e.startX)*t,i=e.startY+(e.y-e.startY)*t,e.method.call(e.scrollable,s,i),s===e.x&&i===e.y||d.requestAnimationFrame(c.bind(d,e))}function l(e,n,s){var i,r,o,a,l=f();e===u.body?(i=d,r=d.scrollX||d.pageXOffset,o=d.scrollY||d.pageYOffset,a=h.scroll):(i=e,r=e.scrollLeft,o=e.scrollTop,a=t),c({scrollable:i,method:a,startTime:l,startX:r,startY:o,x:n,y:s})}var d=window,u=document;if(!("scrollBehavior"in u.documentElement.style&&!0!==d.__forceSmoothScrollPolyfill__)){var m=d.HTMLElement||d.Element,p=468,h={scroll:d.scroll||d.scrollTo,scrollBy:d.scrollBy,elementScroll:m.prototype.scroll||t,scrollIntoView:m.prototype.scrollIntoView},f=d.performance&&d.performance.now?d.performance.now.bind(d.performance):Date.now,g=e(d.navigator.userAgent)?1:0;d.scroll=d.scrollTo=function(){if(arguments[0]!==undefined)return!0===s(arguments[0])?void h.scroll.call(d,arguments[0].left!==undefined?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:d.scrollX||d.pageXOffset,arguments[0].top!==undefined?arguments[0].top:arguments[1]!==undefined?arguments[1]:d.scrollY||d.pageYOffset):void l.call(d,u.body,arguments[0].left!==undefined?~~arguments[0].left:d.scrollX||d.pageXOffset,arguments[0].top!==undefined?~~arguments[0].top:d.scrollY||d.pageYOffset)},d.scrollBy=function(){if(arguments[0]!==undefined)return s(arguments[0])?void h.scrollBy.call(d,arguments[0].left!==undefined?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,arguments[0].top!==undefined?arguments[0].top:arguments[1]!==undefined?arguments[1]:0):void l.call(d,u.body,~~arguments[0].left+(d.scrollX||d.pageXOffset),~~arguments[0].top+(d.scrollY||d.pageYOffset))},m.prototype.scroll=m.prototype.scrollTo=function(){if(arguments[0]!==undefined){if(!0===s(arguments[0])){if("number"==typeof arguments[0]&&arguments[1]===undefined)throw new SyntaxError("Value could not be converted");return void h.elementScroll.call(this,arguments[0].left!==undefined?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,arguments[0].top!==undefined?~~arguments[0].top:arguments[1]!==undefined?~~arguments[1]:this.scrollTop)}var e=arguments[0].left,t=arguments[0].top;l.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}},m.prototype.scrollBy=function(){if(arguments[0]!==undefined)return!0===s(arguments[0])?void h.elementScroll.call(this,arguments[0].left!==undefined?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==undefined?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop):void this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})},m.prototype.scrollIntoView=function(){if(!0===s(arguments[0]))return void h.scrollIntoView.call(this,arguments[0]===undefined||arguments[0]);var e=a(this),t=e.getBoundingClientRect(),n=this.getBoundingClientRect();e!==u.body?(l.call(this,e,e.scrollLeft+n.left-t.left,e.scrollTop+n.top-t.top),"fixed"!==d.getComputedStyle(e).position&&d.scrollBy({left:t.left,top:t.top,behavior:"smooth"})):d.scrollBy({left:n.left,top:n.top,behavior:"smooth"})}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){var e=["a-z","\u0430-\u044f\u0451","\u0491\u0454\u0456\u0457","\u045e","\u04d9\u0493\u049b\u04a3\u04e9\u04b1\u04af\u04bb","\u0103\xe2\xee\u0219\u015f","\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c","\u0452\u0458\u0459\u045a\u0442\u045b\u045f","\xe1\u010d\u010f\xe9\u011b\xed\u0148\xf3\u0159\u0161\u0165\xfa\u016f\xfd\u017e"].join(""),t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/){1}[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/,s=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/|www\.){1}(github\.com)?(\/.*)?[^(\.git)]$/,i=new RegExp("^["+e+"\\- ']*$","i"),r=new RegExp("^[\\d"+e+"\\- ?!@#$%^&*()_+=.\xa7\xb1~]*$","i"),o=new RegExp(t,"i"),a=new RegExp(n,"i"),c=new RegExp(s,"i"),l=/^\d{10}$/,d={requirementType:"string",validateString:function(e){return i.test(e)},messages:{en:"This value should not contain numbers and special characters",ru:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u043d\u0430\u043a\u043e\u0432"}},u={requirementType:"string",validateString:function(e){return o.test(e)},messages:{en:"Please enter a valid email",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}},m={requirementType:"string",validateString:function(e){return a.test(e)},messages:{en:"Please enter a valid URL",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL"}},p={requirementType:"string",validateString:function(e){return c.test(e)},messages:{en:"Please enter a valid GitHub URL",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 GitHub URL"}},h={requirementType:"string",validateString:function(e){return r.test(e)},messages:{en:"Password should not contain characters <> [] {} : ; ' \" `, / \\",ru:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u0438\u043c\u0432\u043e\u043b\u044b <> [] {} : ; ' \" `, / \\"}},f={requirementType:"string",validateString:function(e){return l.test(e)},messages:{en:"Must contain 10 numbers",ru:"\u0414\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 10 \u0446\u0438\u0444\u0440"}},g={validateString:function(e,t,n){return n.$element.intlTelInput("isValidNumber")},messages:{en:"Please enter valid phone number",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}},v={validateString:function(e){return e.trim().split(" ").length>=2},messages:{en:"Please, enter first and last name",ru:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044e"}};window.Parsley.addValidator("gbNameFormat",d).addValidator("gbEmailFormat",u).addValidator("gbUrlFormat",m).addValidator("gbGithubFormat",p).addValidator("gbPassFormat",h).addValidator("gbTroikaUidFormat",f).addValidator("gbPhoneFormat",g).addValidator("gbFirstLastName",v)}(),function(){!function(){var e,t,n;e=function(e,t,n){return e.defaults.headers.common["X-CSRF-TOKEN"]=$('meta[name="csrf-token"]').attr("content"),t.debugInfoEnabled(!1),t.commentDirectivesEnabled(!1),t.cssClassDirectivesEnabled(!1),t.aHrefSanitizationWhitelist(/^\s*(https?|s?ftp|mailto|tel|file):/),n.resourceUrlWhitelist(["self","https://gbcdn.mrgcdn.ru/uploads/assets/**"])},e.$inject=["$httpProvider","$compileProvider","$sceDelegateProvider","markdownProvider"],n={baseAPIUrl:window._&&window._.get(window,"gon.settings.api_path")||"/api/v2"},t=["ngSanitize","markdown","ngResource","templates","ui.bootstrap","ngFileUpload","siyfion.sfTypeahead","chatApp","geekbrains.filters","geekbrains.services","geekbrains.comments","geekbrains.notices","geekbrains.projects","geekbrains.uploader","geekbrains.feedbacks","geekbrains.learning"],angular.module("geekbrains.filters",[]),angular.module("chatApp",[]),angular.module("geekbrains.comments",[]),angular.module("geekbrains.notices",[]),angular.module("geekbrains.projects",[]),angular.module("geekbrains.uploader",[]),angular.module("geekbrains.learning",[]),angular.module("geekbrains",t).config(e).constant("SETTINGS",n)}()}.call(this),function(){var e;e=function(e,t,n,s,i){var r,o,a,c,l,d,u,m,p,h,f,g,v;if(window.CURRENT_USER)return r=e,r.currentUser=window.CURRENT_USER,r.notifications=0,r.chatOpen=!1,r.rooms=[],r.notificationsMap={},u=0,d=globalJS.getCookie("jwt_token"),m=io(window.gon.settings.ws_url+"/chat?jwt_token="+d,{transports:["websocket"]}),window.onload=function(){if("/comms/chat"===window.location.pathname)return document.querySelector(".js-chat-button").click()},o=function(e,t){var o,a;if(a=i.findRoomById(r.rooms,e))if(o=i.findParticipantById(a,t),o.id===r.currentUser.id){if(r.rooms.splice(r.rooms.indexOf(a),1),r.notifications=s.decrease(a.notifications,r.notifications),r.rooms.length&&a.id===r.activeRoom.id)return r.$emit("room:change",r.rooms[0])}else if(a.participants.splice(a.participants.indexOf(o),1),a["private"]&&1===a.participants.length)return a.title=o.name+" (\u0437\u0430\u043a\u0440\u044b\u0442)",n.renameRoom(a.id,a.title)},p=function(o){var a;return u?(a=i.findRoomById(r.rooms,o.room),a?(a.updated_at=o.datetime,r.rooms=i.sortRooms(r.rooms),a.participants.length>1&&((a.messages.length||a.id===r.activeRoom.id)&&(o.md_text=i.mdToHtml(i.escapeText(o.text)),a.messages.push(o),t.$broadcast("message:scroll")),(!r.chatOpen||r.chatOpen&&a.id!==r.activeRoom.id)&&(r.notifications=s.increase(1,r.notifications),a.notifications=a.notifications||0,a.notifications+=1),r.chatOpen&&r.activeRoom.id===a.id&&n.readMessages(a.id))):n.getRoom(o.room).then(function(e){if(e.room)return r.rooms.unshift(e.room)})):(r.notifications=s.increase(1,r.notifications),r.notificationsMap.hasOwnProperty(o.room)?r.notificationsMap[o.room]+=1:r.notificationsMap[o.room]=1),e.$apply()},g=function(t){if(!i.findRoomById(r.rooms,t.id))return r.rooms.push(t),1===r.rooms.length&&r.$emit("room:change",r.rooms[0]),e.$apply()},v=function(t){var n;return n=i.findRoomById(r.rooms,t.room_id),n&&(n.title=t.title),e.$apply()},h=function(t){var s;return s=i.findRoomById(r.rooms,t.room_id),s?i.findParticipantById(s,t.participant.id)||s.participants.push(t.participant):u&&n.getRoom(t.room_id).then(function(e){if(e)return r.rooms.push(e),1===r.rooms.length?r.$emit("room:change",r.rooms[0]):void 0}),e.$apply()},f=function(t){return o(t.room_id,t.participant_id),e.$apply()},a={message:p,"room:add":g,"room:rename":v,"participant:add":h,"participant:destroy":f},c=function(){var e;if(e=new URLSearchParams(window.location.search),e.has("chat_room_id"))return e.get("chat_room_id")},l=function(e){if(!r.isLoadingRooms)return r.isLoadingRooms=!0,n.getRooms(u).then(function(n){var s;if(n.length&&(r.rooms=window._.uniqBy(r.rooms.concat(n),"id"),u||(e&&(s=i.findRoomById(r.rooms,parseInt(e))),s||(s=r.rooms[0]),r.$emit("room:change",s)),u=u+=1,r.roomsLoaded=!0),r.isLoadingRooms=!1,r.roomsLoaded=!0,n.length)return t.$emit("roomsLoaded")})["catch"](function(){return r.isLoadingRooms=!1})},r.showPopover=function(){return r.activeRoom.participants.length>1&&r.activeRoom["private"]||r.activeRoom.participants.length>0&&!r.activeRoom["private"]},m.on("message",function(e){var t;if(t=a[e.event])return t(e.data)}),n.getUnreadMessagesCount().then(function(e){if(e.count)return r.notifications=s.increase(e.count,r.notifications)}),r.$on("message:new",function(e,t){var s,o;return s=0,t.pending=!0,t.md_text=i.mdToHtml(i.escapeText(t.text)),r.activeRoom.messages.push(t),(o=function(){return n.createMessage(r.activeRoom.id,t).then(function(){return t.pending=!1})["catch"](function(){return s>=60?(t.send_failure=!0,t.pending=!1,s=0):(s+=1,setTimeout(o,1e3))})})()}),r.$on("room:change",function(e,i){if(i)return r.activeRoom=i,t.activeRoom=i,r.notifications=s.decrease(r.activeRoom.notifications,r.notifications),r.activeRoom.notifications=0,r.notificationsMap.hasOwnProperty(i.id)&&(r.notifications=s.decrease(r.notificationsMap[i.id],r.notifications),r.notificationsMap={}),r.activeRoom.messages.length&&n.readMessages(r.activeRoom.id),i.messages.length||(i.isLoadingMessages=!0,n.getMessages(i.id).then(function(e){e&&(i.messages=e,t.$broadcast("message:scroll"),i.isLoadingMessages=!1,r.chatOpen&&i.messages.length&&n.readMessages(i.id))})),t.$broadcast("message:scroll"),t.$broadcast("message:focus")}),r.$on("room:rename",function(e,t,s){if(!t["private"])return n.renameRoom(t.id,s).then(function(){return t.title=s})}),r.$on("room:add",function(e,s){var o,a;return angular.isArray(s)?void n.createPublicRoom(i.getIds(s)).then(function(e){var t;if(t=e.room)return t.title=s[0].name.split(" ")[0]+", "+s[1].name.split(" ")[0]+", "+s[2].name.split(" ")[0],r.rooms.unshift(t),r.$emit("room:change",t),n.renameRoom(t.id,t.title)}):s.type&&"study_group"===s.type?void((a=r.rooms.find(function(e){return e.study_group===s.id}))&&r.$emit("room:change",a)):(o=null,angular.forEach(i.getPrivateRooms(r.rooms),function(e){i.findParticipantById(e,+s.id)&&i.findParticipantById(e,+r.currentUser.id)&&(o=e)}),o?void r.$emit("room:change",o):n.createPrivateRoom([r.currentUser.id,s.id]).then(function(e){if(a=e.room)return i.findRoomById(r.rooms,a.id)?void 0:(r.rooms.unshift(a),r.$emit("room:change",a),t.$broadcast("message:focus"))}))}),r.$on("participant:delete",function(e,t,s){return n.deleteParticipant(t,s).then(function(){return o(t,s)})}),r.$on("participant:add",function(e,t,s){var o;if(1!==r.activeRoom.participants.length||!r.activeRoom["private"])return r.activeRoom.participants.length>1&&r.activeRoom["private"]?(o=angular.copy(r.activeRoom.participants),o.push(t),void r.$emit("room:add",o,s.id)):i.findParticipantById(r.activeRoom,t.id)?void 0:n.addParticipant(r.activeRoom.id,t.id).then(function(e){return r.activeRoom.participants.push(e)})}),r.$on("chat:open",function(){return u?r.$emit("room:change",r.rooms[0]):l(c()),r.chatOpen=!0}),r.$on("chat:close",function(){return r.chatOpen=!1}),t.$on("chat:messageFromOutside",function(e,n){if(!r.isLoadingRooms)return r.chatOpen=!0,t.$emit("chat:open"),u?r.$emit("room:add",n):l().then(function(){return r.$emit("room:add",n)})}),t.$on("roomList:scrollToBottom",function(){if(!r.isLoadingRooms)return l()})},e.$inject=["$scope","$rootScope","chatApi","notifyService","chatHelpers"],angular.module("chatApp").controller("MainCtrl",e)}.call(this),function(){!function(){var e;e=function(e,t,n){var s;return e.searching=!1,e.minLength=2,e.type=n.type,e.input=null,s=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/users/search?name=%QUERY",wildcard:"%QUERY"}}),s.initialize(),e.peopleDataset={displayKey:"name",source:s.ttAdapter(),limit:50,templates:{empty:'<div class="empty-message"><span>\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e</span></div>',suggestion:function(e){return"<div data-user-id="+e.id+"><img class='img-circle m-r-sm' src="+e.avatar+" alt="+e.name+"><span>"+e.name+"</span></div>"}}},e.options={highlight:!0,minLength:e.minLength,hint:!1},e.$on("typeahead:selected",function(n,s){return t.$broadcast(e.type+":add",s,t.activeRoom),t.$broadcast("popover:close"),e.input=null,e.$apply()}),e.$on("typeahead:asyncrequest",function(){return e.searching=!0,e.$apply()}),e.$on("typeahead:asyncreceive",function(){return e.searching=!1,e.$apply()}),e.$on("typeahead:asynccancel",function(){return e.searching=!1,e.$apply()})},e.$inject=["$scope","$rootScope","$attrs"],angular.module("chatApp").controller("TypeaheadCtrl",e)}()}.call(this),function(){var e;e=function(e){var t,n;return t=function(){return{renameRoom:function(){return e.$broadcast("room:rename",this.activeRoom,this.title),e.$broadcast("popover:close")},deleteParticipant:function(t,n){return e.$broadcast("participant:delete",t,n),e.$broadcast("popover:close")}}},n=function(e,t){var n,s,i;return i=t.find(".toggle"),s=t.find(".toggled-content"),n=t.find("#popoverContent"),t.bind("click",function(e){if("chatPlusButton"===e.target.id)return $(e.target).toggleClass("i-minus"),$(e.target).hasClass("i-minus")&&s.addClass("hide"),n.toggleClass("hide")}),i.click(function(e){var t;return e.preventDefault(),s.addClass("hide"),t=$(e.currentTarget).parent().find(".toggled-content"),t.toggleClass("hide"),t.find("input").focus()}),$(document).click(function(e){if("chatPlusButton"!==e.target.id&&!$(e.target).parents("#popoverContent").length&&n.is(":visible"))return n.addClass("hide"),$("#chatPlusButton").removeClass("i-minus"),s.addClass("hide")}),e.$on("popover:close",function(){if(n.is(":visible"))return n.addClass("hide"),$("#chatPlusButton").removeClass("i-minus"),s.addClass("hide")})},{controllerAs:"vm",controller:t,link:n,templateUrl:"ng/chat/chatAddParticipantsPopover.html",bindToController:!0,scope:{activeRoom:"=",author:"=",currentUser:"="}}},e.$inject=["$rootScope"],angular.module("chatApp").directive("addParticipantsPopover",e)}.call(this),function(){!function(){var e;e=function(e,t){return{templateUrl:"ng/chat/chat.directive.html",replace:!0,link:function(n,s){var i,r;return n.roomsOpen=!1,n.toggleOpen=function(){return n.roomsOpen=!n.roomsOpen},r=function(){return angular.element("#backdrop").hide(),s.hide()},i=function(){return 0!==e.activeRoom.participants.length&&e.activeRoom.participants.some(function(e){return 63===e.id||6026===e.id})},e.$on("chat:open",function(){return angular.element("#backdrop").show(),s.show()}),e.$on("chat:close",function(){return r()}),e.$on("roomlist:close",function(){return n.roomsOpen=!1}),angular.element(t).on("chat:open",function(){return e.$broadcast("chat:open")}),angular.element(t).on("chat:close",function(){return e.$broadcast("chat:close")}),angular.element(t).on("chatMessage",function(t,n){return e.$emit("chat:messageFromOutside",n)}),s.on("keydown",function(e){if(e=e||window.event,13===e.keyCode&&(e.ctrlKey||e.metaKey)&&!i())return $(".js-chart-form").submit()}),s.on("keyup",function(e){if(27===e.keyCode)return s.hide()}),s.on("click","a.close-chat",function(){return e.$broadcast("chat:close")})}}},e.$inject=["$rootScope","$window"],angular.module("chatApp").directive("chat",e)}()}.call(this),function(){var e,t;e=function(e,t,n){var s;return s=function(){return{sendMessage:function(t,n){var s;if(s=[],n.forEach(function(e){return s.push({md_link:e.url,md_file_title:e.title})}),(null!=t?t.trim().length:void 0)||s.length)return e.$broadcast("message:new",{author_id:this.currentUser.id,room:this.activeRoom.id,author:this.currentUser.name,text:t,files:s,avatar:this.currentUser.avatar,datetime:moment().tz("Europe/Moscow").format()}),this.message="",this.uploadedFiles=[]}}},{scope:{activeRoom:"<",currentUser:"<",participantsCount:"<"},bindToController:!0,controllerAs:"vm",templateUrl:"ng/chat/chatMessageForm.html",controller:s,link:function(e,s){var i,r,o,a,c;return a=s.find("#txtChatMessage"),a.css("height","auto"),a.focus(),a.on("keydown",function(){setTimeout(function(){a.css("height","auto"),a.css("height",a[0].scrollHeight+"px")},0)}),e.vm.isFileUploading=!1,e.vm.isShowingAlert=!1,e.vm.uploadError="",c=function(t){return null==t&&(t=""),e.vm.uploadError=t,t&&(e.vm.isShowingAlert=!0)},o=function(e){if(e)return void c("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437")},e.vm.uploadedFiles=[],r=s.find("#filesUpload"),r.on("change",function(n){var s,i,r,a,l;for(i=Array.from(n.target.files),i.length>2&&(c("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 2"),i=i.slice(0,2)),l=[],r=0,a=i.length;r<a;r++)s=i[r],e.vm.isFileUploading=!0,l.push(t.upload({url:"/api/v2/assets",data:{data:{attachment:s,type:"Chatter::Room",assetable_id:e.vm.activeRoom.id,assetable_type:"Chatter::Room"}}}).then(function(t){return e.vm.uploadedFiles.push(t.data.asset)},function(e){var t,n;return 422===e.status?c(null!=(t=e.data)?t.error:void 0):o(null!=(n=e.data)?n.error:void 0)})["finally"](function(){return e.vm.isFileUploading=!1,n.target.value=null}));return l}),i=function(t,n){return e.vm.uploadedFiles.forEach(function(e){if(e.id===t)return e.isDeleting=n})},e.vm.deleteFile=function(t,s){return t.preventDefault(),t.stopPropagation(),i(s,!0),n["delete"]("/api/v2/assets/"+s).then(function(t){if(200===t.status)return e.vm.uploadedFiles=e.vm.uploadedFiles.filter(function(){return function(e){return e.id!==s}}())},function(e){var t;return o(null!=(t=e.data)?t.error:void 0),i(s,!1)})},$("#btnChatSubmit").on("click",function(){return a.css("height","auto")}),e.$on("message:focus",function(){return s.find("#txtChatMessage").focus()})}}},e.$inject=["$rootScope","Upload","$http"],t=function(){return{restrict:"A",scope:{ngMultiple:"="},link:function(e,t){return e.$watch("ngMultiple",function(e){return e?t.attr("multiple","multiple"):t.removeAttr("multiple")})}}},angular.module("chatApp").directive("messageForm",e).directive("ngMultiple",t)}.call(this),function(){!function(){var e;e=function(e){var t;return t=function(){return{isMine:function(e){return e===this.currentUser.id}}},{scope:{activeRoom:"=",currentUser:"="},controllerAs:"vm",templateUrl:"ng/chat/chatMessagesList.html",controller:t,bindToController:!0,link:function(t){var n,s;return n=$(".messages-wrapper").first(),s=function(t){return e(function(){return n.scrollTop(n.find(".messages").height())},t)},t.$on("message:new",function(){return s(100)}),t.$on("message:scroll",function(){return s(100)})}}},e.$inject=["$timeout"],angular.module("chatApp").directive("messagesList",e)}()}.call(this),function(){var e;e=function(){var e;return e=function(){},{scope:{participants:"=",author:"="},controllerAs:"vm",templateUrl:"ng/chat/chatParticipantsList.html",controller:e,link:function(){}}},angular.module("chatApp").directive("participantsList",e)}.call(this),function(){var e;e=function(e,t){var n;return n=function(){return{changeRoom:function(t,n){return $(t.currentTarget).data("id")!==this.activeRoomId&&"close"!==t.target.className&&(e.$broadcast("room:change",n),e.$broadcast("popover:close")),e.$broadcast("roomlist:close")},leaveRoom:function(t){if(confirm("\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443?"))return e.$broadcast("participant:delete",t.id,this.currentUserId)},nameRoom:function(e){var t;return e.title?e.title:(t="",t=0===e.participants.length?"The empty room":1===e.participants.length?e.participants[0].name:2===e.participants.length?e.participants[0].id===this.currentUserId?e.participants[1].name:e.participants[0].name:e.participants[0].name.split(" ")[0]+", "+e.participants[1].name.split(" ")[0]+", "+e.participants[2].name.split(" ")[0],e.title=t,t)},getRoomTagTitle:function(e){switch(e){case"mentor":return"\u041d\u0430\u0441\u0442\u0430\u0432\u043d\u0438\u043a";case"teacher":return"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c";case"community_manager":return"\u041a\u043e\u043c\u044c\u044e\u043d\u0438\u0442\u0438 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440";default:return e}},filterRoomTags:function(e){var t;if(e.tags)return t=["mentor","teacher","community_manager"],e.tags.filter(function(n){return function(s){return t.includes(s)&&e[s+"_user_id"]!==n.currentUserId}}(this))},getAvatarSrc:function(e){if(2===e.participants.length)return e.participants[0].id===this.currentUserId?e.participants[1].avatar_path:e.participants[0].avatar_path}}},{scope:{rooms:"=",activeRoomId:"=",currentUserId:"="},controllerAs:"vm",bindToController:!0,templateUrl:"ng/chat/chatRoomsList.html",controller:n,link:function(n,s){var i,r,o;return r=function(){return s[0].scrollHeight>s[0].clientHeight},i=function(){return setTimeout(function(){if(!r())return e.$emit("roomList:scrollToBottom")},500)},s.scroll(window._.throttle(function(){if(s[0].scrollHeight-s.scrollTop()<=s.outerHeight()+100)return e.$emit("roomList:scrollToBottom")},500)),o=function(e){var n;return n=$(".rooms-list-wrapper").first(),t(function(){return n.scrollTop(n.find(".rooms-list").height())},e)},n.$on("roomslist:scroll",function(){return o(100)}),e.$on("roomsLoaded",function(){return i()}),i()}}},e.$inject=["$rootScope","$timeout","$window"],angular.module("chatApp").directive("roomsList",e)}.call(this),function(){!function(){var e;e=function(e,t,n,s){var i,r,o,a,c;return c=function(t,n,i){var r;return r=s.defer(),e[t](n,i).then(function(e){return r.resolve(e.data)})["catch"](r.reject),r.promise},r=function(e){return c("get",e)},o=function(e,t){return c("post",e,t)},a=function(e,t){return c("put",e,t)},i=function(e){return c("delete",e)},{getRooms:function(e){return r("/chat/rooms.json?page="+(e+1))},getRoom:function(e){return r("/chat/rooms/"+e+".json")},getUnreadMessagesCount:function(){return r("/chat/rooms/unread_messages_count.json")},createMessage:function(e,t){return o("/chat/rooms/"+e+"/messages.json",{message:t})},createPrivateRoom:function(e){return o("/chat/rooms.json",{room:{participant_ids:e}})},createPublicRoom:function(e){return o("/chat/rooms.json",{room:{participant_ids:e,"private":!1}})},renameRoom:function(e,t){return a("/chat/rooms/"+e+".json",{title:t})},getMessages:function(e){return r("/chat/rooms/"+e+"/messages.json")},readMessages:function(e){return a("/chat/rooms/"+e+"/read.json")},deleteParticipant:function(e,t){return i("/chat/rooms/"+e+"/participants/"+t+".json")},addParticipant:function(e,t){return o("/chat/rooms/"+e+"/participants.json",{id:t})}}},e.$inject=["$http","$resource","$log","$q"],angular.module("chatApp").factory("chatApi",e)}()}.call(this),function(){!function(){var e;e=function(){var e,t,n,s,i,r,o,a,c,l,d,u,m,p,h,f,g,v,b;return e=window._,h=/[&<]/g,p=/&(?:gt|quot|#39);/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},showdown.extension("targetlink",function(){return[{type:"html",regex:/(<a [^>]+?)(>.*<\/a>)/g,replace:'$1 target="_blank"$2'}]}),u=new showdown.Converter({strikethrough:!0,simplifiedAutoLink:!0,simpleLineBreaks:!0,extensions:["targetlink"]}),t=function(e){return function(t){return e[t]}},s=t(l),g=t(d),o=function(t,n){return e.find(t,{id:n})},r=function(t,n){return e.find(t.participants,{id:n})},a=function(t){return e.map(t,"id")},n=function(e){var t;if(Array.isArray(e))return t=0,e.forEach(function(e){if(e.notifications)return t+=e.notifications}),t},c=function(t){return e.filter(t,{"private":!0})},f=function(e){return e=window._.sortBy(e,function(e){return e.updated_at}),e.reverse()},i=function(e){if(e)return e.replace(h,s)},b=function(e){if(e)return e.replace(p,g)},v=function(e){return e.map(function(e){return e.text=b(e.text),e})},m=function(e){return u.makeHtml(e)},{findRoomById:o,findParticipantById:r,getIds:a,countNotifications:n,getPrivateRooms:c,sortRooms:f,escapeText:i,unescapeMessagesText:v,mdToHtml:m}},e.$inject=[],angular.module("chatApp").factory("chatHelpers",e)}()}.call(this),function(){!function(){var e;e=function(e){return{send:function(t){return e.$emit("chat:messageFromOutside",t)}}},e.$inject=["$rootScope"],angular.module("chatApp").factory("chatMessagesService",e)}()}.call(this),function(){!function(){var e;e=function(){var e,t,n;return e=function(e){var t;return window.messagesCount=e,t=new CustomEvent("MessagesCounterUpdate",{detail:{count:e}}),document.dispatchEvent(t)},n=function(t,n){return t+=n,e(t),t},t=function(t,n){return t=n-t,e(t),t>0?t:0},{increase:n,decrease:t}},angular.module("chatApp").factory("notifyService",e)}()}.call(this),function(){var e=function(e,t,n){var s=function(e){"undefined"==typeof this.isSubcomment&&(this.isSubcomment=!1),this.canHide=function(){return this.comment.can_hide},this.canMarkAsAnswer=function(){return this.comment.can_mark_as_answer},this.canEdit=function(){return this.comment.can_edit&&this.current_user&&this.comment.user.id===this.current_user.id},this.canSendToCrm=function(){return this.comment.can_report},this.canThank=function(){return this.comment.can_thank&&!this.readonly&&!this.scrollable},this.hideComment=function(){return n.save({id:this.comment.id,method:"hide"
}).$promise.then(function(t){return function(n){n.status&&(t.comment.hidden=!0,e.$emit("comment:hide",{id:t.comment.id,user_id:t.current_user.id}))}}(this))},this.publishComment=function(){return n.save({id:this.comment.id,method:"publish"}).$promise.then(function(t){return function(n){n.status&&(t.comment.hidden=!1,e.$emit("comment:publish",{id:t.comment.id,user_id:t.current_user.id}))}}(this))},this.thank=function(){switch(this.comment.is_liked){case!0:return n.save({id:this.comment.id,method:"unlike"}).$promise.then(function(t){return function(n){n.status&&(t.comment.likes_count-=1,t.comment.is_liked=!1,e.$emit("comment:unlike",{id:t.comment.id,user_id:t.current_user.id}))}}(this));case!1:return n.save({id:this.comment.id,method:"like"}).$promise.then(function(t){return function(n){n.status&&(t.comment.likes_count+=1,t.comment.is_liked=!0,e.$emit("comment:like",{id:t.comment.id,user_id:t.current_user.id}))}}(this)),!1}},this.complaint=function(){return n.complaint({id:this.comment.id}).$promise.then(function(e){return function(t){if(t.status)return e.comment.complaint=!0}}(this))},this.send_to_crm=function(){return n.send_to_crm({id:this.comment.id,method:"send_to_crm"}).$promise.then(function(e){return function(t){if(t.status)return e.comment.send_to_crm=!0}}(this))}};return s.$inject=["$scope"],{scope:{comment:"<",isSubcomment:"<",setAnswer:"&onSetAnswer",showCommentDate:"<?",answersMode:"<"},replace:!0,bindToController:!0,controllerAs:"$ctrl",controller:s,templateUrl:"ng/comments/comment.directive.template.html",require:["commentDirective","^comments"],link:function(n,s,i,r){var o=undefined,a=undefined,c=undefined,l=undefined,d=undefined;if(a=r[0],c=r[1],o=null,a.answersMode=c.answersMode,a.readonly=c.readonly,a.current_user=c.current_user,a.type=c.commentableType,a.showCommentDate=c.showCommentDate,l=function(){if(o)return o.$destroy,o=null},a.comment.children){var u=s.find(".gb__comments-list");o=n.$new(),u.append('<comment-directive ng-repeat="reply in $ctrl.comment.children track by reply.comment.id" data-comment="reply.comment"is-subcomment="true"></comment-directive>'),e(u.contents())(o)}return d=s.find(".reply-form").first(),s.on("click","a.reply",function(s){var i=undefined,r=undefined;s.stopPropagation(),r=a.comment.user.first_name?a.comment.user.first_name:"\u0410\u043d\u043e\u043d\u0438\u043c";var l="";return l=a.comment.user.teacher?"["+r+"](/users/teachers/"+a.comment.user.id+"), ":"["+r+"](/users/"+a.comment.user.id+"), ",a.content=!1!==c.toolbar?l:"",o=n.$new(),i=e("<markdown-editor editor-is-open='true' action='reply' parent-comment='"+a.comment.id+"' ng-model='$ctrl.content' toolbar='"+c.toolbar+"'></markdown-editor>")(o),d.append(i),a.replyFormIsOpen=!0,t(function(){return d.find("textarea").focus()},100)}),s.on("click","a.edit",function(i){var r=undefined;if(i.stopPropagation(),!a.replyFormIsOpen)return a.content=a.comment.body,o=n.$new(),r=e("<markdown-editor editor-is-open='true' action='edit' parent-comment='"+a.comment.id+"' ng-model='$ctrl.content'></markdown-editor>")(o),d.append(r),s.find(".js-comment-body-content").hide(),a.dropdownMenuIsOpen=!1,a.replyFormIsOpen=!0,angular.element(document).trigger("click"),t(function(){return d.find("textarea").focus()},100)}),n.$on("comment:cancel",function(){return l(),d.empty(),s.find(".js-comment-body-content").first().show(),a.replyFormIsOpen=!1}),n.$on("comment:save",function(){return l(),d.empty(),a.replyFormIsOpen=!1}),n.$on("comment:edit",function(){return l(),d.empty(),a.replyFormIsOpen=!1,s.find(".js-comment-body-content").show(),c.socket.send({eventType:"comment:edit",data:{id:a.comment.id,body:a.comment.html}})})}}};return e.$inject=["$compile","$timeout","commentsService"],angular.module("geekbrains.comments").directive("commentDirective",e)}.call(undefined),function(){var e=function(e,t,n,s,i){var r=function(t){this.$onInit=function(){var e=globalJS.getCookie("jwt_token");return this.comments=[],this.pending=!1,this.editorContent="",this.lessonComments="Lesson"==this.commentableType||"Chapter"==this.commentableType,this.channel="/comments/"+this.commentableType+"/"+this.commentableId,this.socket=io(window.gon.settings.ws_url+"/comments?commentableType="+this.commentableType+"&commentableId="+this.commentableId+"&jwt_token="+e,{transports:["websocket"]}),this.current_user=window.CURRENT_USER||null,this.commentsUrl=s.baseAPIUrl+"/comments?commentable_type="+this.commentableType+"&commentable_id="+this.commentableId+"&order="+this.order,this.switchState="asc"===this.order,this.total=+this.totalCommentsCount},this.getComments=function(){return i.$emit("infiniteScrollDirective:getComments")},this.notifyCommentNew=function(e){return t.$emit("comment:new",e)},this.sortComments=function(){return this.order="desc"===this.order?"asc":"desc",this.pending=!0,e.query({resource:"comments",commentable_id:this.commentableId,commentable_type:this.commentableType,order:this.order}).$promise.then(function(e){return function(t){return e.comments=t,e.pending=!1,e.switchState="asc"===e.order}}(this))},this.originalUrl=function(){return window.location.href.split("#")[0]},this.increaseTotalCommentsCount=function(){return this.totalCommentsCount=+this.totalCommentsCount+1},this.decreaseTotalCommentsCount=function(){if(+this.totalCommentsCount>0)return this.totalCommentsCount=+this.totalCommentsCount-1},this.setAnswer=function(){var t=undefined;return t=arguments[0],e.setAnswer({id:t}).$promise.then(function(e){return function(){var n=undefined;return n=e.comments.findIndex(function(e){return e.comment.id===t}),e.comments[n].comment.is_answer=!0}}(this))["catch"](function(){return function(){throw new Error("Error while updating the answer.")}}())}};return r.$inject=["$scope"],{scope:{commentableId:"@",commentableType:"@",order:"@",readonly:"<",registrationPopup:"<",totalCommentsCount:"@",scrollable:"<",answersMode:"<",scrollableParentId:"@?",toolbar:"<?",showCommentDate:"<?",withLoadMoreButton:"<?"},bindToController:!0,controllerAs:"commentsCtrl",controller:r,templateUrl:"ng/comments/comments.directive.template.html",link:function(r,o,a,c){var l=undefined,d=undefined,u=undefined,m=undefined,p=undefined,h=undefined;c.pending=!0,u=null,r.$watch(function(){return c.order},function(e){return c.commentsUrl=s.baseAPIUrl+"/comments?commentable_type="+c.commentableType+"&commentable_id="+c.commentableId+"&order="+e}),p=location.hash.match(/comment-\d+$/),p?(c.singleComment=!0,c.isScrollable=!1,m=p[0].split("-")[1],e.get({id:m}).$promise.then(function(e){return e.comment&&c.comments.push(e),c.pending=!1})):c.isScrollable=c.scrollable,d=function(e){return n(function(){var t=undefined;return t=o.find("div[data-comment-id='"+e+"']"),t.css({backgroundColor:"#fff3a5"}).animate({backgroundColor:""},500)},100)},h=function(e){c.socket.send({eventType:"comment:new",data:{comment:e.comment}})},l=function(e,n){var s=undefined;if("asc"!==c.order||n||e.comment.parent_id)if("asc"===c.order&&n&&c.rootCommentsCount<=c.comments.length)t.addCommentToComments(e,c.comments,!0);else{if("asc"===c.order&&n&&c.rootCommentsCount>c.comments.length)return void c.increaseTotalCommentsCount();t.addCommentToComments(e,c.comments)}else c.sortComments(),t.addCommentToComments(e,c.comments);if(!n)return s=o.find('textarea[name="root-editor-form"]'),s.val("").trigger("change"),h(e)},c.socket.on("message",function(e){var n=undefined;switch(e.eventType){case"comment:new":return e.data.comment.can_hide=c.current_user&&c.current_user.moderator,e.data.comment.can_thank=c.current_user&&c.current_user.id!==e.data.comment.user.id,l(e.data,!0);case"comment:edit":n=t.findCommentById(e.data.id,c.comments),null!==n&&n.comment.body!==e.data.body&&(n.comment.code=e.data.body,n.comment.html=e.data.body,r.$apply());break;case"comment:like":n=t.findCommentById(e.data.id,c.comments),null!==n&&(e.data.user_id!==c.current_user.id||n.comment.is_liked||(n.comment.is_liked=!0),n.comment.likes_count+=1,r.$apply());break;case"comment:unlike":n=t.findCommentById(e.data.id,c.comments),null!==n&&n.comment.likes_count>0&&(e.data.user_id===c.current_user.id&&n.comment.is_liked&&(n.comment.is_liked=!1),n.comment.likes_count-=1,r.$apply());break;case"comment:hide":n=t.findCommentById(e.data.id,c.comments),null==n||n.comment.hidden||(n.comment.hidden=!0,n.hidden=!0,c.decreaseTotalCommentsCount(),r.$apply());break;case"comment:publish":n=t.findCommentById(e.data.id,c.comments),null!=n&&n.comment.hidden&&(n.comment.hidden=!1,c.increaseTotalCommentsCount(),r.$apply())}}),r.$on("comment:new",function(e,t){return l(t)}),r.$on("comment:like",function(e,t){c.socket.send({eventType:"comment:like",data:t})}),r.$on("comment:unlike",function(e,t){c.socket.send({eventType:"comment:unlike",data:t})}),r.$on("comment:hide",function(e,t){if(c.socket.send({eventType:"comment:hide",data:t}),c.totalCommentsCount>0)return c.totalCommentsCount-=1}),r.$on("comment:publish",function(e,t){c.socket.send({eventType:"comment:publish",data:t}),c.increaseTotalCommentsCount()}),r.$on("paginateLoad:end",function(e,t){return c.total=t.total,c.pending=!1}),i.$on("comment:added_to_collection",function(e,t){return c.increaseTotalCommentsCount(),d(t)}),o.on("click","a.toggle-comment-dropdown-menu-button",function(e){return e.stopPropagation(),u&&(u.prev().removeClass("active"),u.hide()),u=angular.element(e.currentTarget).next(),u.prev().addClass("active"),u.show()}),angular.element(document).click(function(e){if(u&&!angular.element(e.target).hasClass("no-hide"))return u.hide(),u.prev().removeClass("active")}),o.on("click",".js-fold-children",function(e){e.preventDefault(),e.stopPropagation(),angular.element(e.target).closest(".gb__comment-item").addClass("gb__comment-item_children-folded")}),o.on("click",".js-unfold-children",function(e){e.preventDefault(),e.stopPropagation(),angular.element(e.target).closest(".gb__comment-item").removeClass("gb__comment-item_children-folded")})}}};return e.$inject=["commentsService","commentsHelpers","$timeout","SETTINGS","$rootScope"],angular.module("geekbrains.comments").directive("comments",e)}.call(undefined),function(){!function(){var e;e=function(e){var t;return t=function(){},{templateUrl:"ng/comments/comment_button.directive.template.html",controller:t,controllerAs:"editCommentButtonCtrl",require:["^comments","^markdownEditor","^commentDirective"],bindToController:!0,link:function(t,n,s,i){var r,o,a;return i[0],a=i[1],r=i[2],o=function(){return e.update({id:r.comment.id,comment:{body:a.ngModel}}).$promise},n.click(function(){if(a.sendingError=!1,a.ngModel.length)return a.pending=!0,o().then(function(e){return r.comment.html=e.comment.html,r.comment.body=e.comment.body,t.$emit("comment:edit"),a.pending=!1},function(){return a.pending=!1,a.sendingError=!0})})}}},e.$inject=["commentsService"],angular.module("geekbrains.comments").directive("editCommentButton",e)}()}.call(this),function(){!function(){var e;e=function(){return{require:"ngModel",link:function(e,t,n,s){return e.$watch(function(){return s.$modelValue},function(e){var n;return t.html(e),n=t[0].querySelectorAll("code:not(.hljs)"),angular.forEach(n,function(e){return hljs.highlightBlock(e)})})}}},angular.module("geekbrains.comments").directive("highlight",e)}()}.call(this),function(){!function(){var e,t;e=function(e){this.cancel=function(){return this.editorIsOpen=!1,this.ngModel="",e.$emit("comment:cancel")}},t=function(){return{templateUrl:"ng/comments/markdown_editor.directive.template.html",controller:e,controllerAs:"markdownEditorCtrl",scope:{ngModel:"=",action:"@",parentComment:"=",buttonText:"@",placeholder:"@",editorIsOpen:"<",toolbar:"<?"},bindToController:!0,link:function(e,t,n,s){return e.$on("easymde:focused",function(){if(!s.editorIsOpen)return s.editorIsOpen=!0,e.$apply()})}}},e.$inject=["$scope"],angular.module("geekbrains.comments").directive("markdownEditor",t)}()}.call(this),function(){!function(){var e;e=function(e){return{templateUrl:"ng/comments/comment_button.directive.template.html",controller:function(){},controllerAs:"saveCommentButtonCtrl",require:["?^comments","^markdownEditor","?^commentDirective"],bindToController:!0,link:function(t,n,s,i){var r,o,a,c,l;return o=i[0],a=i[1],r=i[2],l=function(){return e.save({comment:{parent_id:a.parentComment,body:a.ngModel,commentable_id:o.commentableId,commentable_type:o.commentableType}}).$promise},c=function(){if(a.sendingError=!1,a.ngModel.length)return a.pending=!0,l().then(function(e){return o.notifyCommentNew(e),r&&t.$emit("comment:save"),a.pending=!1,a.ngModel=""},function(){return a.pending=!1,a.sendingError=!0})},n.click(function(){return c()})}}},e.$inject=["commentsService"],angular.module("geekbrains.comments").directive("saveCommentButton",e)}()}.call(this),function(){!function(){var e;e=function(e,t){return e(t.baseAPIUrl+"/:resource/:id/:method",{id:"@id",method:"@method",resource:"@resource"},{update:{method:"PUT",params:{resource:"comments"}},save:{method:"POST",params:{resource:"comments"}},complaint:{method:"POST",params:{resource:"Comment",method:"complaint"}},send_to_crm:{method:"POST",params:{resource:"comments",method:"send_to_crm"}},get:{params:{resource:"comments"}},setAnswer:{method:"POST",params:{resource:"comments",method:"set_answer"}}})},e.$inject=["$resource","SETTINGS"],angular.module("geekbrains.comments").factory("commentsService",e)}()}.call(this),function(){!function(){var e;e=function(e){return{findCommentById:function(e,t){var n,s;return n=null,s=function(e,t){var i,r,o,a;if(!n){for(a=[],i=r=0,o=t.length;0<=o?r<o:r>o;i=0<=o?++r:--r){if(t[i].comment.id===e){n=t[i];break}t[i].comment.children.length?a.push(s(e,t[i].comment.children)):a.push(void 0)}return a}},s(e,t),n},addCommentToComments:function(t,n,s){var i;return t.comment.parent_id?(i=this.findCommentById(t.comment.parent_id,n))?(i.comment.children.push({comment:t.comment}),e.$emit("comment:added_to_collection",t.comment.id)):void 0:(s?n.push({comment:t.comment}):n.unshift({comment:t.comment}),e.$emit("comment:added_to_collection",t.comment.id))}}},e.$inject=["$rootScope"],angular.module("geekbrains.comments").factory("commentsHelpers",e)}()}.call(this),function(){!function(){var e,t,n;e=function(e,t){return e.defaults.headers.common["X-CSRF-TOKEN"]=$('meta[name="csrf-token"]').attr("content"),t.debugInfoEnabled(!1),t.commentDirectivesEnabled(!1),t.cssClassDirectivesEnabled(!1)},e.$inject=["$httpProvider","$compileProvider","$sceDelegateProvider"],n={baseAPIUrl:window._&&window._.get(window,"gon.settings.api_path")||"/api/v2"},t=["ngSanitize","markdown","ngResource","templates","geekbrains.services"],angular.module("geekbrains.feedbacks",t).config(e).constant("SETTINGS",n)}()}.call(this),function(){!function(){var e,t;t=function(){},e={controller:t,templateUrl:"ng/feedbacks/feedback.component.template.html",bindings:{feedback:"<",mentorId:"<?",compact:"<?",skipRecent:"<?"}},angular.module("geekbrains.feedbacks").component("feedback",e)}()}.call(this),function(){!function(){var e,t;t=function(e,t,n,s){this.$onInit=function(){return this.API_URL=t.baseAPIUrl+"/feedbacks?",this.feedbackableType&&(this.API_URL+="&feedbackable_type="+this.feedbackableType),this.feedbackableId&&(this.API_URL+="&feedbackable_id="+this.feedbackableId),this.mentorId&&(this.API_URL+="&mentor_id="+this.mentorId),this.skipRecent&&(this.API_URL+="&skip_recent="+this.skipRecent),"boolean"==typeof this.onlyPublished&&(this.API_URL+="&only_published="+this.onlyPublished),"boolean"==typeof this.onlyAccountedInRating&&(this.API_URL+="&only_accounted_in_rating="+this.onlyAccountedInRating),this.gbHelpers=s,this.feedbacks=[],this.perPage=this.perPage||10,this.getFeedbacks()},this.getFeedbacks=function(){var t;if(!this.pending)return this.pending=!0,t="Landing::FacultyDecorator"===this.feedbackableType?this.feedbacks.length+"-2":this.feedbacks.length+"-"+(this.feedbacks.length+this.perPage-1),n.get(this.API_URL,t).then(function(t){return function(s){return t.total=+s.headers("content-count"),t.feedbacks=n.concat(t.feedbacks,s.data,"feedback.id"),t.pending=!1,e.$broadcast("feedbacks:count",t.total)}}(this),function(){return this.pending=!1})}},e={controller:t,bindings:{feedbackableId:"@",feedbackableType:"@",mentorId:"<?",perPage:"<?",compact:"<?",skipRecent:"<?",onlyPublished:"<?",onlyAccountedInRating:"<?"},templateUrl:"ng/feedbacks/feedbacks.component.template.html"},t.$inject=["$rootScope","SETTINGS","rangedCollectionService","geekbrainsHelpers"],angular.module("geekbrains.feedbacks").component("feedbacks",e)}()}.call(this),function(){!function(){var e;e=function(e){return{templateUrl:"ng/feedbacks/feedbacks_chart.directive.template.html",link:function(t,n){return n.hide(),t.$on("feedbacks:count",function(s,i){if(i)return t.count=i,t.noun=e.getNoun(i,"\u043e\u0442\u0437\u044b\u0432","\u043e\u0442\u0437\u044b\u0432\u0430","\u043e\u0442\u0437\u044b\u0432\u043e\u0432"),n.show()})}}},e.$inject=["geekbrainsHelpers"],angular.module("geekbrains.feedbacks").directive("feedbacksCount",e)}()}.call(this),function(){!function(){var e;e=function(){return function(e,t){if(e||t)return e.split(t).join("<br />")}},angular.module("geekbrains.filters").filter("breakAfterSymbol",e)}()}.call(this),function(){!function(){var e,t,n,s;t=function(){return function(e,t,n){var s;return s=moment(e).locale("ru"),n?s.from(n,t):s.fromNow(t)}},e=function(){return function(e){return moment(e).calendar(null,{sameDay:"HH:mm",nextDay:"[Tomorrow]",nextWeek:"dddd",lastDay:"\u0412\u0447\u0435\u0440\u0430 \u0432 HH:mm",lastWeek:"DD.MM.YYYY \u0432 HH:mm",sameElse:"DD.MM.YYYY \u0432 HH:mm"})}},n=function(){return function(e,t,n){return moment(e).locale("ru").from(moment(t),n)}},s=function(){return function(e){if(e)return new Date(e).toLocaleString()}},angular.module("geekbrains.filters").filter("formatDate",t).filter("formatDateDiff",n).filter("toLocaleString",s).filter("formatDataHoursMinutes",e)}()}.call(this),function(){!function(){var e;e=function(){return function(e,t){if(e)return e=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t?e+"&nbsp;<span class='filter-addition'>"+t+"</span>":e}},angular.module("geekbrains.filters").filter("delimit",e)}()}.call(this),function(){!function(){var e;e=function(){return function(e,t){var n;if(e)return isNaN(t)&&(t=10),void 0===n&&(n="..."),e.length<=t||e.length-n.length<=t?e:String(e).substring(0,t-n.length)+n}},angular.module("geekbrains.filters").filter("truncate",e)}()}.call(this),function(){!function(){var e,t;e=function(e,t,n){this.$onInit=function(){return this.ngModel=this.comment||"",this.editorIsOpen=!1,t.getLesson({lessonId:this.lessonId}).$promise.then(function(e){return function(t){if(null!=t.lesson)return e.lesson=t.lesson}}(this)),n.getCurrentUser().then(function(e){return function(t){var n;if(null!=(null!=(n=t.data)?n.user:void 0))return e.user=t.data.user}}(this)),e.$on("easymde:focused",function(t){return function(){if(!t.editorIsOpen)return t.editorIsOpen=!0,e.$apply()}}(this))},this.cancel=function(){return this.editingComment=this.editorIsOpen=!1,this.ngModel=""},this.saveComment=function(){return this.pending=!0,t.updateTeacherNotice({lessonId:+this.lessonId,data:{content:this.ngModel}}).$promise.then(function(e){return function(t){if(null!=t.lesson)return e.lesson=t.lesson,e.pending=!1,e.editingComment=e.editorIsOpen=!1,e.ngModel=""}}(this),function(e){return function(){return e.sendingError=!0}}(this))},this.editComment=function(){return this.editingComment=this.editorIsOpen=!0,this.ngModel=this.lesson.content}},t={controller:e,templateUrl:"ng/learning/content.template.html",bindings:{lessonId:"<"}},e.$inject=["$scope","learningResource","usersService"],angular.module("geekbrains.learning").component("teacherNotice",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t,n,s,i,r){this.$onInit=function(){return this.url=s.baseAPIUrl+"/lessons/"+this.lessonId+"/homeworks",this.homework={},this.timeOut=!1,this.extendDeadline=!1,i.getCurrentUser().then(function(e){return function(t){var n;if(null!=(null!=(n=t.data)?n.user:void 0))return e.currentUser=t.data.user}}(this)),e.getLesson({lessonId:this.lessonId}).$promise.then(function(t){return function(s){return t.lesson=s.lesson,t.deadline=t.lesson.homework_deadline,e.getHomeworks({lessonId:t.lessonId}).$promise.then(function(e){var s;if(e.length&&null!=e[0].homework&&(t.homework=e[0].homework),!1!==t.lesson.can_upload_homework||(null!=(s=t.homework)?s.show_score:void 0)||(t.timeOut=!0,!0===t.lesson.can_extend_homework_deadline&&(t.extendDeadline=!0,t.extendHomeworkDate=t.lesson.extend_homework_date)),t.lesson.can_upload_homework&&(!t.homework.state||"pending"===t.homework.state||"new"===t.homework.state||"failed"===t.homework.state))return r(function(e){return n.find(".droplet").append(e)})},function(e){return t.error=e})}}(this),function(){throw"Cannot load the lesson"}),t.$on("uploader:onUploadFile",function(e){return function(t,n){if(null!=n.homework)return e.homework=n.homework}}(this))},this.updateComment=function(e){var t;if(null!=(null!=(t=e.data)?t.homework:void 0))return this.homework=e.data.homework},this.removeAttachment=function(t){return e.removeAttachment({lessonId:this.lessonId,homeworkId:this.homework.id,attachment_id:t.id}).$promise.then(function(e){return function(){var n;return n=e.homework.attachments.indexOf(t),e.homework.attachments.splice(n,1)}}(this))},this.onChangeToAttachment=function(){return this.iDontKnowGit=!0},this.onChangeToAttachmentOnFalse=function(){return this.iDontKnowGit=!1},this.extendingHomeworkDeadline=function(){return e.extendHomeworkDeadline({lessonId:this.lessonId,homeworkId:this.homework.id}).$promise.then(function(){return function(){return window.location.reload()}}())}},t={controller:e,templateUrl:"ng/learning/homework.template.html",transclude:!0,bindings:{lessonId:"@"}},e.$inject=["learningResource","$scope","$element","SETTINGS","usersService","$transclude","chatMessagesService"],angular.module("geekbrains.learning").component("homework",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t){this.$onInit=function(){var t,n;return this.ngModel=this.comment||"",this.pullRequest="",this.editorIsOpen=!1,e.$on("easymde:focused",function(t){return function(){if(!t.editorIsOpen)return t.editorIsOpen=!0,e.$apply()}}(this)),n=e.$watch(function(e){return function(){return e.homeworkCtrl.homework.pull_request}}(this),function(e){return function(t,s){if(t!==s)return e.pullRequest=t,n()}}(this)),t=e.$watch(function(e){return function(){var t;return null!=(t=e.homeworkCtrl.lesson)?t.homework_kind:void 0}}(this),function(e){return function(n,s){if(n&&n!==s)return e.editorIsOpen="attachment"===n,t()}}(this))},this.cancel=function(){return this.editingComment=this.editorIsOpen=!1,this.ngModel=""},this.savePullRequest=function(){var e,n;if(this.pullRequest)return this.pendingPR=!0,n=this.pullRequest?[this.pullRequest]:[],e=this.homeworkCtrl.homework.id?t.updateHomework({lessonId:+this.homeworkCtrl.lessonId,homeworkId:this.homeworkCtrl.homework.id,data:{pull_requests:n}}):t.createHomework({lessonId:+this.homeworkCtrl.lessonId,data:{pull_requests:n}}),e.$promise.then(function(e){return function(){return e.pendingPR=!1,e.homeworkCtrl.homework.pull_request=e.pullRequest}}(this))},this.saveComment=function(){var e;return this.pending=!0,e=this.homeworkCtrl.homework.id?t.updateHomework({lessonId:+this.homeworkCtrl.lessonId,homeworkId:this.homeworkCtrl.homework.id,data:{user_comment:this.ngModel}}):t.createHomework({lessonId:+this.homeworkCtrl.lessonId,data:{user_comment:this.ngModel}}),e.$promise.then(function(e){return function(t){return e.onCommentUpdate({$event:{data:t}}),e.pending=!1,e.editingComment=e.editorIsOpen=!1,e.ngModel=""}}(this))},this.editComment=function(){if(this.isEditable())return this.editingComment=this.editorIsOpen=!0,this.ngModel=this.comment},this.isEditable=function(){return!!this.homeworkCtrl.lesson.can_upload_homework&&!!(this.homeworkCtrl.homework.state&&["new","pending","failed"].indexOf(this.homeworkCtrl.homework.state)>-1)},this.changeToAttachment=function(){return this.iDontKnowGit=!0,this.onChangeToAttachment()},this.changeToAttachmentOnFalse=function(){return this.iDontKnowGit=!1,this.onChangeToAttachmentOnFalse()}},t={controller:e,templateUrl:"ng/learning/homework_comment.template.html",require:{homeworkCtrl:"^^homework"},bindings:{comment:"<",onCommentUpdate:"&?",onChangeToAttachment:"&",onChangeToAttachmentOnFalse:"&",user:"<"}},e.$inject=["$scope","learningResource"],angular.module("geekbrains.learning").component("homeworkComment",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t,n,s,i,r){this.$onInit=function(){return this.missedDeadlineHomeworkStudentsUrl=r.baseAPIUrl+"/lessons/"+this.lessonId+"/homework_deadline_issues",this.pendingStudentsUrl=this.missedDeadlineHomeworkStudentsUrl+"?state=pending",this.checkedStudentsUrl=this.missedDeadlineHomeworkStudentsUrl+"?state=resolved",this.studentsScrollableList="students-scrollable-list",this.showPendingList=!0,this.pendingStudents=[],this.checkedStudents=[],this.missedDeadlineStudents=[],this.lesson={},this.ngComment=this.comment||"",this.editorIsOpen=!1,e.$on("easymde:focused",function(t){return function(){if(!t.editorIsOpen)return t.editorIsOpen=!0,e.$apply()}}(this)),e.$watch(function(e){return function(){return e.selectedStudent}}(this),function(e){return function(t,n){if(t!==n)return e.editorIsOpen=!1,e.ngComment=""}}(this)),e.$on("paginateLoad:end",function(e){return function(t,n){return e.perPage=n.perPage,"pending"===n.id?e.pendingTotal=n.total:"checked"===n.id&&(null!=e.checkedTotal&&e.checkedTotal!==n.total&&e.pendingTotal>0&&(e.pendingTotal-=1),e.checkedTotal=n.total),e.pendingStudents.length||e.checkedStudents.length||e.missedDeadlineStudents?e.messageForTeacher="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u043b\u0435\u0432\u0430 \u0438 \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0443 \u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441 \u043d\u0438\u043c":e.messageForTeacher="\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0441\u0440\u043e\u0447\u0438\u043b\u0438 \u0441\u0434\u0430\u0447\u0443 \u0414\u0417"}}(this)),n.getLesson({lessonId:this.lessonId}).$promise.then(function(e){return function(t){if(null!=t.lesson)return e.lesson=t.lesson,e.teacherContentCopy=e.lesson.homework_description}}(this)),s.getCurrentUser().then(function(e){return function(t){var n;if(null!=(null!=(n=t.data)?n.user:void 0))return e.user=t.data.user}}(this))},this.contentIsOpen=function(){return!$.cookie("contentIsClosed_"+this.lessonId)},this.closeContent=function(){return $.cookie("contentIsClosed_"+this.lessonId,!0)},this.openContent=function(){return $.removeCookie("contentIsClosed_"+this.lessonId)},this.selectStudent=function(e){if(e.state)return this.selectedStudent=e},this.cancel=function(){return this.editingComment=this.editorIsOpen=!1,this.ngComment=""},this.saveHomeworkDeadlineIssueComment=function(){var e,s;return this.pendingComment=!0,s=!1,"pending"===(null!=(e=this.selectedStudent)?e.state:void 0)&&(s=!0),n.updateHomeworkDeadlineIssueComment({lessonId:+this.lessonId,studentId:this.selectedStudent.id,data:{mentor_comment:this.ngComment,resolve:s}}).$promise.then(function(e){return function(n){var s;if(null!=n.homework_deadline_issue)return n.homework_deadline_issue.resolved_at&&n.status&&"ok"===n.status&&(e.selectedStudent.state="checked"),e.selectedStudent.mentor_comment_html=n.homework_deadline_issue.mentor_comment_html,e.selectedStudent.mentor_comment=n.homework_deadline_issue.mentor_comment,e.selectedStudent.state=n.homework_deadline_issue.state,e.pendingComment=!1,e.editingComment=e.editorIsOpen=!1,e.ngComment="",s=i.defer(),e.pendingStudents.length,e.checkedTotal,s.resolve(t.$emit("infiniteScrollDirective:clearAndLoad",{id:"missed-deadline-checked"}),angular.forEach(e.pendingStudents,function(t,s){if(n.student.id===t.student.id)return e.pendingStudents=e.pendingStudents.slice(0,s).concat(e.pendingStudents.slice(s+1))}),"number"==typeof e.perPage&&e.pendingStudents.length<e.perPage?t.$emit("infiniteScrollDirective:getItems",{id:"missed-deadline-checked"}):void 0,e.messageForTeacher="\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),s.promise}}(this))},this.editComment=function(){return this.editingComment=this.editorIsOpen=!0,this.ngComment=this.selectedStudent.mentor_comment}},t={controller:e,templateUrl:"ng/learning/homework_deadline_issue_students.template.html",bindings:{lessonId:"@",scrollableParent:"@",isTeacher:"<"}},e.$inject=["$scope","$rootScope","learningResource","usersService","$q","SETTINGS"],angular.module("geekbrains.learning").component("homeworkDeadlineIssueStudents",t)}()}.call(this),function(){!function(){var e,t;e=function(e){this.$onInit=function(){return e.$on("easymde:focused",function(t){return function(){if(!t.editorIsOpen)return t.editorIsOpen=!0,e.$apply()}}(this))},this.cancel=function(){return this.homeworksCtrl.cancelAddition()},this.save=function(){return this.onSave({$event:{content:this.ngModel}})}},t={controller:e,templateUrl:"ng/learning/homework_description_editor.template.html",bindings:{onSave:"&",content:"<",ngModel:"="},require:{homeworksCtrl:"^^teacherHomeworks"}},e.$inject=["$scope","$element","$attrs"],angular.module("geekbrains").component("teacherContentEditor",t)}()}.call(this),function(){!function(){var e,t;e=function(){this.getIconClass=function(e){return"icon-"+e.asset.asset_type},this.addLink=function(){return this.onAddLink({$event:{url:this.linkUrl,title:this.linkTitle}}).then(function(e){return function(){return e.linkUrl="",e.linkTitle=""}}(this),function(e){return function(){return e.addLinkError="\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}}(this))},this.sortAssets=function(e){return"link"===e.asset.asset_type?0:1}},t={controller:e,bindings:{assets:"<",onDelete:"&",onAddLink:"&",isTeacher:"<?"},templateUrl:"ng/learning/lesson_assets_list.template.html"},angular.module("geekbrains.learning").component("lessonAssetsList",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t){this.$onInit=function(){return this.ngModel=this.comment||"",this.editorIsOpen=!1,e.$on("easymde:focused",function(t){return function(){if(!t.editorIsOpen)return t.editorIsOpen=!0,e.$apply()}}(this)),e.$watch(function(e){return function(){return e.homework}}(this),function(e){return function(t,n){if(t!==n)return e.editorIsOpen=!1,e.ngModel=""}}(this))},this.cancel=function(){return this.editingComment=this.editorIsOpen=!1,this.ngModel=""},this.saveComment=function(){return this.pending=!0,t.updateMentorComment({lessonId:+this.lessonId,homeworkId:this.homework.id,data:{mentor_comment:this.ngModel}}).$promise.then(function(e){return function(t){if(null!=t.homework)return e.homework.mentor_comment_html=t.homework.mentor_comment_html,e.homework.mentor_comment=t.homework.mentor_comment,e.pending=!1,e.editingComment=e.editorIsOpen=!1,e.ngModel=""}}(this))},this.editComment=function(){return this.editingComment=this.editorIsOpen=!0,this.ngModel=this.homework.mentor_comment}},t={templateUrl:"ng/learning/mentor_comment.template.html",controller:e,bindings:{homework:"<",user:"<",lessonId:"<"}},e.$inject=["$scope","learningResource"],angular.module("geekbrains.learning").component("mentorComment",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t){this.$onInit=function(){return this.ngModel=this.studentsDescriptionContent||"",this.editorIsOpen=!1,t.getLesson({lessonId:this.lessonId}).$promise.then(function(e){return function(t){if(null!=t.lesson)return e.lesson=t.lesson}}(this)),e.$on("easymde:focused",function(t){return function(){if(!t.editorIsOpen)return t.editorIsOpen=!0,e.$apply()}}(this))},this.cancel=function(){return this.editingStudentsDescriptionContent=this.editorIsOpen=!1,this.ngModel=""},this.saveStudentsDescriptionContent=function(){return this.pending=!0,t.updateStudentsDescription({lessonId:+this.lessonId,data:{students_description:this.ngModel}}).$promise.then(function(e){return function(t){if(null!=t.lesson)return e.lesson=t.lesson,e.pending=!1,e.editingStudentsDescriptionContent=e.editorIsOpen=!1,e.ngModel=""}}(this),function(e){return function(){return e.sendingError=!0}}(this))},this.editStudentsDescriptionContent=function(){return this.editingStudentsDescriptionContent=this.editorIsOpen=!0,
this.ngModel=this.lesson.students_description}},t={controller:e,templateUrl:"ng/learning/students_description.template.html",bindings:{lessonId:"<"}},e.$inject=["$scope","learningResource","usersService"],angular.module("geekbrains.learning").component("studentsDescription",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t,n,s){this.$onInit=function(){return s.getLessonAssets({lessonId:this.lessonId}).$promise.then(function(e){return function(t){return e.assets=t}}(this))},this.addLink=function(e){if(e&&e.url)return s.addLessonLink({lessonId:this.lessonId}).$promise.then(function(e){return function(t){var n;if(null!=(null!=(n=t.lesson)?n.links:void 0))return e.links=t.lisson.links}}(this))},this.removeLink=function(e){if(e&&e.linkId)return s.removeLessonLink({lessonId:this.lessonId,data:{link_id:e.linkId}}).$promise.then(function(t){return function(){return t.links=t.links.filter(function(t){return t.id!==e.linkId})}}(this))},this.removeAsset=function(e){if(e&&e.assetId)return s.removeLessonAsset({lessonId:this.lessonId,assetId:e.assetId}).$promise.then(function(t){return function(n){if("ok"===n.status)return t.assets=t.assets.filter(function(t){return t.asset.id!==e.assetId})}}(this))},this.addLink=function(e){var t;if(e&&e.url)return t=s.createLessonAsset({lessonId:this.lessonId,data:{title:e.title,content:e.url}}).$promise,t.then(function(e){return function(t){if(null!=t.asset)return e.assets.push(t)}}(this)),t},e.$on("uploader:onUploadFile",function(e){return function(t,n){if(null!=n.asset)return e.assets.push(n)}}(this))},t={controller:e,templateUrl:"ng/learning/teacher_assets.template.html",transclude:!0,bindings:{lessonId:"@",isTeacher:"<?"}},e.$inject=["$scope","$element","$attrs","learningResource"],angular.module("geekbrains").component("teacherAssets",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t,n,s,i,r,o){this.$onInit=function(){return this.baseHomeworksUrl=o.baseAPIUrl+"/lessons/"+this.lessonId+"/homeworks",this.examinedHomeworksUrl=this.baseHomeworksUrl+"?scope=examined",this.pendingHomeworksUrl=this.baseHomeworksUrl+"?scope=pending",this.homeworksScrollableList="homeworks-scrollable-list",this.isAddingHomeworkDescription=!1,this.searchHomeworksModel="",this.showPendingList=!0,this.examinedHomeworks=[],this.pendingHomeworks=[],this.mentorHomeworks=[],this.lesson={},this.selectedHomework=null,this.checkerLoaded=!1,this.updateHomeWorkList=!1,this.errorMessageHomeWork="",this.errorHasButton=!1,this.homeworkRedirect={},e.$on("uploader:onUploadFile",function(e){return function(t,n){var s;return e.selectedHomework.teacher_attachments=null!=(s=n.homework)?s.teacher_attachments:void 0}}(this)),e.$on("paginateLoad:end",function(e){return function(t,n){return e.perPage=n.perPage,"pending"===n.id?(i.checkShowActiveTabFilter(n.collections).length&&(e.showPendingList=!0),e.pendingTotal=n.total):"examined"===n.id&&(i.checkShowActiveTabFilter(n.collections).length&&(e.showPendingList=!1),null!=e.examinedTotal&&e.examinedTotal!==n.total&&e.pendingTotal>0&&(e.pendingTotal-=1),e.examinedTotal=n.total),e.pendingHomeworks.length||e.examinedHomeworks.length||e.mentorHomeworks?(e.messageForTeacher="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",angular.forEach(e.pendingHomeworks,function(e){if(e.homework.current_homework)return $("#"+e.homework.id).click()})):e.messageForTeacher="\u041f\u043e\u043a\u0430 \u043d\u0435 \u0441\u0434\u0430\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}}(this)),n.getLesson({lessonId:this.lessonId}).$promise.then(function(e){return function(t){if(null!=t.lesson)return e.lesson=t.lesson,e.teacherContentCopy=e.lesson.homework_description}}(this)),s.getCurrentUser().then(function(e){return function(t){var n;if(null!=(null!=(n=t.data)?n.user:void 0))return e.user=t.data.user}}(this))},this.contentIsOpen=function(){return!$.cookie("contentIsClosed_"+this.lessonId)},this.closeContent=function(){return $.cookie("contentIsClosed_"+this.lessonId,!0)},this.openContent=function(){return $.removeCookie("contentIsClosed_"+this.lessonId)},this.removeAttachmentNew=function(e){return n.removeAttachmentNew({lessonId:this.lessonId,homeworkId:this.selectedHomework.id,attachment_id:e.id}).$promise.then(function(t){return function(){var n;return n=t.selectedHomework.teacher_attachments.indexOf(e),t.selectedHomework.teacher_attachments.splice(n,1)}}(this))},this.addHomeworkDescription=function(){return this.isAddingHomeworkDescription=!0},this.cancelAddition=function(){return this.isAddingHomeworkDescription=!1},this.saveHomeworkDescription=function(e){if(e.content)return n.updateHomeworkDescription({lessonId:this.lessonId,data:{homework_description:e.content}}).$promise.then(function(e){return function(t){if(null!=t.lesson)return e.lesson=t.lesson,e.isAddingHomeworkDescription=!1}}(this))},this.clearHomeWorkMeta=function(){return this.updateHomeWorkList=!1,this.errorMessageHomeWork="",this.checkerLoaded=!1},this.goToHomework=function(){return document.getElementById(this.homeworkRedirect.id)?(this.changeList(!0),$("#"+this.homeworkRedirect.id).click()):document.location.href="/teacher/lessons/"+this.homeworkRedirect.lesson_id+"?homework="+this.homeworkRedirect.id+"&tab=homeworks#!#homeworks"},this.selectHomework=function(e){var t;if(this.clearHomeWorkMeta(),i.passedViewHomeWork(this.lessonId,e.id),n.checkHomeWork({lessonId:this.lessonId,homeworkId:e.id}).$promise.then(function(e){return function(t){var n,s,i,r;return e.updateHomeWorkList=null!=t&&null!=(n=t.homework)?n.redirect_to_list:void 0,e.errorMessageHomeWork=(null!=t&&null!=(s=t.homework)?s.message:void 0)||"",e.errorMessageHomeWork.includes("\u0414\u0417")?(e.errorHasButton=!0,e.homeworkRedirect.lesson_id=null!=t&&null!=(i=t.homework)?i.lesson_id:void 0,e.homeworkRedirect.id=null!=t&&null!=(r=t.homework)?r.id:void 0):(e.homeworkRedirect={},e.errorHasButton=!1),e.checkerLoaded=!0}}(this)),e.state)return this.selectedHomework=e,this.deadline=moment(this.selectedHomework.teacher_deadline).tz(this.lesson.user_time_zone_name).format("DD.MM.YYYY HH:mm z"),this.isTeacher&&"pending"===(null!=(t=this.selectedHomework)?t.state:void 0)?n.examineHomework({lessonId:this.lessonId,homeworkId:this.selectedHomework.id}).$promise.then(function(e){return function(t){if(t.status&&"ok"===t.status)return e.selectedHomework.state="examining"}}(this)):void 0},this.rateHomework=function(e){var s;if(null!=(null!=e?e.homework:void 0)&&null!=e.score)return s=e.homework,n.rateHomework({lessonId:+this.lessonId,homeworkId:s.id,data:{teacher_score:e.score,teacher_comment:e.teacher_comment}}).$promise.then(function(e){return function(n){var s;if(null!=n.homework)return s=r.defer(),e.pendingHomeworks.length,e.examinedTotal,s.resolve(t.$emit("infiniteScrollDirective:clearAndLoad",{id:"examined"}),angular.forEach(e.pendingHomeworks,function(t,s){if(n.homework.id===t.homework.id)return e.pendingHomeworks=e.pendingHomeworks.slice(0,s).concat(e.pendingHomeworks.slice(s+1))}),"number"==typeof e.perPage&&e.pendingHomeworks.length<e.perPage?t.$emit("infiniteScrollDirective:getItems",{id:"pending"}):void 0,e.selectedHomework=null,e.messageForTeacher="\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",e.searchingHomeworks?e.clearSearch():void 0),document.referrer.match(/\?tab=homeworks-tab/)&&(window.location.href="/teacher?tab=homeworks-tab#homeworks-tab"),s.promise}}(this))},this.changeList=function(e){if(this.showPendingList!==e)return this.showPendingList=e,this.errorMessageHomeWork="",this.selectedHomework=null,this.messageForTeacher="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"},this.onSearchFormBlur=function(){if(0===this.searchHomeworksModel.trim().length)return this.searchingHomeworks=!1},this.clearSearch=function(){return this.searchHomeworksModel="",this.searchingHomeworks=!1,this.foundHomeworks=null,this.selectedHomework=null},this.updateHomeworks=function(){var e;return e="pending",n.getHomeworks({lessonId:this.lessonId,scope:e}).$promise.then(function(e){return function(t){return e.pendingHomeworks=t,e.selectedHomework=null}}(this)),e="examined",n.getHomeworks({lessonId:this.lessonId,scope:e}).$promise.then(function(e){return function(t){return e.examinedHomeworks=t}}(this))},this.searchHomeworks=function(){var e;return this.searchHomeworksModel.trim().length>=3?(this.requestingHomeworks=!0,e=null,e=this.showPendingList?"pending":"examined",n.getHomeworks({lessonId:this.lessonId,q:this.searchHomeworksModel.trim(),scope:e}).$promise.then(function(e){return function(t){return e.foundHomeworks=t,e.requestingHomeworks=!1}}(this))):this.foundHomeworks=null}},t={controller:e,templateUrl:"ng/learning/teacher_homeworks.template.html",bindings:{lessonId:"@",scrollableParent:"@",isTeacher:"<"}},e.$inject=["$scope","$rootScope","learningResource","usersService","teacherService","$q","SETTINGS"],angular.module("geekbrains.learning").component("teacherHomeworks",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t,n){this.$onInit=function(){return this.ngModel="",this.editorIsOpen=!1,e.$on("easymde:focused",function(t){return function(){if(!t.editorIsOpen)return t.editorIsOpen=!0,e.$apply()}}(this)),$("body").click(function(t){return function(s){var i,r;if(!$(s.target).data("propagate")){for(i=s.currentTarget,r=s.target;r!==i;){if(r===n[0])return s.preventDefault(),!1;if(!r.parentNode)return;r=r.parentNode}return t.editingComment=t.editorIsOpen=!1,e.$apply()}}}(this))},this.$onChanges=function(e){var t,n;if(t=e.homework,t&&t.currentValue&&t.currentValue.teacher_comment!==(null!=(n=t.previousValue)?n.teacher_comment:void 0)&&(this.ngModel=t.currentValue.teacher_comment),t&&!t.currentValue)return this.ngModel=""},this.editComment=function(){return this.editingComment=this.editorIsOpen=!0,this.ngModel=this.homework.teacher_comment},this.score=function(e){if("number"==typeof e&&(this.homework.teacher_comment!==this.ngModel||this.homework.teacher_score!==e))return this.onScore({$event:{homework:this.homework,score:e,teacher_comment:this.ngModel}}).then(function(e){return function(){return e.editingComment=e.editorIsOpen=!1}}(this))}},t={controller:e,templateUrl:"ng/learning/teacher_review.template.html",bindings:{homework:"<",user:"<",onScore:"&",lesson:"<"}},e.$inject=["$scope","$document","$element"],angular.module("geekbrains.learning").component("teacherReview",t)}()}.call(this),function(){!function(){var e;e=function(){return{scope:{observable:"<"},link:function(e,t){return e.$watch(function(){return e.observable},function(e){if(null!=e&&e)return setTimeout(function(){return t.find("textarea").focus()},0)})}}},angular.module("geekbrains.learning").directive("focusOnEdit",e)}()}.call(this),function(){!function(){var e;e=function(e,t){var n,s,i,r,o,a,c,l;return s=t.baseAPIUrl+"/lessons/:lessonId",a=s+"/homeworks/:homeworkId/:action",c=s+"/homeworks/:homeworkId/:action?attachment_id=:attachment_id",n=s+"/assets/:assetId/:action",l=s+"/teacher_staff/:action",o=s+"/homework_deadline_issues/:studentId/:action",r=s+"/extend_homework_deadline",i=s+"/homeworks/:homeworkId",e(s+"/:action",{lessonId:"@lessonId",action:"@action"},{getLesson:{cache:!0},getLessonAssets:{url:n,isArray:!0},updateStudentsDescription:{method:"PUT",url:l,params:{action:"students_description"}},createLessonAsset:{url:n,method:"POST"},removeLessonAsset:{url:n,method:"DELETE"},getHomeworks:{url:a,isArray:!0,method:"GET",params:{homeworkId:"@homeworkId"}},getPendingHomeworks:{url:a,isArray:!0,method:"GET",params:{scope:"pending"}},getExaminedHomeworks:{url:a,isArray:!0,method:"GET",params:{scope:"examined"}},createHomework:{url:a,method:"POST"},updateHomework:{url:a,method:"POST"},rateHomework:{url:a,method:"PUT",params:{action:"rate",homeworkId:"@homeworkId"}},removeAttachmentNew:{url:c,method:"DELETE",params:{action:"teacher_attachments",homeworkId:"@homeworkId"}},removeAttachment:{url:a,method:"DELETE",params:{homeworkId:"@homeworkId",action:"attachments"}},examineHomework:{url:a,method:"PUT",params:{action:"examine",homeworkId:"@homeworkId"}},updateHomeworkDeadlineIssueComment:{method:"PUT",url:o,params:{studentId:"@studentId"}},updateTeacherNotice:{method:"PUT",url:l,params:{action:"content"}},updateMentorComment:{method:"PUT",url:a,params:{action:"mentor_comment",homeworkId:"@homeworkId"}},updateHomeworkDescription:{method:"PUT",url:l,params:{action:"homework_description"}},extendHomeworkDeadline:{method:"POST",url:r},checkHomeWork:{method:"GET",url:i}})},e.$inject=["$resource","SETTINGS"],angular.module("geekbrains.learning").factory("learningResource",e)}()}.call(this),function(){!function(){var e;e=function(e,t,n){var s;if(window.CURRENT_USER)return s=function(){this.currentUser=window.CURRENT_USER,this.socket=io(window.gon.settings.ws_url+"/notifications?jwt_token="+globalJS.getCookie("jwt_token"),{transports:["websocket"]})},{controller:s,controllerAs:"noticesListCtrl",bindToController:!0,templateUrl:"ng/notices/notices_list.directive.template.html",replace:!0,scope:{accepted:"=",scrollable:"=",perPage:"=",scrollableId:"@?",url:"@"},link:function(t,s,i,r){var o,a,c,l;return r.perPage=r.perPage||10,r.notices=[],c=t.$watch(function(){return r.scrollable},function(e){if(void 0!==e&&c(),!0===e)return s=document.getElementById(r.scrollableId),s.addEventListener("scroll",window._.throttle(a,500)),o()}),o=function(){var e;return r.pending=!0,e=r.notices.length+"-"+(r.notices.length+r.perPage-1),n.get(r.url,e).then(function(e){return r.notices=n.concat(r.notices,e.data,"notice.id")})["finally"](function(){return r.pending=!1})},a=function(){if(s.offsetHeight+s.scrollTop>s.scrollHeight-100)return o()},e.count().then(function(e){return r.total=e.data}),l=function(e){var t,n;if("Notification"in window)return"granted"!==(n=Notification.permission)&&"denied"!==n&&Notification.requestPermission(),"granted"===Notification.permission&&(t=new Notification(e.title,e),e.url)?t.onclick=function(){return window.location.href=e.url}:void 0},r.socket.on("message",function(t){if(null!=t.eventType&&t.notice_id&&r.currentUser)return e.getNotice(t.notice_id).then(function(e){return r.notices.unshift({notice:e.data.notice}),r.total+=1,l({title:e.data.notice.title||"GeekBrains",body:e.data.notice.message,icon:e.data.notice.picture,url:e.data.notice.url}),angular.element(".js-notices-counter").removeClass("hidden").text(r.total)})}),s.on("click","a.later",function(e){return e.stopPropagation(),"function"==typeof $.cookie&&$.cookie("sms_settings_accepted",1,{expires:365}),$(".settings-notice").remove()}),window.addEventListener("noticeMenuHide",function(){return r.total=0,t.$apply(),e.updateLastWatched()})}}},e.$inject=["noticesService","$log","rangedCollectionService"],angular.module("geekbrains.notices").directive("noticesList",e)}()}.call(this),function(){!function(){var e;e=function(e,t){return{getNotice:function(n){return e.get("/api/v2/notices/"+n).then(function(e){return e})["catch"](function(e){return t.error("Get notice failed "+e.data)})},readNotice:function(n){return e.post("/api/v2/notices/"+n+"/read").then(function(e){return e})["catch"](function(e){return t.error("Read notice failed "+e.data)})},readAll:function(){return e.post("/api/v2/notices/read").then(function(e){return e})["catch"](function(e){return t.error("Read notices failed "+e.data)})},count:function(){return e.get("/api/v2/notices/count").then(function(e){return e})["catch"](function(e){return t.error("Get count failed "+e.data)})},updateLastWatched:function(){return e.get("/api/v2/notices/update_last_watched").then(function(e){return e})["catch"](function(e){return t.error("Update last watched_at failed"+e.data)})}}},e.$inject=["$http","$log"],angular.module("geekbrains.notices").service("noticesService",e)}()}.call(this),function(){!function(){var e,t;t=function(e){var t,n;this.$onInit=function(){if(this.salaryPeriods={month:"\u0412 \u043c\u0435\u0441\u044f\u0446",hour:"\u0412 \u0447\u0430\u0441",once:"\u0420\u0430\u0437\u043e\u0432\u043e"},this.salaryPeriod=this.ngModel.salary_period||"month",null===this.ngModel.test_job&&(this.ngModel.test_job=""),null===this.ngModel.description)return this.ngModel.description=""},this.closeForm=function(){return"edit"===this.action?this.vacancyCtrl.isEditing=!1:this.vacanciesCtrl.isAdding=!1},this.updateVacancy=function(){return this.pending=!0,e.updateVacancy({project_id:this.vacanciesCtrl.projectId,vacancy_id:this.vacancyCtrl.vacancy.id,vacancy:t()}).$promise.then(function(e){return function(t){return t.vacancy&&(e.onUpdateVacancy({$event:{vacancy:t.vacancy}}),e.vacancyCtrl.isEditing=!1),e.pending=!1}}(this))},this.createVacancy=function(){return this.pending=!0,e.createVacancy({project_id:this.vacanciesCtrl.projectId,vacancy:t()}).$promise.then(function(e){return function(t){return t.vacancy&&(e.onCreateVacancy({$event:{vacancy:t}}),n()),e.pending=!1}}(this))},this.saveVacancy=function(e){if(e)return"edit"===this.action?this.updateVacancy():this.createVacancy()},t=function(e){return function(){return{title:e.ngModel.title,description:e.ngModel.description,salary_period:e.salaryPeriod,salary_min:e.ngModel.salary_min,salary_max:e.ngModel.salary_max,city:e.ngModel.city,test_job:e.ngModel.test_job,kind:e.ngModel.kind||e.vacanciesCtrl.kind}}}(this),n=function(e){return function(){return e.ngModel={description:"",test_job:""},e.salaryPeriod="month"}}(this)},e={controller:t,bindings:{ngModel:"<",isEditing:"<",action:"@",onUpdateVacancy:"&",onCreateVacancy:"&"},require:{vacanciesCtrl:"^^company-admin-vacancies",vacancyCtrl:"?^^company-admin-vacancy"},templateUrl:"ng/projects/company/admin/company_admin_edit_vacancy_form.component.html"},t.$inject=["projectsResource","$scope","projectsHelpers"],angular.module("geekbrains.projects").component("companyAdminEditVacancyForm",e)}()}.call(this),function(){!function(){var e,t;t=function(e,t,n){this.$onInit=function(){var e;return this.formModel={},this.isAdding=!1,this.activeTab="active",this.pending=!0,e=n.$watch(function(e){return function(){return e.contractSigned}}(this),function(t){return function(n){if(null!=n||"probation"===t.kind)return t.isContractSigned="probation"===t.kind||n,t.pending=!1,e()}}(this))},this.$onChanges=function(e){var t,n;if((null!=(t=e.vacancies)&&null!=(n=t.currentValue)?n.length:void 0)&&!e.vacancies.previousValue)return this.setActiveTab("active","archived")},this.addVacancy=function(e){if(e.vacancy)return this.vacancies.push(e.vacancy),this.isAdding=!1},this.archiveVacancy=function(t){if(t.vacancy)return t.vacancy.active?e.unarchiveVacancy({project_id:+this.projectId,vacancy_id:t.vacancy.id}).$promise.then(function(e){return function(n){if(n.status)return t.vacancy.state="active",e.setActiveTab("archived","active")}}(this)):e.archiveVacancy({project_id:+this.projectId,vacancy_id:t.vacancy.id}).$promise.then(function(e){return function(n){if(n.status)return t.vacancy.state="archived",e.setActiveTab("active","archived")}}(this))},this.updateVacancy=function(e){if(e.vacancy)return angular.forEach(this.vacancies,function(t){if(t.vacancy.id===e.vacancy.id)return t.vacancy=e.vacancy})},this.activeFilter=function(e){if(null!=(null!=e?e.vacancy:void 0))return"active"===e.vacancy.state},this.hiddenFilter=function(e){if(null!=(null!=e?e.vacancy:void 0))return"hidden"===e.vacancy.state},this.fixedFilter=function(e){if(null!=(null!=e?e.vacancy:void 0))return"fixed"===e.vacancy.state},this.archivedFilter=function(e){if(null!=(null!=e?e.vacancy:void 0))return"archived"===e.vacancy.state},this.setActiveTab=function(e,t){if(!this.vacancies.filter(function(t){return t.vacancy.state===e}).length)return this.activeTab=t}},e={controller:t,templateUrl:"ng/projects/company/admin/company_admin_vacancies.component.html",bindings:{vacancies:"<",projectId:"@",contractSigned:"<",kind:"@"}},t.$inject=["projectsResource","$filter","$scope"],angular.module("geekbrains.projects").component("companyAdminVacancies",e)}()}.call(this),function(){!function(){var e,t;t=function(e){this.$onInit=function(){return this.collapsed=!0,this.isEditing=!1,this.isHidden="hidden"===this.vacancy.state||"fixed"===this.vacancy.state,this.formModel=angular.copy(this.vacancy),this.helpers=e},this.$onChanges=function(e){if(e.vacancy)return this.setVacancyActivity()},this.toggleArchive=function(){return this.onArchive({$event:{vacancy:this.vacancy}})},this.toggleEditing=function(){return this.collapsed&&(this.collapsed=!1),this.isEditing=!this.isEditing},this.setVacancyActivity=function(){return this.vacancy.active="active"===this.vacancy.state}},e={controller:t,templateUrl:"ng/projects/company/admin/company_admin_vacancy.component.html",require:{vacanciesCtrl:"^^company-admin-vacancies"},bindings:{vacancy:"<",onArchive:"&"}},t.$inject=["projectsHelpers"],angular.module("geekbrains.projects").component("companyAdminVacancy",e)}()}.call(this),function(){!function(){var e,t;t=function(e,t){this.$onInit=function(){if(this.statusesOpen=!1,this.datepickerOptions={minDate:new Date},this.statuses={probation:{started:"\u041f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b",completed:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u0430",failed:"\u041d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430",declined:"\u041e\u0442\u043a\u0430\u0437",offer:"Job Offer",offer_declined:"Offer \u043e\u0442\u043a\u043b\u043e\u043d\u0451\u043d",working:"\u0422\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d"},vacancy:{offer:"Job offer",working:"\u0422\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d",offer_declined:"Offer \u043e\u0442\u043a\u043b\u043e\u043d\u0451\u043d",declined:"\u041e\u0442\u043a\u0430\u0437"}},"vacancy"===this.respond.kind)return t.$watch(function(e){return function(){return e.dt}}(this),function(e){return function(t,n){if(t&&t!==n)return e.setInterviewDate()}}(this))},this.setStatus=function(e){switch(e){case"declined":this.failFormVisible=!1,this.declineFormVisible=!0;break;case"failed":this.declineFormVisible=!1,this.failFormVisible=!0;break;default:this.failFormVisible=!1,this.declineFormVisible=!1,this.setRespondState(e)}return this.statusesOpen=!1},this.setRespondState=function(n){return e.setRespondState({project_id:+this.candidatesCtrl.projectId,respond_id:this.respond.id,action:n}).$promise.then(function(e){return function(s){if(s.status)return e.respond.state=n,t.$emit("project:candidate:changed",e.respond)}}(this))},this.failRespond=function(n){if(n)return e.failRespond({project_id:+this.candidatesCtrl.projectId,respond_id:this.respond.id,data:{message:this.failRespondMessage}}).$promise.then(function(e){return function(n){if(n.status)return e.respond.state="failed",e.failFormVisible=!1,t.$emit("project:candidate:changed",e.respond)}}(this))},this.declineRespond=function(n){if(n)return e.declineRespond({project_id:+this.candidatesCtrl.projectId,respond_id:this.respond.id,data:{message:this.declineRespondMessage}}).$promise.then(function(e){return function(n){if(n.status)return e.respond.state="declined",e.declineFormVisible=!1,t.$emit("project:candidate:changed",e.respond)}}(this))},this.startProbation=function(){return e.startProbation({project_id:+this.candidatesCtrl.projectId,respond_id:this.respond.id}).$promise.then(function(e){return function(n){if(n.status)return e.respond.state="started",t.$emit("project:candidate:changed",e.respond)}}(this))},this.setInterviewDate=function(){return e.setInterviewDate({project_id:+this.candidatesCtrl.projectId,respond_id:this.respond.id,date:moment(this.dt).format()}).$promise.then(function(e){return function(n){if(n.status)return e.respond.interview_date=e.dt,e.datepickerOpened=!1,t.$emit("project:candidate:changed",e.respond)}}(this))},this.sendMessage=function(){return t.$emit("chat:send_message",{user:this.respond.user})},this.openDatepicker=function(){return this.datepickerOpened=!this.datepickerOpened}},e={controller:t,templateUrl:"ng/projects/company/admin/company_vacancy_candidate.component.html",bindings:{respond:"<"},require:{candidatesCtrl:"^^companyVacancyCandidates"}},t.$inject=["projectsResource","$scope","$compile"],angular.module("geekbrains.projects").component("companyVacancyCandidate",e)}()}.call(this),function(){!function(){var e,t;t=function(e){this.$onInit=function(){return this.candidatesUrl="/api/v2/projects/"+this.projectId+"/responds/candidates",this.candidates=[],this.foundCandidates=null,this.isLoadingCandidates=!0,e.$on("paginateLoad:end",function(e){return function(t,n){if("candidates"===n.id)return e.isLoadingCandidates=!1}}(this)),e.$on("project:candidate:changed",function(e){return function(t,n){return angular.forEach(e.candidates,function(e){if(e.respond.id===n.id)return e.respond=n})}}(this))},this.searchCandidates=function(){return this.onSearchCandidates({$event:{q:this.filterQuery}})},this.activateSearch=function(){return this.searching=!0},this.deactivateSearch=function(){return this.searching=!1,this.filterQuery="",this.onSearchCandidates({$event:{q:this.filterQuery}})}},e={controller:t,bindings:{projectId:"@",onSearchCandidates:"&",isSearching:"<",foundCandidates:"<"},templateUrl:"ng/projects/company/admin/company_vacancy_candidates.component.html"},t.$inject=["$scope"],angular.module("geekbrains.projects").component("companyVacancyCandidates",e)}()}.call(this),function(){!function(){var e,t;t=function(e,t){this.$onInit=function(){return this.messageOpen=!1,this.declineFormVisible=!1,this.declineMessage=""},this.acceptRespond=function(){return e.acceptRespond({project_id:+this.respondsCtrl.projectId,respond_id:this.respond.id}).$promise.then(function(e){return function(n){if(n.status)return e.respond.state="accepted",t.$emit("project:members:changed")}}(this))},this.declineRespond=function(n){if(n)return e.declineRespond({project_id:+this.respondsCtrl.projectId,respond_id:this.respond.id,data:{message:this.declineMessage}}).$promise.then(function(e){return function(n){if(n.status)return e.respond.state="declined",e.declineFormVisible=!1,t.$emit("project:respond:changed",e.respond)}}(this))},this.withdrawDecline=function(){return e.withdrawDecline({project_id:+this.respondsCtrl.projectId,respond_id:this.respond.id}).$promise.then(function(e){return function(n){if(n.status)return e.respond.state="pending",t.$emit("project:respond:changed",e.respond)}}(this))},this.markRespond=function(){return e.markRespond({project_id:+this.respondsCtrl.projectId,respond_id:this.respond.id}).$promise.then(function(e){return function(n){if(n.status)return e.respond.marked=!0,t.$emit("project:respond:changed",e.respond)}}(this))},this.unmarkRespond=function(){return e.unmarkRespond({project_id:+this.respondsCtrl.projectId,respond_id:this.respond.id}).$promise.then(function(e){return function(n){if(n.status)return e.respond.marked=!1,t.$emit("project:respond:changed",e.respond)}}(this))},this.considerRespond=function(){return e.considerRespond({project_id:+this.respondsCtrl.projectId,respond_id:this.respond.id}).$promise.then(function(e){return function(n){if(n.status)return t.$emit("project:respond:consider",e.respond)}}(this))},this.sendMessage=function(){return t.$emit("chat:send_message",{user:this.respond.user})}},e={controller:t,templateUrl:"ng/projects/company/admin/company_vacancy_respond.component.html",bindings:{respond:"<"},require:{respondsCtrl:"^^companyVacancyResponds"}},t.$inject=["projectsResource","$scope"],angular.module("geekbrains.projects").component("companyVacancyRespond",e)}()}.call(this),function(){!function(){var e,t;t=function(e,t){this.$onInit=function(){return this.activeTab="all",this.allRespondsUrl="/api/v2/projects/"+this.projectId+"/responds",this.markedRespondsUrl=this.allRespondsUrl+"/marked",this.declinedRespondsUrl=this.allRespondsUrl+"/declined",this.isLoadingResponds=!0,this.declinedResponds=[],this.markedResponds=[],this.allResponds=[],e.$on("paginateLoad:end",function(e){return function(t,n){switch(n.id){case"all":return e.allTotal=n.total,e.isLoadingResponds=!1;case"marked":return e.markedTotal=n.total;case"declined":return e.declinedTotal=n.total}}}(this)),e.$on("project:respond:changed",function(e){return function(n,s){return angular.forEach(e.allResponds,function(e){if(e.respond.id===s.id)return e.respond=s,t.loadMarkedAndDeclinedResponds()})}}(this)),e.$on("project:respond:consider",function(e){return function(n,s){var i;if("number"==typeof(i=t.findRespondIndexById(s.id,e.allResponds)))return e.allResponds=t.removeRespondByIndex(i,e.allResponds),t.loadMarkedAndDeclinedResponds(),t.loadCandidateResponds(),e.allTotal-=1}}(this))},this.activateSearch=function(){return this.searching=!0},this.deactivateSearch=function(){return this.searching=!1,this.filterQuery="",this.onSearchResponds({$event:{q:this.filterQuery}})},this.searchResponds=function(){return this.onSearchResponds({$event:{q:this.filterQuery}})}},e={controller:t,bindings:{projectId:"@",onSearchResponds:"&",isSearching:"<",foundResponds:"<"},templateUrl:"ng/projects/company/admin/company_vacancy_responds.component.html"},t.$inject=["$scope","projectsHelpers"],angular.module("geekbrains.projects").component("companyVacancyResponds",e)}()}.call(this),function(){!function(){var e;e={require:{vacancy:"^^company-vacancy"},templateUrl:"ng/projects/company/company_respond_to_vacancy_form.html"},angular.module("geekbrains.projects").component("companyRespondToVacancyForm",e)}()}.call(this),function(){!function(){var e,t;t=function(e){this.$onInit=function(){var t;if((t=e.getHash())&&(t.includes("vacancy")||t.includes("probation")))return this.selectedVacancyId=+t.split("-")[1]},this.updateVacancy=function(e){if(e.vacancy)return angular.forEach(this.vacancies,function(t){if(t.vacancy.id===e.vacancy.id)return t.vacancy=e.vacancy})}},e={controller:t,templateUrl:"ng/projects/company/company_vacancies.component.html",bindings:{vacancies:"<",projectId:"@"}},t.$inject=["projectsHelpers"],angular.module("geekbrains.projects").component("companyVacancies",e)}()}.call(this),function(){!function(){var e,t;t=function(e,t,n){this.$onInit=function(){return this.selected=this.companyVacancies.selectedVacancyId===this.vacancy.id,this.collapsed=!this.selected,this.helpers=t,this.candidateData={},n.getCurrentUser().then(function(e){return function(t){var n;return e.currentUser=null!=(null!=(n=t.data)?n.user:void 0)?t.data.user:{},e.candidateData.email=e.currentUser.email,e.candidateData.phone=e.currentUser.phone}}(this))},this.respondToVacancy=function(t){if(t)return e.respondToVacancy({project_id:+this.companyVacancies.projectId,vacancy_id:this.vacancy.id,data:this.candidateData}).$promise.then(function(e){return function(t){if(t.vacancy)return e.onUpdate({$event:{vacancy:t.vacancy}})}}(this))}},e={controller:t,templateUrl:"ng/projects/company/company_vacancy.component.html",bindings:{vacancy:"<",onUpdate:"&"},require:{companyVacancies:"^^"}},t.$inject=["projectsResource","projectsHelpers","usersService"],angular.module("geekbrains.projects").component("companyVacancy",e)}()}.call(this),function(){!function(){var e,t;t=function(e){var t,n;this.$onInit=function(){var e;return null!=(null!=(e=this.ngModel)?e.salary_amount:void 0)&&(this.paid=!!this.ngModel.salary_amount),null!=this.ngModel&&(this.salaryPeriod=this.ngModel.salary_period||"hour"),null===this.ngModel.test_job&&(this.ngModel.test_job=""),null!=this.ngModel&&(this.positionsCount=this.ngModel.positions_count||1),null===this.ngModel.description&&(this.ngModel.description=""),this.salaryPeriods={hour:"\u0412 \u0447\u0430\u0441",month:"\u0412 \u043c\u0435\u0441\u044f\u0446",once:"\u0420\u0430\u0437\u043e\u0432\u043e"}},this.closeForm=function(){return"edit"===this.action?this.vacancyCtrl.isEditing=!1:this.vacanciesCtrl.isAdding=!1},this.updateVacancy=function(){return e.updateVacancy({project_id:this.vacanciesCtrl.projectId,vacancy_id:this.vacancyCtrl.vacancy.id,vacancy:t()}).$promise.then(function(e){return function(t){if(t.vacancy)return e.vacancyCtrl.vacancy=t.vacancy,e.closeForm()}}(this))},this.createVacancy=function(){return e.createVacancy({project_id:this.vacanciesCtrl.projectId,vacancy:t()}).$promise.then(function(e){return function(t){if(t.vacancy)return e.vacanciesCtrl.addVacancy(t),n()}}(this))},this.saveVacancy=function(e){if(e)return"edit"===this.action?this.updateVacancy():this.createVacancy()},t=function(e){return function(){return{title:e.ngModel.title,description:e.ngModel.description,positions_count:e.positionsCount,salary_period:e.paid?e.salaryPeriod:null,salary_amount:e.paid?e.ngModel.salary_amount:null,test_job:e.ngModel.test_job,kind:"vacancy"}}}(this),
n=function(e){return function(){return e.ngModel={description:"",test_job:""},e.paid=!1,e.salaryPeriod="hour",e.positionsCount=1}}(this)},e={controller:t,bindings:{ngModel:"<",action:"@"},require:{vacanciesCtrl:"^^incubator-admin-vacancies",vacancyCtrl:"?^incubator-admin-vacancy"},templateUrl:"ng/projects/incubator/admin/incubator_admin_edit_vacancy_form.component.html"},t.$inject=["projectsResource","$scope"],angular.module("geekbrains.projects").component("incubatorAdminEditVacancyForm",e)}()}.call(this),function(){!function(){var e,t;t=function(e,t,n){this.$onInit=function(){return this.formModel={},this.isAdding=!1,this.activeTab="active"},this.addVacancy=function(e){return this.ngModel.push(e),this.isAdding=!1},this.deleteVacancy=function(t){return e.deleteVacancy({project_id:this.projectId,vacancy_id:t}).$promise.then(function(e){return function(s){var i;if(s.status)return i=-1,angular.forEach(e.ngModel,function(e,n){if(e.vacancy.id===t)return i=n}),i>0&&e.ngModel.splice(i,1),n.$emit("project:vacancies:changed")}}(this))},this.activeFilter=function(e){if(null!=(null!=e?e.vacancy:void 0))return"active"===e.vacancy.state},this.archivedFilter=function(e){if(null!=(null!=e?e.vacancy:void 0))return"archived"===e.vacancy.state}},e={controller:t,templateUrl:"ng/projects/incubator/admin/incubator_admin_vacancies.component.html",bindings:{ngModel:"=",projectId:"<",kind:"@"}},t.$inject=["projectsResource","$filter","$scope","projectsHelpers"],angular.module("geekbrains.projects").component("incubatorAdminVacancies",e)}()}.call(this),function(){!function(){var e,t;t=function(e,t,n){this.$onInit=function(){return this.formModel={},this.collapsed=!0,this.isEditing=!1,this.formModel=angular.copy(this.vacancy),this.helpers=t,this.gbHelpers=n},this.toggleArchive=function(){return"archived"===this.vacancy.state?e.archiveVacancy({project_id:this.vacanciesCtrl.projectId,vacancy_id:this.vacancy.id}).$promise.then(function(e){return function(t){if(!t.status)return e.vacancy.state="active"}}(this)):e.unarchiveVacancy({project_id:this.vacanciesCtrl.projectId,vacancy_id:this.vacancy.id}).$promise.then(function(e){return function(t){if(!t.status)return e.vacancy.active="archived"}}(this))},this.toggleEditing=function(){return this.collapsed&&(this.collapsed=!1),this.isEditing=!this.isEditing}},e={controller:t,templateUrl:"ng/projects/incubator/admin/incubator_admin_vacancy.component.html",bindings:{vacancy:"=",deleteVacancy:"&"},require:{vacanciesCtrl:"^^incubator-admin-vacancies"}},t.$inject=["projectsResource","projectsHelpers","geekbrainsHelpers"],angular.module("geekbrains.projects").component("incubatorAdminVacancy",e)}()}.call(this),function(){!function(){var e,t;e=function(e,t){this.toggleDeleteForm=function(){return this.editFormVisible=!1,this.deleteFormVisible=!this.deleteFormVisible},this.toggleEditForm=function(){return this.deleteFormVisible=!1,this.editFormVisible=!this.editFormVisible},this.deleteMember=function(n){if(n)return e.deleteMember({project_id:this.projectMembersCtrl.projectId,member_id:this.member.id,data:{delete_reason:this.deleteReason}}).$promise.then(function(e){return function(){return e.member.active=!1,t.$emit("project:members:changed")}}(this))},this.sendMessage=function(){return t.$emit("chat:send_message",{user:this.member.user})},this.changeTitle=function(t){if(t&&this.memberTitle!==this.member.title)return e.updateMember({project_id:this.projectMembersCtrl.projectId,member_id:this.member.id,member:{title:this.memberTitle}}).$promise.then(function(e){return function(t){if(t.status)return e.member.title=e.memberTitle,e.toggleEditForm()}}(this))},this.$onInit=function(){return this.memberTitle=this.member.title,this.deleteFormVisible=!1,this.editFormVisible=!1}},t={controller:e,bindings:{member:"="},require:{projectMembersCtrl:"^^incubatorMembers"},templateUrl:"ng/projects/incubator/admin/incubator_member.component.html"},e.$inject=["projectsResource","$scope"],angular.module("geekbrains.projects").component("incubatorMember",t)}()}.call(this),function(){!function(){var e,t;e=function(){},t={controller:e,bindings:{ngModel:"=",projectId:"<"},templateUrl:"ng/projects/incubator/admin/incubator_members.component.html"},angular.module("geekbrains.projects").component("incubatorMembers",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t){this.messageOpen=!1,this.openMessage=function(){return this.messageOpen=!0},this.collapseMessage=function(){return this.messageOpen=!1},this.declineFormVisible=!1,this.acceptRespond=function(){return e.acceptRespond({project_id:this.respondsCtrl.projectId,respond_id:this.respond.id}).$promise.then(function(e){return function(n){if(n.status)return e.respond.state="accepted",t.$emit("project:members:changed")}}(this))},this.declineRespond=function(t){if(t)return e.declineRespond({project_id:this.respondsCtrl.projectId,respond_id:this.respond.id,data:{message:this.declineMessage}}).$promise.then(function(e){return function(t){if(t.status)return t.status&&(e.respond.state="declined"),e.declineFormVisible=!1}}(this))},this.withdrawDecline=function(){return e.withdrawDecline({project_id:this.respondsCtrl.projectId,respond_id:this.respond.id}).$promise.then(function(e){return function(t){if(t.status)return e.respond.state="pending"}}(this))},this.markRespond=function(){return e.markRespond({project_id:this.respondsCtrl.projectId,respond_id:this.respond.id}).$promise.then(function(e){return function(t){if(t.status)return e.respond.marked=!0}}(this))},this.unmarkRespond=function(){return e.unmarkRespond({project_id:this.respondsCtrl.projectId,respond_id:this.respond.id}).$promise.then(function(e){return function(t){if(t.status)return e.respond.marked=!1}}(this))},this.sendMessage=function(){return t.$emit("chat:send_message",{user:this.respond.user})}},t={controller:e,bindings:{respond:"="},require:{respondsCtrl:"^^incubatorVacancyResponds"},templateUrl:"ng/projects/incubator/admin/incubator_vacancy_respond.component.html"},e.$inject=["projectsResource","$scope"],angular.module("geekbrains.projects").component("incubatorVacancyRespond",t)}()}.call(this),function(){!function(){var e,t;t=function(e){this.$onInit=function(){return this.allRespondsUrl="/api/v2/projects/"+this.projectId+"/responds",this.allResponds=[],e.$on("paginateLoad:end",function(e){return function(t,n){switch(n.id){case"all":return e.allTotal=n.total}}}(this))},this.withoutAccepted=function(e){return"accepted"!==e.respond.state},this.onlyMarked=function(e){return!0===e.respond.marked},this.onlyDeclined=function(e){return"declined"===e.respond.state},this.activeTab="all"},e={controller:t,bindings:{ngModel:"=",projectId:"@",isLoadingResponds:"<"},templateUrl:"ng/projects/incubator/admin/incubator_vacancy_responds.component.html"},t.$inject=["$scope"],angular.module("geekbrains.projects").component("incubatorVacancyResponds",e)}()}.call(this),function(){!function(){var e,t;e=function(e){this.formatDate=function(t){return t.deleted_at?e("breakAfterSymbol")(e("formatDateDiff")(t.created_at,t.deleted_at,!0)," "):e("breakAfterSymbol")(e("formatDate")(t.created_at,!0)," ")}},t={require:{projectCtrl:"^project"},bindings:{ngModel:"<",mainTitle:"@",secondTitle:"@"},controller:e,templateUrl:"ng/projects/incubator/incubator_members_list.component.html"},e.$inject=["$filter"],angular.module("geekbrains.projects").component("incubatorMembersList",t)}()}.call(this),function(){!function(){var e,t;t=function(e,t,n,s,i){var r,o,a,c;r=function(t){return function(){return e.getMembers({project_id:t.projectId}).$promise.then(function(e){return t.project.members=e,t.project.activeMembers=t.project.members.filter(function(e){return e.member.active}),t.project.formerMembers=t.project.members.filter(function(e){return!e.member.active})})}}(this),o=function(t){return function(){return e.getResponds({project_id:t.projectId}).$promise.then(function(e){return t.isLoadingResponds=!1,t.project.responds=e})}}(this),a=function(t){return function(){return e.getVacancies({project_id:t.projectId}).$promise.then(function(e){return t.project.vacancies=e.filter(function(e){return"vacancy"===e.vacancy.kind}),t.project.probations=e.filter(function(e){return"probation"===e.vacancy.kind}),t.activeVacancies=t.project.vacancies.filter(function(e){return"active"===e.vacancy.state}),t.activeProbations=t.project.probations.filter(function(e){return"active"===e.vacancy.state})})}}(this),c=function(e){return function(t){var n,s,i;s=[];for(n in t)i=t[n],s.push(e.project[n]=i);return s}}(this),this.$onInit=function(){return this.isLoadingResponds=!0,this.helpers=s,i.getCurrentUser().then(function(e){return function(t){var n;return e.currentUser=null!=(null!=(n=t.data)?n.user:void 0)?t.data.user:void 0,e.canLike=e.currentUser&&!e.isAdmin}}(this)),e.get({project_id:this.projectId}).$promise.then(function(e){return function(t){if(e.project=t.project,e.sortedLinks=s.sortLinks(e.project.social_links),r(),a(),e.isAdmin&&"Project::Incubator"===e.project.type)return o()}}(this))},this.subscribe=function(){return e.subscribe({project_id:this.projectId},function(e){if(e.status)return c({is_subscribed:!0,subscribers_count:e.subscribers_count})})},this.unsubscribe=function(){return e.unsubscribe({project_id:this.projectId},function(e){if(e.status)return c({is_subscribed:!1,subscribers_count:e.subscribers_count})})},this.like=function(){return e.like({project_id:this.project.id},function(e){if(e.status)return c({is_liked:!0,likes_count:e.likes_count})})},this.unlike=function(){return e.unlike({project_id:this.projectId},function(e){if(e.status)return c({is_liked:!1,likes_count:e.likes_count})})},this.searchResponds=function(t){return t&&t.q.trim().length>=3?(this.isRespondsSearching=!0,e.getResponds({project_id:this.projectId,q:t.q.trim()}).$promise.then(function(e){return function(t){return e.foundResponds=t,e.isRespondsSearching=!1}}(this))):(this.isRespondsSearching=!1,this.foundResponds=null)},this.searchCandidates=function(t){return t&&t.q.trim().length>=3?(this.isCandidatesSearching=!0,e.getCandidates({project_id:this.projectId,q:t.q.trim()}).$promise.then(function(e){return function(t){return e.foundCandidates=t,e.isCandidatesSearching=!1}}(this))):(this.isCandidatesSearching=!1,this.foundCandidates=null)},t.$on("project:members:changed",function(){return r(),a()}),t.$on("project:vacancies:changed",function(){return o()}),t.$on("chat:send_message",function(e,t){return n.send({id:t.user.id,name:t.user.full_name,avatar:t.user.image.url})})},e={bindings:{projectId:"<",isAdmin:"<",commentsCount:"<",type:"@"},controller:t,templateUrl:"ng/projects/project.component.html"},t.$inject=["projectsResource","$scope","chatMessagesService","projectsHelpers","usersService"],angular.module("geekbrains.projects").component("project",e)}()}.call(this),function(){!function(){var e,t;e=function(){},t={require:{projectCtrl:"^project"},controller:e,templateUrl:"ng/projects/project_description_content.component.html"},angular.module("geekbrains.projects").component("projectDescriptionContent",t)}()}.call(this),function(){!function(){var e,t;e=function(){this.$onInit=function(){return this.tabsCtrl.addTab(this)}},t={require:{tabsCtrl:"^projectTabs"},bindings:{title:"@",count:"="},controller:e,transclude:!0,templateUrl:"ng/projects/project_tab.component.html"},angular.module("geekbrains.projects").component("projectTab",t)}()}.call(this),function(){!function(){var e,t;e=function(e){this.$onInit=function(){return this.tabs=[],this.hash=e.getHash()},this.addTab=function(e){var t;if(t=window.localStorage.getItem("projects::activeTab"),this.tabs.length||(e.active=!0),this.tabs.push(e),this.hash.includes("vacancy")&&"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438"===e.title||this.hash.includes("probation")&&"\u0421\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0438"===e.title||t===e.title)return this.selectTab(e)},this.selectTab=function(e){return angular.forEach(this.tabs,function(e){return e.active=!1}),e.active=!0,window.localStorage.setItem("projects::activeTab",e.title)},this.sortMobileTabs=function(e){return e.active?0:1}},t={require:{projectCtrl:"^^project"},controller:e,transclude:!0,templateUrl:"ng/projects/project_tabs.component.html"},e.$inject=["projectsHelpers"],angular.module("geekbrains.projects").component("projectTabs",t)}()}.call(this),function(){!function(){var e,t;e=function(){this.convertUrl=function(e){return!e||e.indexOf("http")>-1?e:"http://"+e}},t={require:{projectCtrl:"^project"},controller:e,templateUrl:"ng/projects/project_top_panel.component.html"},angular.module("geekbrains.projects").component("projectTopPanel",t)}()}.call(this),function(){!function(){var e,t;t=function(e){this.$onInit=function(){var t;if((t=e.getHash())&&(t.includes("vacancy")||t.includes("probation")))return this.selectedVacancyId=+t.split("-")[1]}},e={controller:t,bindings:{ngModel:"<",projectId:"<"},templateUrl:"ng/projects/project_vacancies.component.html"},t.$inject=["projectsHelpers"],angular.module("geekbrains.projects").component("projectVacancies",e)}()}.call(this),function(){!function(){var e,t;t=function(e,t,n,s){this.$onInit=function(){return this.selected=this.projectVacanciesCtrl.selectedVacancyId===this.vacancy.id,this.collapsed=!this.selected,this.helpers=t,this.gbHelpers=n,this.respondMessage=null,s.getCurrentUser().then(function(e){return function(t){var n;return e.currentUser=null!=(null!=(n=t.data)?n.user:void 0)?t.data.user:{}}}(this))},this.respondToVacancy=function(t){if(t)return e.respondToVacancy({project_id:this.projectVacanciesCtrl.projectId,vacancy_id:this.vacancy.id,data:{message:this.respondMessage}}).$promise.then(function(e){return function(t){if(t.vacancy)return e.vacancy=t.vacancy}}(this))},this.showRespondForm=function(){return this.respondFormVisible=!0},this.hideRespondForm=function(){return this.respondFormVisible=!1}},e={controller:t,templateUrl:"ng/projects/project_vacancy.component.html",bindings:{vacancy:"=",index:"="},require:{projectVacanciesCtrl:"^projectVacancies"}},t.$inject=["projectsResource","projectsHelpers","geekbrainsHelpers","usersService"],angular.module("geekbrains.projects").component("projectVacancy",e)}()}.call(this),function(){!function(){var e;e=function(){return{link:function(e,t){return t.click(function(){return $(".CodeMirror").each(function(e,t){return t.CodeMirror.refresh()})})}}},angular.module("geekbrains.projects").directive("editVacancyButton",e)}()}.call(this),function(){!function(){var e;e=function(){return{link:function(e,t){return $("html, body").animate({scrollTop:t.offset().top},500)}}},angular.module("geekbrains.projects").directive("scrollToMe",e)}()}.call(this),function(){!function(){var e;e=function(e,t,n,s){var i,r;return r=t.defer(),i=e.get("/api/v2/courses"),{getPeriod:function(e){switch(e){case"month":return"\u043c\u0435\u0441\u044f\u0446";case"hour":return"\u0447\u0430\u0441";case"once":return"\u0440\u0430\u0437\u043e\u0432\u043e";default:return e}},getCourses:function(){return r.resolve(i),r.promise},removeProtocolFromUrl:function(e){if(e)return e.replace(/https?:\/\//,"")},sortLinks:function(e){var t;if(e)return t=[],angular.forEach(e,function(e,n){return t.push({key:n,value:e})}),t},loadCandidateResponds:function(){return n.$emit("infiniteScrollDirective:clearAndLoad",{id:"candidates"})},loadMarkedAndDeclinedResponds:function(){return n.$emit("infiniteScrollDirective:clearAndLoad",{id:"declined"}),n.$emit("infiniteScrollDirective:clearAndLoad",{id:"marked"})},findRespondIndexById:function(e,t){var n;return n=null,angular.forEach(t,function(t,s){if(t.respond.id===e)return n=s}),n},removeRespondByIndex:function(e,t){return t.slice(0,e).concat(t.slice(e+1))},getHash:function(){return s.location.hash.substr(1)}}},e.$inject=["$http","$q","$rootScope","$window"],angular.module("geekbrains.projects").factory("projectsHelpers",e)}()}.call(this),function(){!function(){var e;e=function(e,t){var n,s,i,r;return n=t.baseAPIUrl+"/projects/:project_id",s=n+"/members/:member_id/:action",r=n+"/vacancies/:vacancy_id/:action",i=n+"/responds/:respond_id/:action",e(n+"/:action",{project_id:"@project_id",action:"@action"},{update:{method:"PUT"},like:{method:"POST",params:{action:"like"}},unlike:{method:"POST",params:{action:"unlike"}},subscribe:{method:"POST",params:{action:"subscribe"}},unsubscribe:{method:"POST",params:{action:"unsubscribe"}},getMembers:{url:s,method:"GET",params:{project_id:"@project_id"},isArray:!0},deleteMember:{url:s,method:"POST",params:{project_id:"@project_id",member_id:"@member_id",action:"delete"}},updateMember:{url:s,method:"PATCH",params:{project_id:"@project_id",member_id:"@member_id"}},getResponds:{url:i,method:"GET",params:{project_id:"@project_id"},isArray:!0},getCandidates:{url:i,method:"GET",params:{project_id:"@project_id",action:"candidates"},isArray:!0},getVacancies:{url:r,method:"GET",params:{project_id:"@project_id"},isArray:!0},respondToVacancy:{url:r,method:"POST",params:{project_id:"@project_id",vacancy_id:"@vacancy_id",action:"responds"}},updateVacancy:{url:r,method:"PATCH",params:{project_id:"@project_id",vacancy_id:"@vacancy_id"}},createVacancy:{url:r,method:"POST",params:{project_id:"@project_id"}},deleteVacancy:{url:r,method:"DELETE",params:{project_id:"@project_id",vacancy_id:"@vacancy_id"}},archiveVacancy:{url:r,method:"POST",params:{project_id:"@project_id",vacancy_id:"@vacancy_id",action:"archive"}},unarchiveVacancy:{url:r,method:"POST",params:{project_id:"@project_id",vacancy_id:"@vacancy_id",action:"unarchive"}},acceptRespond:{url:i,method:"POST",params:{project_id:"@project_id",respond_id:"@respond_id",action:"accept"}},declineRespond:{url:i,method:"POST",params:{project_id:"@project_id",respond_id:"@respond_id",action:"decline"}},markRespond:{url:i,method:"POST",params:{project_id:"@project_id",respond_id:"@respond_id",action:"mark"}},unmarkRespond:{url:i,method:"POST",params:{project_id:"@project_id",respond_id:"@respond_id",action:"unmark"}},withdrawDecline:{url:i,method:"POST",params:{project_id:"@project_id",respond_id:"@respond_id",action:"withdraw_decline"}},considerRespond:{url:i,method:"POST",params:{project_id:"@project_id",respond_id:"@respond_id",action:"consider"}},setInterviewDate:{url:i,method:"POST",params:{project_id:"@project_id",respond_id:"@respond_id",action:"set_interview_date"}},startProbation:{url:i,method:"POST",params:{project_id:"@project_id",respond_id:"@respond_id",action:"start_probation"}},setRespondState:{url:i,method:"POST",params:{project_id:"@project_id",respond_id:"@respond_id"}},failRespond:{url:i,method:"POST",params:{project_id:"@project_id",respond_id:"@respond_id",action:"fail"}}})},e.$inject=["$resource","SETTINGS"],angular.module("geekbrains.projects").factory("projectsResource",e)}()}.call(this),function(){!function(){var e,t,n;e=function(e,t,n){return e.defaults.headers.common["X-CSRF-TOKEN"]=$('meta[name="csrf-token"]').attr("content"),t.debugInfoEnabled(!1),t.commentDirectivesEnabled(!1),t.cssClassDirectivesEnabled(!1),n.resourceUrlWhitelist(["self","https://gbcdn.mrgcdn.ru/uploads/assets/**"])},e.$inject=["$httpProvider","$compileProvider","$sceDelegateProvider"],n={baseAPIUrl:window._&&window._.get(window,"gon.settings.api_path")||"/api/v2"},t=[],angular.module("geekbrains.services",t).config(e).constant("SETTINGS",n)}()}.call(this),function(){!function(){var e;e=function(){return{getNoun:function(e,t,n,s){return e=Math.abs(e),(e%=100)>=5&&e<=20?s:(e%=10,1===e?t:e>=2&&e<=4?n:s)}}},angular.module("geekbrains.services").factory("geekbrainsHelpers",e)}()}.call(this),function(){!function(){var e;e=function(e){return{get:function(t,n){var s;return s={headers:{"Range-Unit":"items",Range:n}},e.get(t,s)},concat:function(e,t,n){return window._.uniqBy(e.concat(t),n)}}},e.$inject=["$http"],angular.module("geekbrains.services").factory("rangedCollectionService",e)}()}.call(this),function(){!function(){var e;e=function(e,t,n,s){var i;return i=t.defer(),{checkShowActiveTabFilter:function(e){var t,n;return null==e&&(e=[]),n=new URLSearchParams(window.location.search),n.get("homework")&&e.length?(t=n.get("homework"),e.filter(function(){return function(e){return e.homework.id===Number(t)}}())):[]},passedViewHomeWork:function(t,n){var r;return r=e.put(s.baseAPIUrl+"/lessons/"+t+"/homeworks/"+n+"/seen"),i.resolve(r),i.promise}}},e.$inject=["$http","$q","$window","SETTINGS"],angular.module("geekbrains.services").factory("teacherService",e)}()}.call(this),function(){!function(){var e;e=function(e,t,n,s){var i,r;return i=t.defer(),r=e.get(s.baseAPIUrl+"/profile"),{getCurrentUser:function(){return i.resolve(r.then(function(e){return e})["catch"](function(){return{data:{user:n.CURRENT_USER}}})),i.promise}}},e.$inject=["$http","$q","$window","SETTINGS"],angular.module("geekbrains.services").factory("usersService",e)}()}.call(this),function(){!function(){var e,t;e=function(e,t,n){this.$onInit=function(){return t(function(e){return function(t){var n,s,i,r;for(r=document.createElement("div"),s=0,i=t.length;s<i;s++)n=t[s],r.appendChild(n);return e.content=document.body.appendChild(r),e.overEl=angular.element(e.content).children(),e.frontEl=e.overEl.find(".gb__droplet-overlayer-front-layer"),e.body=angular.element(document.body),e.visibleClass="gb__droplet-overlayer_visible",e.handleEvents()}}(this))},this.$onDestroy=function(){return this.content&&(document.body.removeChild(this.content),this.content=null),this.removeHandlers()},this.handleEvents=function(){return this.frontEl&&(this.body.on("dragenter",this.dragenterListener),this.frontEl.on("dragleave",this.dragleaveListener)),e.$on("droplet:hideOverlayer",function(e){return function(){return e.hideOverlayer()}}(this))},this.isDraggingFile=function(e){var t;return(t=(e.originalEvent||e).dataTransfer)&&(t=t.types)&&"Files"===t[0]},this.hideOverlayer=function(){return this.overEl.removeClass(this.visibleClass)},this.showOverlayer=function(){return this.overEl.addClass(this.visibleClass)},this.isOverlayerVisible=function(){return this.overEl.hasClass(this.visibleClass)},this.removeHandlers=function(){if(this.frontEl)return this.body.off("dragenter",this.dragenterListener),this.frontEl.off("dragleave",this.dragleaveListener)},this.dragenterListener=function(e){return function(t){if(n.is(":visible")&&e.isDraggingFile(t)&&!e.isOverlayerVisible())return e.showOverlayer()}}(this),this.dragleaveListener=function(e){return function(){if(e.isOverlayerVisible())return e.hideOverlayer()}}(this)},t={controller:e,transclude:!0,replace:!0},e.$inject=["$rootScope","$transclude","$element"],angular.module("geekbrains.uploader").component("dropletOverlayer",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t,n,s){var i,r,o,a;this.$onInit=function(){return this.progress=0,this.error=!1},this.change=function(e,t,s,r,o){return this.url=null!=this.uploadUrl?n.baseAPIUrl+this.uploadUrl:n.assetsEndpoint,(null!=o?o.length:void 0)?(this.error=!0,i()):this.upload(t)},this.upload=function(e){if(this.error=!1,null!=e&&!e.$error)return t.upload({url:this.url,data:{data:{attachment:e,type:this.type,assetable_id:this.assetableId,assetable_type:this.assetableType}}}).then(a,r,o)},a=function(e){return function(t){return e.progress=0,i(),s.$emit("uploader:onUploadFile",t.data)}}(this),r=function(e){return function(){return e.progress=0,e.error=!0,i()}}(this),o=function(e){return function(t){return e.progress=parseInt(100*t.loaded/t.total)}}(this),i=function(){return e.$emit("droplet:hideOverlayer")}},t={controller:e,bindings:{assetableType:"@",assetableId:"@",uploadUrl:"@",title:"@",pattern:"@"},templateUrl:"ng/uploader/droplet_uploader.template.html"},e.$inject=["$rootScope","Upload","SETTINGS","$scope"],angular.module("geekbrains.uploader").component("dropletUploader",t)}()}.call(this),function(){!function(){var e,t;e=function(e,t,n,s){this.$onInit=function(){return this.THUMB_SIZE=128,this.RATIO=56.25,this.assetsEndpoint=s.baseAPIUrl+"/assets"},this.showPopup=function(){var t;if(!this.pending)return this.pending=!0,t=function(t){return function(){return t.assetId=null,t.imageUrl="/images/anonymous.png",e.$emit("popup:show")}}(this),this.assetId?n.get(this.assetsEndpoint+"/"+this.assetId).then(function(n){return function(s){var i,r;return null==(null!=(r=s.data)?r.asset:void 0)?void t():(n.imageUrl=s.data.asset.url,i=new Image,i.removeAttribute("crossOrigin"),n.imageUrl.match(/^https?:\/\/|^\/\//)&&i.setAttribute("crossOrigin","anonymous"),i.src=n.imageUrl,i.onload=function(){return e.$emit("popup:show")},i.onerror=function(){return t()})}}(this),function(){return t()}):t()},this.hidePopup=function(){return e.$emit("popup:hide")},this.upload=function(n){if(n&&!this.pending)return this.pending=!0,this.errorMessage="",t.upload({url:this.assetsEndpoint,data:{data:{attachment:n,type:this.type}}}).then(function(t){return function(n){var s,i,r;return null==(null!=(s=n.data)&&null!=(i=s.asset)&&null!=(r=i.styles)?r.original:void 0)?void(t.errorMessage="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"):(t.assetId=n.data.asset.id,t.imageUrl=n.data.asset.styles.original.url,e.$emit("upload:finished"))}}(this),function(e){return function(t){return e.pending=!1,e.errorMessage=t.statusText}}(this))},this.saveImage=function(){var t,s;if(!this.pending&&this.assetId)return this.pending=!0,s=this.multiplier*this.cropData.zoom,t={offset_x:parseInt(this.cropData.points[0])*s/100,offset_y:parseInt(this.cropData.points[1])*s/100,scale:s,assetable_type:this.assetableType,assetable_id:this.assetableId},n.put(this.assetsEndpoint+"/"+this.assetId,{data:t}).then(function(t){return function(n){return e.$emit("crop:finished",n.data.asset.styles),t.pending=!1}}(this))}},t=function(t,n){return{controller:e,templateUrl:"ng/uploader/image_uploader.template.html",scope:{croppable:"=",type:"@",assetableType:"@",assetableId:"@",assetId:"@",target:"@",targetStyle:"@"},controllerAs:"$ctrl",bindToController:!0,link:function(e,s,i,r){var o,a,c,l,d;return d=s.find(".js-image-cropper-popup-wrapper"),o=s.find(".cropping-image-container")[0],a=null,l=null,r.boundaryWidth=d.width(),r.viewportSize=r.boundaryWidth/100*r.RATIO,r.multiplier=100*r.THUMB_SIZE/r.viewportSize,c=function(){return a=a||new Croppie(o,{viewport:{width:r.viewportSize,height:r.viewportSize,type:"circle"},boundary:{width:r.boundaryWidth,height:r.viewportSize},update:function(){return r.cropData=a.get(),a.result().then(function(e){return r.previewData=e})}})},e.$on("popup:show",function(){return t(function(){return c(),a.bind({url:r.imageUrl}).then(function(){return d.addClass("visible"),a.bind(),r.pending=!1,e.$apply(),l=n(function(){return r.previewResult=r.previewData},500)})["catch"](function(){})},0)}),e.$on("popup:hide",function(){return d.removeClass("visible"),a.destroy(),a=null,n.cancel(l),r.errorMessage=""}),e.$on("upload:finished",function(){return a.bind({url:r.imageUrl}).then(function(){return r.pending=!1,e.$apply()})}),e.$on("crop:finished",function(e,t){if(r.target&&r.targetStyle)return angular.forEach(r.target.split(" "),function(e){return angular.element(e).attr("src",t[r.targetStyle].url)}),r.hidePopup()})}}},e.$inject=["$scope","Upload","$http","SETTINGS"],t.$inject=["$timeout","$interval"],angular.module("geekbrains.uploader").directive("imageUploader",t)}()}.call(this),function(){!function(){var e;e=function(){return{require:"ngModel",link:function(e,t,n,s){return t.on("change",function(){return t.val(),s.$setViewValue(t.val())})}}},angular.module("geekbrains").directive("fileInput",e)}()}.call(this),function(){!function(){var e,t,n;e=function(e,t,n,s){this.$onInit=function(){return this.options={controls:!0,preload:"auto",poster:this.poster||"",playbackRates:[.5,.75,1,1.25,1.5,2],techOrder:["html5","youtube"],children:{PlayerContainer:{children:{MediaLoader:{},PosterImage:{},TextTrackDisplay:{},LoadingSpinner:{},BigPlayButton:{},LiveTracker:{},ControlBar:{children:["playToggle","progressControl","currentTimeDisplay","timeDivider","durationDisplay","volumeControl","playbackRateMenuButton","CustomFullScreenComponent","ChatButton"]},ErrorDisplay:{},TextTrackSettings:{},ResizeManager:{},GBUIButtons:{}}},ChatRecordView:{}}},null!=this.playlistUrl?n.get(this.playlistUrl).then(function(t){return function(n){var s;if(null!=(null!=(s=n.data)?s.playlist:void 0))return t.playlist=n.data.playlist,e.$emit("gotSource","playlist")}}(this)):s(function(){return e.$emit("gotSource","single")})}},n=function(e,t,n,s){var i,r;return i=["video-js","vjs-gb-skin"],s.mvp&&i.push("vjs-gb-mvp-skin"),t.addClass(i.join(" ")),r=function(e,n){return videojs(t[0],s.options).ready(function(){var e,t;return e=this,e.hotkeys({volumeStep:.1,seekStep:5,enableModifiersForNumbers:!1}),"playlist"===n?(this.playlist(s.playlist),s.playlist.length>1&&(s.mvp?this.playlistMVP_UI():this.playlistUI())):(t=/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/,e.src({src:s.src,type:t.test(s.src)?"video/youtube":"video/mp4"})),this.videoAnalyticsPlugin({resourceId:s.resourceId||"none",courseId:s.courseId||"none",courseType:s.courseType||"none"}),this.ChatRecord({chatRecordUrl:s.chatRecordUrl||null}),this.gbUI({ratio:s.ratio||9/16,maxWidth:s.maxWidth||1112,download:s.download,reportUrl:s.reportUrl,watchingUrl:s.watchingUrl,reportDelay:s.reportDelay,mvp:s.mvp||!1})})},e.$on("gotSource",r)},e.$inject=["$scope","$element","$http","$timeout"],t=function(){return{scope:{playlistUrl:"@",courseId:"@?",resourceId:"@?",chatRecordUrl:"@",src:"@",poster:"@?",watchingUrl:"@",ratio:"<?",maxWidth:"<?",download:"<?",mvp:"<?",reportUrl:"@?",reportDelay:"<?",courseType:"@",courseName:"@",nativeFScreenForMobile:"<?"},controller:e,controllerAs:"$ctrl",bindToController:!0,link:n}},angular.module("geekbrains").directive("videojs",t)}()}.call(this),function(){!function(){var e;e=function(e){return{scope:{toolbar:"<?"},require:"ngModel",link:function(t,n,s,i){return e(function(){var e,s,r;return s=new EasyMDE({element:n[0],spellChecker:!1,status:!1,renderingConfig:{markedOptions:{sanitize:!0}},toolbar:!1!==t.toolbar&&[{name:"code",title:"\u041a\u043e\u0434",action:EasyMDE.toggleCodeBlock,className:"gbicon-md_code"},{name:"bold",title:"\u0416\u0438\u0440\u043d\u044b\u0439",action:EasyMDE.toggleBold,className:"gbicon-md_bold"},{name:"italic",title:"\u041a\u0443\u0440\u0441\u0438\u0432",action:EasyMDE.toggleItalic,className:"gbicon-md_italic"},{name:"strikethrough",title:"\u041f\u0435\u0440\u0435\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",action:EasyMDE.toggleStrikethrough,className:"gbicon-md_strike"},{name:"unordered-list",title:"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",action:EasyMDE.toggleUnorderedList,className:"gbicon-md_bullet"},{name:"ordered-list",title:"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",action:EasyMDE.toggleOrderedList,className:"gbicon-md_num"},{name:"quote",title:"\u0426\u0438\u0442\u0430\u0442\u0430",action:EasyMDE.toggleBlockquote,className:"gbicon-md_quote"},{name:"link",title:"\u0421\u0441\u044b\u043b\u043a\u0430",action:EasyMDE.drawLink,className:"gbicon-md_link"},{className:"separator"},{name:"preview",title:"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",action:EasyMDE.togglePreview,className:"gbicon-md_preview",noDisable:!0},{name:"side-by-side",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u043c",action:EasyMDE.toggleSideBySide,className:"gbicon-md_split",noDisable:!0},{name:"fullscreen",title:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043d\u0430 \u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d",action:EasyMDE.toggleFullScreen,className:"gbicon-md_fullscreen",noDisable:!0},{name:"guide",title:"\u041f\u043e\u043c\u043e\u0449\u044c",action:"/markdown",className:"gbicon-md_help"}]}),e=s.codemirror,r=n[0].getAttribute("easymde-initial-value"),r&&r.trim()&&i.$setViewValue(r),e.on("change",function(){return i.$setViewValue(e.getValue())}),e.on("focus",function(){return t.$emit("easymde:focused"),e.setCursor(e.lineCount(),0)}),e.on("blur",function(){return t.$emit("easymde:blurred")}),t.$watch(function(){return i.$modelValue},function(t){if(t||s.value(""),t&&s.value()!==t)return s.value(t),e.setCursor(e.lineCount(),0)})})}}},e.$inject=["$timeout"],angular.module("geekbrains").directive("easymde",e)}()}.call(this),function(){!function(){var e;e=function(e){return{scope:{
ngModel:"="},link:function(t,n,s){var i;return i="hide-on-blur-"+t.$id,angular.element(n).addClass(i),angular.element(e).click(function(e){var r;if(r=angular.element(e.target),!r.parents("."+i).length&&!r.hasClass(i)){if(s.hasOwnProperty("ngModel")){if(!t.ngModel)return;return t.ngModel=!1,t.$apply()}return angular.element(n).hide()}})}}},e.$inject=["$document"],angular.module("geekbrains").directive("hideOnBlur",e)}()}.call(this),function(){!function(){var e;e=function(e,t){return{scope:{url:"<",collection:"=",scrollable:"<",visibleElement:"@",uniqKey:"@",id:"@",scrollableParentId:"<?",perPage:"<",trackLoaded:"<?"},bindToController:!0,controller:function(){},controllerAs:"infiniteScrollDirectiveCtrl",template:['<div class="infinite-scroll-pagination text-center text-muted">','<i class="i i-spinner" ng-show="infiniteScrollDirectiveCtrl.pending && infiniteScrollDirectiveCtrl.collection.length"></i>',"</div>"].join(" "),link:function(n,s,i,r){var o,a,c,l;return r.perPage=r.perPage||10,n.$emit("paginateLoad:start"),o=function(){var t;return r.pending=!0,t=r.collection.length+"-"+(r.collection.length+r.perPage-1),e.get(r.url,t).then(function(t){if(r.collection=e.concat(r.collection,t.data,r.uniqKey||"comment.id"),t.headers()["content-range"]&&(r.total=parseInt(t.headers()["content-range"].split("/")[1])),n.$emit("paginateLoad:end",{total:r.total,id:r.id,perPage:r.perPage,collections:r.collection}),r.trackLoaded)return r.loaded="number"==typeof r.loaded?r.loaded+=t.data.length:t.data.length})["finally"](function(){return r.pending=!1})},l=function(){return!r.pending&&(!(r.collection.length>=r.total)&&(!("number"==typeof r.loaded&&r.loaded>=r.total)&&(!(!r.visibleElement&&!angular.element("comments").is(":visible"))&&!(r.visibleElement&&!angular.element(r.visibleElement).is(":visible")))))},c=n.$watch(function(){return r.scrollable},function(e){var t;if(null!=e&&c(),!0===e)return t=document.getElementById(r.scrollableParentId)||window,s=t===window?document.scrollingElement||document.documentElement:t,t.addEventListener("scroll",window._.throttle(a,500)),o()}),a=function(){if(s.offsetHeight+s.scrollTop>s.scrollHeight-100&&l())return o()},t.$on("infiniteScrollDirective:getComments",function(){if(!r.pending)return o()}),t.$on("infiniteScrollDirective:clearAndLoad",function(e,t){if(t.id===r.id)return r.collection=[],o()}),t.$on("infiniteScrollDirective:getItems",function(e,t){if(t.id&&r.id&&t.id===r.id)return o()})}}},e.$inject=["rangedCollectionService","$rootScope"],angular.module("geekbrains").directive("infiniteScrollPagination",e)}()}.call(this),function(){!function(){var e;e=function(e){var t;return t=function(e){return e.prepend(e.find("li.nav-tabs-item.active").detach())},{link:function(n,s){var i,r,o,a,c;return s.after('<div class="mobile-nav-tabs visible-xs"><ul class="mobile-nav-tabs-list"></ul></div>'),a=angular.element(".mobile-nav-tabs"),o=a.find(".mobile-nav-tabs-list"),r=s.find("li.nav-tabs-item").clone().append('<svg class="svg-icon icon-more-icon"><use xlink:href="/svg-defs.svg#icon-more-icon"></use></svg>'),o.append(r),e(function(){return t(o)},0),i="li.nav-tabs-item.active",angular.element("body").off("click",i).on("click",i,function(e){return e.preventDefault(),angular.element(e.currentTarget).parent().toggleClass("toggle")}),c="li.nav-tabs-item:not(.active)",angular.element("body").off("click",c).on("click",c,function(n){return e(function(){return t(o)},0),angular.element(n.currentTarget).parent().removeClass("toggle")})}}},e.$inject=["$timeout"],angular.module("geekbrains").directive("mobileNavTabs",e)}()}.call(this),function(){$(function(){var e,t,n,s,i;if($(".gb-video-course").length)return e=$(".course-results__progressbar-part"),i=$(".course-results__toggler"),t="course-results__progressbar-part_highlighted",n="course-results__toggler_hidden",s="course-results__toggler_shown",e.hover(function(){var r;if(0!==(r=$(this).index()))return e.slice(0,r+1).addClass(t),i.addClass(n),i.parent().find(i.selector+":eq("+r+")").removeClass(n).addClass(s)},function(){return e.removeClass(t),i.removeClass(s+" "+n)})})}.call(this),$(function(){if($(".gb-video-course").length){var e=function(){if($(".lesson-header_selected").size()){if(!("true"===$(".gb-video-course").attr("skip-scroll"))){var e=$(".lesson-header_selected").parents(".lessons-list__block"),t=$(".lessons-list__header").outerHeight(!0),n=parseInt($(".lessons-list__block").css("marginBottom")),s=$(".lessons-list"),i=s.scrollTop()+(e.offset().top-s.offset().top)-t-n;s.scrollTop(i)}}document.body.onclick=function(e){var t=this,n=e.target;return function(){for(var s=[];n&&n!==t;){if(n&&n.matches(".js-send-message")){e.preventDefault();var i=n.dataset,r={id:i.id,name:i.name,avatar:i.avatar};$(window).trigger("chatMessage",r)}s.push(n=n.parentNode)}return s}()};var r=$("#attachment"),o=$(".homework-example"),a=$(".homework-upload-button");r.size()&&function(){var e=function(e){r.val(""),o.hide(),a.removeClass("disabled"),e&&r.trigger("change")};r.change(function(){var t=r.val();t||e();var n=t.split("\\");o.find(".homework-example__zip").text(n[n.length-1]),o.css("display","flex"),a.addClass("disabled")}),o.find(".homework-example__cart-icon").click(function(){return e(!0)})}(),$(".testing-content").size()&&function(){var e=$(".scores-submit-button"),t=$(".scores-message"),n=$('input[name="course-score"]'),s=$('input[name="mentor-score"]'),i=$('input[name="recommend-score"]'),r=$('input[name="without-mentor"]'),o=$("[data-name=mentor-score]");r.change(function(e){var t=$(e.target),n=$(".mentor-name"),i=$(".mentor-avatar");o.find(".js-scores-item").removeClass("selected"),t.prop("checked")?(s.attr("skip","true"),t.prop("value",!0),o.addClass("disabled"),n.css("pointer-events","none"),i.css("pointer-events","none")):(s.attr("skip","false"),t.prop("value",!1),o.removeClass("disabled"),n.css("pointer-events","auto"),i.css("pointer-events","auto")),s.val(""),a()});var a=function(){var r="false"===s.attr("skip");n.val()&&(!r||r&&Boolean(s.val()))&&i.val()&&t.val().trim().length?e.prop("disabled",!1):e.prop("disabled",!0)};$(document.body).on("click",".js-scores-item",function(){this.scoresRow=$(this).closest(".scores-row"),this.scoresRow.hasClass("disabled")||($(this).siblings().removeClass("selected"),$(this).addClass("selected"),$("input[name="+$(this).parent().data("name")+"]").val($(this).text()),a())}),t.keyup(function(){return a()}),t.change(function(){return a()})}();var c=$(".show-homework-button"),l=$(".homework-description"),d=$(".homework-solution-toggle"),u=$(".homework-solution");c.click(function(){l.slideToggle("slow",function(){$(".show-homework-button__icon-arrow").toggleClass("down"),"\u0421\u043a\u0440\u044b\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u044f"===$(".show-homework-button__title").text()?$(".show-homework-button__title").text("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u044f"):$(".show-homework-button__title").text("\u0421\u043a\u0440\u044b\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u044f")})}),d.click(function(){u.slideToggle("slow",function(){d.find("svg").toggleClass("down"),"\u0421\u043a\u0440\u044b\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438\u0435"===$(".homework-solution-toggle__title").text()?$(".homework-solution-toggle__title").text("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438\u0435"):$(".homework-solution-toggle__title").text("\u0421\u043a\u0440\u044b\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438\u0435")})});var m=$(".js-course-popup");return $(".js-results-hover").hover(function(){},function(){}),{v:$(".js-questions-btn").hover(function(){return m.removeClass("js-visible")},function(){return m.addClass("js-visible")})}}();if("object"==typeof e)return e.v}}),$(function(){var e=function(){return window.innerWidth<=1023};return $(".gb-education").length&&function(){var t=$(".left-side-wrapper"),n=$(".left-side-toggle-button");n.click(function(s){s.preventDefault(),s.stopPropagation(),e()?(document.location.href.includes("study_groups")&&t.removeClass("left-side-wrapper_collapsed"),t.toggleClass("left-side-wrapper_open")):(t.toggleClass("left-side-wrapper_collapsed"),n.toggleClass("left-side-toggle-button_collapsed"))}),$(".left-side-wrapper-right").click(function(){t.removeClass("left-side-wrapper_open")}),$(".lessons-list-dropdown").click(function(){return $(this).toggleClass("lessons-list-dropdown_collapsed")})}(),$("body").on("click",".js-open-group-chat",function(){return $(window).trigger("chatMessage",{id:$(this).data("groupId"),type:"study_group"})})}),function(e,t){var n=t(".left-side-wrapper"),s=t(".gb-education"),i=t(".js-last-lesson"),r=t(".js-next-lesson"),o=t(".video-contents__body"),a=(document.getElementsByClassName("video-contents__body"),t(".video-contents")),c=(a.width(),t(".lesson-item").length,function(){return window.innerWidth<=1023}),l=(o.width(),function(e){var t=new Event(e,{bubbles:!0,cancelable:!1});document.dispatchEvent(t)});i.click(function(){l("previousLesson")}),r.click(function(){t(".js-btn-activator-right").hasClass("navigation_right-btn-hidden")||l("nextLesson")});var d=function(){function e(){o(),c()&&r()}function i(){n.removeClass("left-side-wrapper_collapsed"),n.addClass("left-side-wrapper_open"),s.addClass("gb-leftside-opened"),c()?t.cookie("lessonMenuHidden","true"):t.cookie("lessonMenuHidden","false")}function r(){n.removeClass("left-side-wrapper_open"),n.addClass("left-side-wrapper_collapsed"),s.removeClass("gb-leftside-opened"),t.cookie("lessonMenuHidden","true")}function o(){window.addEventListener("fromHorizontalScroller",a,!0)}function a(e){e.detail.active.left&&t(".js-btn-activator-left").removeClass("navigation_right-btn-hidden"),e.detail.active.right&&t(".js-btn-activator-right").removeClass("navigation_right-btn-hidden"),t(".main-content-wrapper__navigation_right").removeClass("navigation_btns-unrendered")}return{Init:e,openLeftSide:i,closeLeftSide:r}}();e.gbLayout||(e.gbLayout=d)}(window,jQuery),gbLayout.Init(),riot.tag2("feedbacks-average-chart",'<div class="easypiechart"> <div> <span class="{\'f\' + this.opts.fontSize} text-success">{opts.average}</span> <canvas width="{this.opts.size || 80}" height="{this.opts.size || 80}"></canvas> </div> </div> <div class="feedbacks__chart-title {opts.class}" riot-style="display: {opts.title ? \'block\' : \'none\'};"> {opts.title} </div>',"","",function(){this.options={animate:1e3,lineWidth:this.opts.lineWidth||5,barColor:this.opts.barColor||"#08d092",trackColor:this.opts.trackColor||"#f4f5fa",color:"#fff",scaleColor:!1,rotate:0,size:this.opts.size||80,fontSize:this.opts.fontSize||24},window.innerWidth>=1024&&(this.options.size=2*this.options.size),this.options.fontSize=2*this.options.fontSize,this.on("update",function(){if(!this.loaded&&this.opts.average){var e=100*this.opts.average/5;$(this.root.querySelector(".easypiechart")).easyPieChart(this.options).data("easyPieChart").update(e)}})}),riot.tag2("feedbacks-charts",'<div class="text-center" show="{pending}"> <i class="i i-spinner text-muted"></i> </div> <div class="charts-wrapper" hide="{pending}"> <div class="charts-wrapper__hors"> <h3>\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a</h3> <feedbacks-scores-charts scores="{scores}"></feedbacks-scores-charts> <div class="feedbacks-graduates-charts-main-wrapper" riot-style="display: {this.opts.feedbacksGraduates ? \'block\' : \'none\'};"> <h3>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0432\u044b\u043f\u0443\u0441\u043a\u043d\u0438\u043a\u043e\u0432</h3> <feedbacks-graduates-charts scores="{graduateScores}"></feedbacks-graduates-charts> </div> </div> <div class="charts-wrapper__pies"> <h3> <span riot-style="display: {this.opts.feedbacksAverage_mainTitle ? \'none\' : \'block\'};"> \u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 <span class="charts-scores-count">{data.scores_count}</span> </span> <span riot-style="display: {this.opts.feedbacksAverage_mainTitle ? \'block\' : \'none\'};"> {this.opts.feedbacksAverage_mainTitle} </span> </h3> <div class="feedbacks__charts-wrapper m-t-lg"> <feedbacks-average-chart riot-style="display: {this.opts.feedbacksAverageMentors == false ? \'none\' : \'block\'};" title="\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438" class="first" line-width="{this.opts.line_width}" bar-color="{this.opts.bar_color}" track-color="{this.opts.track_color}" size="{this.opts.size}" font-size="{this.opts.fontSize}" average="{data.teacher_average}"></feedbacks-average-chart> <feedbacks-average-chart riot-style="display: {this.opts.feedbacksAverageProgram == false ? \'none\' : \'block\'};" title="{this.opts.feedbacksAverageProgram_Notitle ? \'\' : \u2057\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430\u2057}" class="second" line-width="{this.opts.line_width}" bar-color="{this.opts.bar_color}" size="{this.opts.size}" font-size="{this.opts.fontSize}" track-color="{this.opts.track_color}" average="{data.program_average}"></feedbacks-average-chart> </div> </div> </div>',"",'class="gb__feedbacks-charts js-feedbacks-charts"',function(){var e=this;this.pending=!0,this.endpoint="/api/v2/feedbacks/scores?",this.opts.feedbackable_type&&(this.endpoint+="&feedbackable_type="+this.opts.feedbackable_type),this.opts.feedbackable_id&&(this.endpoint+="&feedbackable_id="+this.opts.feedbackable_id),$.get(this.endpoint).then(function(t){var n=[],s=[];for(var i in t)t.hasOwnProperty(i)&&parseInt(i)&&n.push({score:i,value:t[i]});n.sort(function(e,t){return t.score-e.score});for(var r=0,o=0;o<3;o++)if(2==o){for(var a=o;a<n.length;a++)r+=n[a].value;s[o]={score:o+1,value:r}}else s[o]=n[o];e.scores=n,e.graduateScores=s,e.data=t,e.pending=!1,e.update()})}),riot.tag2("feedbacks-graduates-charts",'<div class="feedbacks-graduates-charts-wrapper m-t-lg"> <div each="{opts.scores}" class="feedbacks-graduates-chart-block score-{score}"> <div> <svg class="svg-icon icon-cert-filled "> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/svg-defs.svg#icon-cert-filled"></use> </svg> </div> <div class="progress-bar"> <div class="percent">{value}%</div> <span class="progress" riot-style="width: {loaded ? value : 0}%; transition: 1s width;"></span> </div> </div> </div> <div class="clearfix"></div>',"","",function(){var e=this;this.on("update",function(){this.opts.scores&&this.opts.scores.length&&!this.loaded&&setTimeout(function(){e.loaded=!0,e.update()},100)})}),riot.tag2("feedbacks-scores-charts",'<div class="feedbacks-hor-charts-wrapper"> <div each="{opts.scores}" class="feedbacks-hor-chart-block score-{score}"> <div class="score">{score}</div> <div class="progress-wrapper"> <div class="progress" riot-style="width: {loaded ? value : 0}%"></div> </div> <div class="percent">{value}%</div> </div> </div> </div>',"","",function(){var e=this;this.on("update",function(){this.opts.scores&&this.opts.scores.length&&!this.loaded&&setTimeout(function(){e.loaded=!0,e.update()},100)})}),riot.tag2("learning-mates-item",'<li class="mates__list-item"> <a class="mates-list__mate-image-block send_message_on_hover js-send-message" data-id="{user.id}" data-name="{user.full_name}" data-avatar="{user.image.url}" href="#"> <span class="mates-list__mate-online-status" if="{user.is_online}">\u25cf</span> <img class="mates-list__mate-image" riot-src="{user.image.url}"> <span class="image-overlayer"> <svg class="svg-icon icon-write"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/svg-defs.svg#icon-write"></use> </svg> </span> </a> <a class="mates-list__mate-name-block" href="{user.url}" rel="nofollow">{user.full_name}</a> </li>',"","",function(){}),riot.tag2("learning-mates-list",'<div class="mates"> <details class="mates__accordion-details"> <summary class="mates__accordion-summary"> <div class="mates__header"> <div class="h3 mates__title">{opts.title} <span class="mates__number-classmates" if="{!isLoading}">\u2022 {total} </span> <svg class="mates__icon-chevron-down"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/svg-defs.svg#icon-arrow-down"></use> </svg> </div> <div class="mates__search-form" if="{false && !isLoading && total > 0}"> <input name="input" onkeyup="{search}"> <a class="mates__search-form-close-button" href="" if="{!isSearching}" onmousedown="{clearInput}"> <svg class="svg-icon icon-x"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/svg-defs.svg#icon-x"></use> </svg> </a> <i class="i i-spinner mates__search-spinner" if="{isSearching}"></i> </div> </div> </summary> <div class="mates__content"> <div class="mates__not-found" if="{!isLoading && !mates.length}">\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e</div> <div class="mates__loading-overlay" if="{isLoading}"> <i class="i i-spinner"></i> </div> <ul class="mates__list"> <learning-mates-item each="{mates}"></learning-mates-item> </ul> <div class="mates__new-mates-spinner" if="{loadingNew}"> <i class="i i-spinner"></i> </div> <div> </details> </div>',"","",function(e){function t(e){this.query=e.target.value.trim(),this.query.length>2&&this.query!==s&&(this.update({isSearching:!0}),s=this.query,o(this.query).then(function(e){this.isSearching=!1,this.mates=e,this.update()}.bind(this))),!this.query&&s&&(this.mates=n,this.update())}this.mates=[],this.apiUrl=this.opts.apiUrl,this.isLoading=!0;var n,s,i=32,r=function(){return this.mates.length+"-"+(this.mates.length+i-1)}.bind(this),o=function(e){var t;return t=e?{url:this.apiUrl,data:{q:e}}:{url:this.apiUrl,headers:{"Range-Unit":"items",Range:r()}},$.ajax(t)}.bind(this);this.loadMates=function(){this.total&&this.mates.length>=this.total||(this.update({loadingNew:!0}),o().then(function(e,t,s){this.loaded=!0;var i=s.getResponseHeader("Content-Range");i&&(this.total=+i.split("/")[1]),this.mates=this.mates.concat(e),n=this.mates.slice(0),this.isLoading=!1,this.loadingNew=!1,this.update()}.bind(this)))},this.search=_.throttle(t,1e3).bind(this),this.clearInput=function(e){return e.preventDefault(),this.input.value="",this.mates=n,this.update(),this.input.blur(),!1},this.on("mount",function(){var t=document.getElementById(e.scrollingElemId),n=_.throttle(this.loadMates,1e3).bind(this);t&&(t.onscroll=function(){!this.loadingNew&&t.offsetHeight+t.scrollTop>t.scrollHeight-50&&n()}.bind(this))}),this.loadMates()}),$(function(){undefined;$(".banner-top__close-button").click(function(e){var t=this;e.preventDefault();var n=$(this);return $.cookie("monthly_prof_banner","collapsed"),$.post("/toggle_banner.json",{name:"monthly_prof_banner",expires_at:n.data("expires_at")||172800}).always(function(){return $(t).parents(".banner-top").slideUp()})}),function(){var e=$(".js-recommendation-banner"),t=$(".js-voice-of-marketing");if(!e.size())return t.hide();var n=function(){var n=e.parent(),s=n.parent(),i=$(".js-voice-of-marketing-arrow").find(".svg-icon"),r=($("#nav").width(),function(){return parseInt(s.css("height"))>0}),o=function(){return s.css("height",0),i.hide(),t.removeClass("active")},a=function(e){return s.css("height",e.outerHeight()),i.show(),t.addClass("active")},c=function(){if(r())return o(),n.data("translateY",0),e.removeClass("current"),i.hide(),setTimeout(function(){return n[0].style.transform="translateY(0px)"},300)},l=function(){var t=e.filter(".current"),r=t.index(),o=e.eq(r+1);e.eq(r).removeClass("current");var a=-t.outerHeight()+parseInt(n.data("translateY"));return n[0].style.transform="translateY("+a+"px)",n.data("translateY",a),s.css("height",o.outerHeight()),i.css("fill",o.data("arrowColor")),o.size()?o.addClass("current"):c()},d=function(){var t=e.first();return t.addClass("current"),i.css("fill",t.data("arrowColor")),n.data("translateY",0),a(t)},u=function(){var t=e.filter(".current"),n=t.data("name");if(n)return t.data("closed")?l():$.post("/toggle_banner",{name:n,value:"false"}).done(function(){return t.data("closed",!0),l()})},m=function(){if(r())return o();var t=e.filter(".current");return t.size()?a(t):d()},p=function(){var t=e.filter(".current");if(t.size()){var i=e.filter(function(){return $(this).index()<t.index()});if(i.size()){var o=[].reduce.call(i,function(e,t){return e+$(t).outerHeight()},0);n[0].style.transform="translateY("+-o+"px)",n.data("translateY",-o)}if(r())return s.css("height",t.outerHeight())}};return{v:function(){if($(window).resize(_.throttle(p,100)),$(document.body).on("click",".js-close-banner-button",function(e){return e.preventDefault(),u(e)}),t.addClass("js-visible").click(function(e){return e.preventDefault(),m()}),e.filter(function(){return!$(this).data("closed")}).size())return d()}()}}();"object"==typeof n&&n.v}()}),function(){var e;e=function(e){var t,n,s,i,r,o,a,c,l,d,u,m,p,h,f,g,v,b,_;g=this,t=$(e),n=$(".gb-carousel__items",e),s=$(".gb-carousel__item",e),i=$(".gb-carousel__overlay",e),m=h=f=o=0,p=s.length,r=u=0,_="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",b=function(){return h=function(){switch(!1){case!(window.innerWidth>=1440):return 3;case!(window.innerWidth>=1024):return 2;default:return 1}}(),f=Math.ceil(p/h),o=1},v=function(e,t){return t&&n.addClass("transition").one(_,function(){return n.removeClass("transition")}),n.css("transform","translateX("+e+"px)")},c=function(e){switch(e.type){case"swipeleft":case"swiperight":return l(e)}},l=function(e){switch(e.direction){case Hammer.DIRECTION_LEFT:g.next();break;case Hammer.DIRECTION_RIGHT:g.prev()}return a.stop(!0)},d=function(){if($(".gb-carousel__overlay").removeClass("disabled"),1===o&&$(".gb-carousel__overlay-left").addClass("disabled"),o===f)return $(".gb-carousel__overlay-right").addClass("disabled")},g.init=function(){return m=s.eq(0).innerWidth(),u=r=m/2,b(),d(),v(u)},g.next=function(){if(o!==f)return++o,d(),r-=m*h+u,v(r,!0)},g.prev=function(){if(1!==o)return--o,d(),r+=m*h+u,v(r,!0)},a=new Hammer(t[0]).on("swipeleft swiperight",c),$(window).on("resize orientationchange",function(){return g.init()}),i.click(function(){if($(this).is(".gb-carousel__overlay-right")&&g.next(),$(this).is(".gb-carousel__overlay-left"))return g.prev()})},window.Carousel=e}.call(this);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};!function(e,t){e.addEventListener("DOMContentLoaded",function(){var n=e.querySelector.bind(e),s=e.querySelectorAll.bind(e),i=t.globalJS.createEventBridgeWithReact("events-page"),r=n(".js-event-phone-popup");if(r){var o=s(".js-event-phone-popup-close"),a="js-show",c=n(".js-message-box"),l=n(".js-code-error-box"),d=n(".js-code-icon-success"),u=function(e){e.preventDefault();var s=n(".js-event-attend-form"),o=n(".rd-event-player-card__link[data-type=gql]");if(o){var a=o&&o.dataset.eventId;return void i.dispatchWhenReady("attend-to-event",{eventId:a})}if(s)s.submit();else{var a=e.target.dataset.eventId;t.location.href="/events/"+a}r.classList.add("js-hide")},m=function(){c.classList.remove(a),c.textContent="",l.classList.remove(a),l.textContent="",d.classList.remove(a)},p=function(e,t){t.classList.add(a),t.textContent=e};(function(){var e=0,s=!1,i=n(".js-phone-input"),r=n(".js-code-input"),h=n(".js-get-phone-code-btn"),f=n(".js-resend-code-button"),g=n(".js-resend-code-form"),v=n(".js-submit-code-block"),b=n(".js-submit-phone-block"),_=n(".js-event-popup-submit-button"),w=n(".js-pending-message"),y=n(".js-change-phone-link"),k=y.parentNode.querySelector(".flag-container"),j="no-drop",C="parsley-error",x=/^[0-9]{6}/,T=t.gon.settings.api_path||"/",I=T+"/profile/phone/send_confirmation",S=T+"/profile/phone/confirm",E=t.globalJS.getCookie("jwt_token"),P=_extends({Accept:"application/json","Content-Type":"application/json"},E?{Authorization:"bearer "+E}:{},ReactOnRails.authenticityHeaders()),O=(new Headers(P),function(){""!==i.value?$(".js-event-phone-submit-form").parsley().validate():(i.classList.add(C),h.classList.remove(a))}),L=function(e){r.classList.remove(C),e.match(x)||r.classList.add(C)},R=function(){""!==i.value?h.classList.add(a):h.classList.remove(a)};R(),$(".js-code-input").inputmask("9{6}"),1==i.disabled&&k.classList.add(j),y.addEventListener("click",function(e){e.preventDefault(),i.disabled=!1,i.focus(),h.disabled=!1,h.classList.add(a),r.value="",y.classList.remove(a),v.classList.remove(a),f.classList.remove(a),g.classList.remove(a),k.classList.remove(j)});for(var M=function(){d.classList.remove(a),r.classList.add(C)},H=function(){d.classList.add(a)},A=0;A<o.length;A++){o[A].addEventListener("click",function(e){return u(e)})}_.addEventListener("click",function(e){u(e)});var D=function(){v.classList.contains(a)&&fetch(S,{body:JSON.stringify({token:r.value}),method:"PUT",headers:P}).then(function(e){return e.json()}).then(function(t){return t?t.error?(M(),void p(t.error,l)):(clearInterval(e),m(),H(),i.disabled=!0,r.disabled=!0,g.classList.remove(a),f.classList.remove(a),b.classList.add(a),y.classList.remove(a),void k.classList.add(j)):void p("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",c)})["catch"](console.error)};r.addEventListener("keyup",function(){m(),r.classList.remove(C),r.value.match(x)&&D()}),r.addEventListener("keypress",function(e){13==e.which&&r.value.match(x)&&D()});var U=function(){if(!s){var t=30,i=n(".js-counter");s=!0,f.classList.remove(a),i.textContent=t,w.classList.add(a),e=setInterval(function(){t-=1,i.textContent=t,t&&t>0||(clearInterval(e),w.classList.remove(a),v.classList.contains(a)&&(f.classList.add(a),y.classList.add(a)),s=!1)},1e3)}},F=function(){h.disabled=!1,f.disabled=!1},q=function(){fetch(I,{body:JSON.stringify({phone:i.value}),method:"POST",headers:P}).then(function(e){return e.json()}).then(function(e){return e?e.error?(p(e.error,c),void F()):(h.disabled=!0,f.disabled=!1,h.classList.remove(a),i.disabled=!0,v.classList.add(a),r.classList.add(a),m(),r.focus(),g.classList.add(a),void U()):(p("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",c),void F())})["catch"](console.error)},V=function(){m(),R(),h.disabled=!1};i.addEventListener("keyup",function(){V()}),i.addEventListener("focus",function(){V()}),h.addEventListener("click",function(e){e.preventDefault(),h.disabled=!0,m(),O(),setTimeout(function(){if(!i.classList.contains(C)){$(".js-event-phone-submit-form").parsley().validate()&&q()}},30)}),f.addEventListener("click",function(e){e.preventDefault(),f.disabled=!0,y.classList.remove(a),r.value="",r.focus(),L(r.value),setTimeout(function(){q()},30),f.classList.remove(a),r.classList.remove(C),m(),U()})})()}})}(document,window),function(){$.fn.gbAffix=function(){var e;return e=$(".site-footer").outerHeight(),this.each(function(){var t,n;return n=$(this),t=n.outerHeight()-n.height(),n.affix({offset:{top:n.offset().top,bottom:e+t}}),n.on("affix.bs.affix",function(){return n.width(n.width())}),n.on("affixed-top.bs.affix",function(){return n.width("auto")})})}}.call(this),function(){function e(){s.classList.add(o),n.classList.add("fixed")}function t(){s.classList.remove(o),n.classList.remove("fixed")}var n=document.querySelector("body"),s=document.querySelector(".js-header-mobile-menu"),i=document.querySelector(".js-header-burger"),r=document.querySelector(".js-header-close"),o="gb-header-mobile-menu--open";s&&(i.addEventListener("click",e),r.addEventListener("click",t))}(),function(){var e=function(e,t,n,s){var i=Math.abs(e)%100;return i>=5&&i<=20?s:(i%=10,1===i?t:i>=2&&i<=4?n:s)},t=function(e){var t=document.documentElement.scrollTop,n=t+document.documentElement.clientHeight,s=e.getBoundingClientRect().top+window.pageYOffset,i=s+e.offsetHeight;return s<=n&&i>=t},n=function(e,t){var n=!1,s=undefined,i=undefined;return function r(){for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];if(n)return s=a,void(i=this);e.apply(this,a),n=!0,setTimeout(function(){n=!1,s&&(r.apply(i,s),s=null,i=null)},t)}},s=function(e){var t=!1,n=null,s=null,i=null,r=null,o=function(){t=!0};window.addEventListener("event-bridge:"+e+":ready",o);var a=function(t,n){var s=new CustomEvent("event-bridge:"+e+":"+t,{detail:n});window.dispatchEvent(s)};return{dispatch:a,dispatchWhenReady:function e(o,c){if(n&&clearTimeout(n),t)return a(o,c),n=null,s=null,i=null,void(r=null);var l=Date.now();if(s){if(s&&l-s>1e4)return s=null,n=null,i=null,void(r=null)}else s=l;i=o,r=c,n=window.setTimeout(function(){return e(i,r)},500)},addEventListener:function(t,n){var s=function(e){return n(e.detail)};return window.addEventListener("event-bridge:"+e+":"+t,s),function(){return window.removeEventListener("event-bridge:"+e+":"+t,s)}}}};window.globalJS=Object.assign(window.globalJS||{},{getNoun:e,throttle:n,isInViewport:t,createEventBridgeWithReact:s})}(),window.addEventListener("DOMContentLoaded",function(){var e=".js-marketing-offer-modal",t=document.querySelector(e),n="";if(t){var s=document.querySelector(".js-marketing-offer-modal-program-button"),i=document.querySelector(".js-marketing-offer-modal-close-button");n=t.getAttribute("data-modal-cookies-name");var r=function(){$(e).fadeOut(),""!=n&&(document.cookie=n+"=true")};s.addEventListener("click",r),i.addEventListener("click",function(e){e.preventDefault(),r()})}}),"object"==typeof exports&&"undefined"!=typeof module?module.exports={polyfill:polyfill}:polyfill(),function(e){e.addEventListener("DOMContentLoaded",function(){t("gb-popup-registration"),$("body").on("click",".js-show-popup",function(e){e.preventDefault();var t=$($(this).attr("href"));t&&n(t)});var e=function(){var e=window.location.href.replace(/#.*$/,"");window.history.replaceState("",document.title,e)},s=function(){var t=$(".gb-overlay");t.fadeOut(),$("body").removeClass("js-body-no-scroll"),e();var n=t.data().event||"popup";$(window).trigger(n+":closed")};$("body").on("click",".gb-popup__close, .gb-overlay__cover, .js-btn-scroll-to-checkout-popup",s)});var t=function(e){if(document.location.hash==="#"+e){var t=$("#"+e);t&&n(t)}},n=function(e){$("body").addClass("js-body-no-scroll");var t=e.data().event||"popup";e.fadeIn(function(){return $(window).trigger(t+":opened",{popupEl:e})})}}(window,document),function(){$(function(){return jQuery.extend(Sly.defaults,{horizontal:1,itemNav:"basic",speed:500,smart:1,mouseDragging:1,touchDragging:1,releaseSwing:1,activatePageOn:"click",elasticBounds:1,dragHandle:1})})}.call(this);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_get=function(e,t,n){for(var s=!0;s;){var i=e,r=t,o=n;s=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(a!==undefined){if("value"in a)return a.value;var c=a.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=r,n=o,s=!0,a=l=undefined}};!function(e,t){e.addEventListener("DOMContentLoaded",function(){var e=videojs.getComponent("Component"),n=videojs.getComponent("Button"),s=videojs.getPlugin("plugin"),i=t.globalJS?t.globalJS.throttle:undefined,r=window.matchMedia("only screen and (min-width: 1024px)"),o=function(e){function t(e,n){var s=this;_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.ready_=!1,this._isFullscreen=!1,this.handleLoadstart=function(){if(s.ready_=!1,"video/youtube"!==e.currentType()&&r.matches){var t=e.playlist(),i=t?t[e.playlist.currentIndex()]:null,o=i&&i.chat_url||n.chatRecordUrl;o&&s.loadChatRecord(o)}},this.handleFullscreenchange=function(){if(!s._isFullscreen||!s.ready_)return void(s._isFullscreen=!0);s._isFullscreen=!1,s.player.trigger("chat-record:request-close")},e.on("loadstart",this.handleLoadstart),e.on("fullscreenchange",this.handleFullscreenchange),r.addListener(this.handleLoadstart)}return _inherits(t,e),_createClass(t,[{key:"dispose",value:function(){_get(Object.getPrototypeOf(t.prototype),"dispose",this).call(this),this.player.off("loadstart",this.handleLoadstart),r.removeListener(this.handleLoadstart)}},{key:"loadChatRecord",value:function(e){var t=this;this.player.trigger("chat-record:set-reset");var n=function(e){t.player.trigger("chat-record:set-chat",{chatRecord:e}),t.ready()};fetch(e).then(function(e){return e.json()}).then(n)}},{key:"ready",value:function(){
this.player.trigger("chat-record:ready"),this.ready_=!0}}]),t}(s),a=function(e){function t(e,n){var s=this;_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.controlText("\u0417\u0430\u043f\u0438\u0441\u044c \u0447\u0430\u0442\u0430"),this.controlContent("\u0417\u0430\u043f\u0438\u0441\u044c \u0447\u0430\u0442\u0430"),this.width(110),this.open_=!1,this.handleHROpened=function(){s.open_=!0,s.hide()},this.handleHRClosed=function(){s.open_=!1,s.show()},this.handleReady=function(){s.show()},this.player_.on("chat-record:opened",this.handleHROpened),this.player_.on("chat-record:closed",this.handleHRClosed),this.player_.on("chat-record:ready",this.handleReady),this.hide()}return _inherits(t,e),_createClass(t,[{key:"dispose",value:function(){_get(Object.getPrototypeOf(t.prototype),"dispose",this).call(this),this.player_.off("chat-record:opened",this.handleHROpened),this.player_.off("chat-record:closed",this.handleHRClosed),this.player_.off("loadstart",this.handleLoadstart)}},{key:"handleClick",value:function(){var e=this.open_?"chat-record:request-close":"chat-record:request-open";this.open_||this.player_.isFullscreen()||this.player_.requestFullscreen(),this.player_.trigger(e)}},{key:"controlContent",value:function(e){var t=this.el().querySelector(".vjs-icon-placeholder");t&&(t.innerHTML="",t.append(e))}}]),t}(n),c=function(e){function t(e,n){var s=this;_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.items_=[],this.messages_=[],this.autoScroll_=!0,this.handleTimeupdate=function(){s.updateItems()},this.handleSetChat=function(e,t){var n=t.chatRecord;Array.isArray(n)&&n.length>0&&(s.messages_=n,s.items_=s.createItems(n),s.player_.on("timeupdate",i(s.handleTimeupdate,1e3)))},this.handleReset=function(){s.items_=[],s.messages_=[],s.player_.off("timeupdate",s.handleTimeupdate)},this.handleScroll=function(){s.chatChat_.scrollTop<s.chatChat_.scrollHeight-s.chatChat_.offsetHeight-24?s.autoScroll_=!1:s.autoScroll_=!0},this.player_.on("chat-record:request-open",this.handleHROpen),this.player_.on("chat-record:request-close",this.handleHRClose),this.player_.on("chat-record:set-chat",this.handleSetChat),this.player_.on("chat-record:set-reset",this.handleReset),this.chatChat_.addEventListener("scroll",i(this.handleScroll,200)),this.hide()}return _inherits(t,e),_createClass(t,[{key:"dispose",value:function(){_get(Object.getPrototypeOf(t.prototype),"dispose",this).call(this),this.player_.off("chat-record:request-open",this.handleHROpen),this.player_.off("chat-record:request-close",this.handleHRClose),this.player_.off("chat-record:set-chat",this.handleSetChat),this.player_.off("chat-record:set-reset",this.handleReset),this.player_.off("timeupdate",this.handleTimeupdate),this.chatChat_.removeEventListener("scroll",i(this.handleScroll,200))}},{key:"createEl",value:function(){var e=this;this.handleHROpen=function(){e.player_.trigger("chat-record:opened"),e.open()},this.handleHRClose=function(){e.player_.trigger("chat-record:closed"),e.close()};var n=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-gbui-chat-record"}),s=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-gbui-chat-record__header"}),i=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"button",{className:"vjs-gbui-chat-record__header-button"}),r=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-gbui-chat-record__close"}),o=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-gbui-chat-record__header-head"});o.innerText="\u0417\u0430\u043f\u0438\u0441\u044c \u0447\u0430\u0442\u0430",i.addEventListener("click",this.handleHRClose),s.append(o),s.append(i),i.append(r);var a=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-gbui-chat-record__chat"}),c=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-gbui-chat-record__header-shadow"});return n.append(s),n.append(a),s.append(c),this.chatRecord_=n,this.chatHeader_=s,this.chatChat_=a,this.chatShadow_=c,n}},{key:"open",value:function(){this.player_.PlayerContainer.el().style.width="calc(100% - 300px)",this.show()}},{key:"close",value:function(){this.player_.PlayerContainer.el().style.width="100%",this.hide()}},{key:"updateItems",value:function(){var e=this.player_.currentTime(),t=this.items_.filter(function(t){return t.timestamp<=e&&!t.active}),n=this.items_.filter(function(t){return t.timestamp>=e&&t.active});this.items_=this.items_.map(function(t){return _extends({},t,{active:t.timestamp<=e})}),this.addItems(t),this.removeItems(n),this.autoScroll_&&(this.chatChat_.scrollTop=this.chatChat_.scrollHeight),this.handleScroll()}},{key:"addItems",value:function(e){var t=this;e.forEach(function(e){t.chatChat_.append(e.el)})}},{key:"createItems",value:function(e){var t=this;return e.map(function(e){return t.createItem(e)})}},{key:"createItem",value:function(e){var n=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-gbui-chat-record__item"}),s=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-gbui-chat-record__author"});s.innerText=e.author+" ";var i=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-gbui-chat-record__text"});return i.innerText=e.text,n.appendChild(s),n.appendChild(i),_extends({},e,{el:n,active:!1})}},{key:"removeItems",value:function(e){var t=this;e.forEach(function(e){t.chatChat_.removeChild(e.el)})}}]),t}(e);videojs.registerPlugin("ChatRecord",o),videojs.registerComponent("ChatRecordView",c),videojs.registerComponent("ChatButton",a)})}(document,window);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_get=function(e,t,n){for(var s=!0;s;){var i=e,r=t,o=n;s=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(a!==undefined){if("value"in a)return a.value;var c=a.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=r,n=o,s=!0,a=l=undefined}};$(function(){var e=videojs.getComponent("Component"),t=videojs.getComponent("FullscreenToggle"),n=window.matchMedia("only screen and (max-width: 1023px) and (pointer: coarse), only screen and (max-width: 1023px) and (hover: none)"),s=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.el().insertAdjacentElement("afterbegin",e.tech().el())}return _inherits(t,e),_createClass(t,[{key:"createEl",value:function(){return _get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-gbui-player-container"},{style:"position: absolute; top: 0; bottom: 0; left: 0; width: 100%;"})}}]),t}(e),i=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return _inherits(t,e),_createClass(t,[{key:"handleClick",value:function(){n.matches&&this.options_.playerOptions.nativefscreenformobile?this.player_.tech().el().requestFullscreen():this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}]),t}(t),r=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return _inherits(t,e),_createClass(t,[{key:"createEl",value:function(){undefined;return _get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-gbui-buttons"})}}]),t}(e),o=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.handleEvents()}return _inherits(t,e),_createClass(t,[{key:"createEl",value:function(){return _get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"a",{className:"vjs-gbui-button vjs-download-button",href:"",title:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c",target:"_blank",download:""})}},{key:"handleEvents",value:function(){var e=this;return this.player_.on("playing",function(){return e.el_.setAttribute("href",e.player_.currentSrc())})}}]),t}(e),a=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.handleEvents()}return _inherits(t,e),_createClass(t,[{key:"createEl",value:function(){return _get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-gbui-button vjs-time-code-button",title:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c URL \u0432\u0438\u0434\u0435\u043e \u0441 \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u043e\u0439 \u043a\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"})}},{key:"handleEvents",value:function(){var e=this;return this.player_.on("playing",function(){e.el_.addEventListener("click",function(){var t=Math.floor(e.player_.currentTime()),n=""+document.location.host+document.location.pathname+"#s"+t;globalJS.copyTextToClipboard(n)})})}}]),t}(e),c=function(e){function t(e,n){var s=this;_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.el_.addEventListener("click",function(e){if(e.target.closest(".vjs-gbui-overlay-close"))return e.preventDefault(),s.trigger("hideOverlay"),s.dispose()}),this.on("hideOverlay",function(){return this.hide()})}return _inherits(t,e),_createClass(t,[{key:"createEl",value:function(){var e=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-gbui-overlay"}),n=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-gbui-overlay-content"});return this.contentEl_=n,e.appendChild(this.contentEl_),e}},{key:"setContent",value:function(e){return this.contentEl_.innerHTML=e}}]),t}(e);videojs.registerComponent("PlayerContainer",s),videojs.registerComponent("GBUIButtons",r),videojs.registerComponent("DownloadButton",o),videojs.registerComponent("TimeCodeButton",a),videojs.registerComponent("GBUIOverlay",c),videojs.registerComponent("CustomFullScreenComponent",i);var l=function(e){var t=this,n=(this.playlist,e.ratio||9/16),s=e.maxWidth||1112,i=function(){return t.PlayerContainer.ControlBar.el_.querySelector(".vjs-playback-rate-value").innerHTML="&times;"+t.playbackRate()},r=function(){var e=t.el_.parentElement.offsetWidth;return e<=s?(t.width(e),t.height(e*n)):(t.width(s),t.height(s*n))};if(new ResizeSensor(t.el_,function(){return r()}),r(),t.one("canplay",function(){var e=t.PlayerContainer.ControlBar.playbackRateMenuButton.el_.querySelectorAll(".vjs-menu-item"),n=!0,s=!1,r=undefined;try{for(var o,a=Array.from(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var c=o.value;c.innerText="\xd7"+c.innerText.split("x")[0]}}catch(e){s=!0,r=e}finally{try{!n&&a["return"]&&a["return"]()}finally{if(s)throw r}}return i()}),t.on("ratechange",function(){return i()}),t.on("ended",function(){var e=t.PlayerContainer.ControlBar.getChild("TogglePlaylistButton");null!=e&&(e.addClass("vjs-active"),t.trigger("togglePlayListButtonClick"))}),t.one("canplay",function(){var n=t.PlayerContainer.addChild("GBUIButtons");if(t.PlayerContainer.PosterImage.hide(),t.el().firstChild.poster="",e.download&&n.addChild("DownloadButton"),n.addChild("TimeCodeButton"),e.reportUrl)return t.one("playing",function(){var t=undefined;return t=setInterval(function(){var n=new XMLHttpRequest;return n.open("PATCH",e.reportUrl),n.setRequestHeader("X-CSRF-TOKEN",ReactOnRails.authenticityToken()),n.send(),n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?(clearInterval(t),window.dispatchEvent(new Event("watched"))):void 0}},e.reportDelay||1e4)})}),e.mvp){var o=function(){var n=!1,s=function(t){n=!0;var s=t.order_num,i=new FormData;i.append("authenticity_token",ReactOnRails.authenticityToken()),i.append("video_id",s),fetch(e.watchingUrl,{method:"POST",body:i,credentials:"same-origin"}).then(function(){return n=!1}),t.watched=!0;var r=new Event("watched");return window.dispatchEvent(r)};return{v:t.on("timeupdate",function(){if(t.playlist()){var e=t.playlist()[t.playlist.currentItem()],i=t.duration(),r=t.currentTime();if(!n&&!(e&&e.watched||0===i))return e&&r+10>i?s(e):void 0}})}}();if("object"==typeof o)return o.v}};return videojs.registerPlugin("gbUI",l)});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_get=function(e,t,n){for(var s=!0;s;){var i=e,r=t,o=n;s=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(a!==undefined){if("value"in a)return a.value;var c=a.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=r,n=o,s=!0,a=l=undefined}};$(function(){var e=videojs.getComponent("Component"),t=videojs.getComponent("Button"),n=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.playlist=this.player_.playlist,this.el_.innerHTML='<svg class="svg-icon icon-arrow-right-big"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/svg-defs.svg#icon-arrow-right-big"></use></svg>'}return _inherits(t,e),_createClass(t,[{key:"buildCSSClass",value:function(){return _get(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).apply(this,arguments)+" vjs-playlist-mvp-control"}}]),t}(t),s=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.el().setAttribute("title","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0432\u0438\u0434\u0435\u043e")}return _inherits(t,e),_createClass(t,[{key:"buildCSSClass",value:function(){return _get(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).apply(this,arguments)+" vjs-playlist-mvp-next"}},{key:"handleClick",value:function(){return this.playlist.currentItem()===this.playlist().length-1?this.playlist.first():this.playlist.next()}}]),t}(n),i=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.el().setAttribute("title","\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 \u0432\u0438\u0434\u0435\u043e")}return _inherits(t,e),_createClass(t,[{key:"buildCSSClass",value:function(){return _get(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).apply(this,arguments)+" vjs-playlist-mvp-prev"}},{key:"handleClick",value:function(){return 0===this.playlist.currentItem()?this.playlist.last():this.playlist.previous()}}]),t}(n),r=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.item=n.item,this.playlist=this.player_.playlist,this.emitTapEvents(),this.on(["click","tap"],this.switchPlaylistItem),this.handleEvents(),this.item.watched&&this.addClass("vjs-watched")}return _inherits(t,e),_createClass(t,[{key:"createEl",value:function(){var e=this.options_.item,n=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"li",{className:"vjs-playlist-mvp-menu-item",tabIndex:0,title:e.title});return this.contentEl_=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-mvp-menu-item-content",innerHTML:["<span class='vjs-playlist-mvp-menu-item-progress'></span>"].join(" ")}),n.appendChild(this.contentEl_),n}},{key:"switchPlaylistItem",value:function(){return this.playlist.currentItem(this.playlist.indexOf(this.item))}},{key:"handleEvents",value:function(){var e=this;return this.player_.on("ended",function(){if(e.item.watched){e.addClass("vjs-watched");var t=new Event("watched");return window.dispatchEvent(t)}}),this.player_.on("play",function(){return e.player_.trigger("MVPRefreshVideoTitle")}),this.player_.on("playlistitem",function(){if(e.removeClass("vjs-current"),e.playlist.indexOf(e.item)===e.playlist.currentItem())return e.addClass("vjs-current")})}}]),t}(e),o=function(e){function t(e,n){if(_classCallCheck(this,t),!e.playlist)throw new Error("videojs-playlist is required for the playlist component");_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.playlist=this.player_.playlist,this.items=[],this.createPlaylist()}return _inherits(t,e),_createClass(t,[{key:"createEl",value:function(){var e=document.createElement("ul");return e.className="vjs-playlist-mvp-menu",e}},{key:"createPlaylist",value:function(){var e=this,t=this.playlist()||[];return function(){var n=[],s=!0,i=!1,o=undefined;try{for(var a,c=Array.from(t)[Symbol.iterator]();!(s=(a=c.next()).done);s=!0){var l=a.value,d=new r(e.player_,{item:l},e.options_);e.items.push(d),e.el_.appendChild(d.el_),n.push($(d.el_).tooltip({tooltipClass:"vjs-playlist-mvp-menu-item-tooltip",position:{my:"center top",at:"center center+50%"}}))}}catch(e){i=!0,o=e}finally{try{!s&&c["return"]&&c["return"]()}finally{if(i)throw o}}return n}()}}]),t}(e),a=function(e){function t(e,n){var s=this;if(_classCallCheck(this,t),!e.playlist)throw new Error("videojs-playlist is required for the playlist component");_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.playlist=this.player_.playlist,this.player_.on("MVPRefreshVideoTitle",function(){return s.setVideoTitle()}),this.player_.on("playlistitem",function(){return s.setVideoTitle()}),this.setVideoTitle()}return _inherits(t,e),_createClass(t,[{key:"createEl",value:function(){var e=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-mvp-title-bar"});return this.contentEl_=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-mvp-title-bar-content"}),e.appendChild(this.contentEl_),e}},{key:"setVideoTitle",value:function(){var e=this;return setTimeout(function(){var t=e.playlist()[e.playlist.currentItem()];return e.contentEl_.textContent=t.title},100)}}]),t}(e);videojs.registerComponent("PlaylistMenuMVP",o),videojs.registerComponent("PlaylistMVPTitleBar",a),videojs.registerComponent("NextPlaylistMVPItemButton",s),videojs.registerComponent("PrevPlaylistMVPItemButton",i);var c=function(){var e=this.player_.playlist().findIndex(function(e){return!0!==e.watched}),t=e>-1?e:0;this.player_.playlist.currentItem(t);var n=this.player_.PlayerContainer.addChild("PlaylistMenuMVP"),s=this.player_.PlayerContainer.addChild("PlaylistMVPTitleBar"),i=this.player_.PlayerContainer.addChild("NextPlaylistMVPItemButton"),r=this.player_.PlayerContainer.addChild("PrevPlaylistMVPItemButton");return this.player_.PlayerContainer.el_.insertBefore(n.el_,this.player_.PlayerContainer.el_.firstElementChild),s.el_.insertBefore(r.el_,s.el_.firstElementChild),s.el_.appendChild(i.el_)};return videojs.registerPlugin("playlistMVP_UI",c)});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_get=function(e,t,n){for(var s=!0;s;){var i=e,r=t,o=n;s=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(a!==undefined){if("value"in a)return a.value;var c=a.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=r,n=o,s=!0,a=l=undefined}};$(function(){var e=videojs.getComponent("Component"),t=videojs.getComponent("Button"),n=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.handleEvents(),this.el().setAttribute("title","\u041f\u043b\u0435\u0439\u043b\u0438\u0441\u0442")}return _inherits(t,e),_createClass(t,[{key:"buildCSSClass",value:function(){return _get(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).apply(this,arguments)+" vjs-playlist-toggle"}},{key:"handleClick",value:function(){return this.toggleClass("vjs-active"),this.player_.trigger("togglePlayListButtonClick")}},{key:"handleEvents",value:function(){}}]),t}(t),s=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.playlist=this.player_.playlist,this.el().setAttribute("title","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0432\u0438\u0434\u0435\u043e")}return _inherits(t,e),_createClass(t,[{key:"buildCSSClass",value:function(){return _get(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).apply(this,arguments)+" vjs-playlist-next"}},{key:"handleClick",value:function(){return this.playlist.currentItem()===this.playlist().length-1?this.playlist.first():this.playlist.next()}}]),t}(t),i=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.item=n.item,this.playlist=this.player_.playlist,this.emitTapEvents(),this.on(["click","tap"],this.switchPlaylistItem),this.handleEvents()}return _inherits(t,e),_createClass(t,[{key:"createEl",value:function(){var e=this.options_.item,n=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"li",{className:"vjs-playlist-menu-item",tabIndex:0});return this.contentEl_=_get(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-item-content",innerHTML:["<span class='vjs-playlist-item-icon'><svg class='svg-icon icon-play-2'><use xlink:href='/svg-defs.svg#icon-play-2'></use></svg></span>","<span class='vjs-playlist-item-name'>"+(e.title||"\u0417\u0430\u043f\u0438\u0441\u044c \u0432\u0435\u0431\u0438\u043d\u0430\u0440\u0430")+"</span>","<span class='vjs-playlist-item-duration'>"+(e.duration?videojs.formatTime(e.duration):"")+"</span>"].join(" "),title:e.title||"\u0417\u0430\u043f\u0438\u0441\u044c \u0432\u0435\u0431\u0438\u043d\u0430\u0440\u0430"}),n.appendChild(this.contentEl_),n}},{key:"switchPlaylistItem",value:function(){return this.playlist.currentItem(this.playlist.indexOf(this.item))}},{key:"handleEvents",value:function(){var e=this;return this.player_.on("playing",function(){if(e.removeClass("vjs-active"),e.playlist.indexOf(e.item)===e.playlist.currentItem())return e.addClass("vjs-active")})}}]),t}(e),r=function(e){function t(e,n){if(_classCallCheck(this,t),!e.playlist)throw new Error("videojs-playlist is required for the playlist component");_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.items=[],this.createPlaylist(),this.handleEvents()}return _inherits(t,e),_createClass(t,[{key:"createEl",value:function(){var e=document.createElement("ul");return e.className="vjs-playlist-menu",e.style.display="none",e}},{key:"createPlaylist",value:function(){var e=this,t=this.player_.playlist()||[];return function(){var n=[],s=!0,r=!1,o=undefined;try{for(var a,c=Array.from(t)[Symbol.iterator]();!(s=(a=c.next()).done);s=!0){var l=a.value,d=new i(e.player_,{item:l},e.options_);e.items.push(d),n.push(e.el_.appendChild(d.el_))}}catch(e){r=!0,o=e}finally{try{!s&&c["return"]&&c["return"]()}finally{if(r)throw o}}return n}()}},{key:"handleEvents",value:function(){var e=this;return this.player_.on("togglePlayListButtonClick",function(){return e.toggleMenu()})}},{key:"toggleMenu",value:function(){return"none"===this.el_.style.display?this.el_.style.display="block":this.el_.style.display="none"}},{key:"hideMenu",value:function(){return this.el_.style.display="none"}},{key:"showMenu",value:function(){return this.el_.style.display="block"}}]),t}(e);videojs.registerComponent("TogglePlaylistButton",n),videojs.registerComponent("NextPlaylistItemButton",s),videojs.registerComponent("PlaylistMenu",r);var o=function(){var e=this.PlayerContainer.ControlBar.addChild("TogglePlaylistButton"),t=this.PlayerContainer.ControlBar.addChild("NextPlaylistItemButton");this.PlayerContainer.ControlBar.addChild("PlaylistMenu");this.PlayerContainer.ControlBar.el_.insertBefore(e.el_,this.PlayerContainer.ControlBar.playToggle.el_),this.PlayerContainer.ControlBar.el_.insertBefore(t.el_,this.PlayerContainer.ControlBar.progressControl.el_)};videojs.registerPlugin("playlistUI",o)});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_get=function(e,t,n){for(var s=!0;s;){var i=e,r=t,o=n;s=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(a!==undefined){if("value"in a)return a.value;var c=a.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=r,n=o,s=!0,a=l=undefined}};!function(e){e.addEventListener("DOMContentLoaded",function(){var e=videojs.getPlugin("plugin"),t=globalJS?function(e,t){return globalJS.throttle(e,t)}:undefined,n=function(e){function n(e,s){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e,s),this.rewind=!1,this.loaded=!1,this.seeking=!1,this.started=!1,this.finish=!1,this.pause=!1,this.resourceId=s.resourceId,this.courseId=s.courseId,this.courseType=s.courseType,this.previousTime=0,this.currentTime=0,this.positionStart=0,this.limitUpdateMs=1e3,this.delayVideoTimeUpdateMs=1e4,this.watch=[0,0,0,0,0,0,0,0,0,0],this.detectWachedPart=12,this.watched={part1:!1,part2:!1,part3:!1,part4:!1,part5:!1,part6:!1,part7:!1,part8:!1,part9:!1,part10:!1},this.generalParams={resource_id:this.resourceId,course_id:this.courseId,course_type:this.courseType},this.on(e,"timeupdate",function(){this.currentTime=Math.floor(this.player.currentTime())}),this.on(e,"loadeddata",this.loadeddata),this.on(e,"pause",this.pauseCallback),this.on(e,"play",this.playCallback),this.on(e,"ratechange",this.ratechangeCallback),this.on(e,"seeked",this.seeked),"function"==typeof t&&(this.on(e,"timeupdate",t(this.timeupdate,this.limitUpdateMs)),this.on(e,"timeupdate",t(this.videoTimeUpdate,this.delayVideoTimeUpdateMs))),this.initPlayerTimeInHash(),this.initTimeCodeLinks()}return _inherits(n,e),_createClass(n,[{key:"initPlayerTimeInHash",value:function(){var e=window.location.hash;if(e.includes("#s")){var t=parseInt(e.substring(2),10);this.setPlayerTime(t)}}},{key:"initTimeCodeLinks",value:function(){var e=this,t=0,n=document.querySelectorAll('[title="timecode"]');[].concat(_toConsumableArray(n)).forEach(function(){n[t].removeAttribute("target"),n[t].removeAttribute("title"),n[t].addEventListener("click",function(t){if(t.target.hash.includes("#s")){var n=parseInt(t.target.hash.substring(2),10);e.setPlayerTime(n)}}),t++})}},{key:"loadeddata",value:function(){this.loaded=!0,this.timeIs=this.player.remainingTimeDisplay(),this.onePercent=this.timeIs/100,this.rate=this.player.cache_.lastPlaybackRate,this.setStartTime()}},{key:"videoTimeUpdate",value:function(){var e=this.currentTime-this.positionStart;0==e||this.pause||this.sendAnalytics("video_time_update",_extends({},this.generalParams,{position_start:this.positionStart,position_end:this.currentTime,duration:e}))}},{key:"seeked",value:function(){this.loaded&&(this.rewind=!0,this.positionStart=this.currentTime,this.sendAnalytics("video_rewind",_extends({},this.generalParams,{position_start:this.previousTime,position_end:this.currentTime})))}},{key:"getPart",value:function(){var e=100-Math.floor(this.player.remainingTimeDisplay()/this.onePercent);return 0==e?1:Math.ceil(e/10)}},{key:"sendAnalytics",value:function(e,t){"undefined"!=typeof window.jitsu&&e&&t&&window.jitsu("track",e,_extends({},t))}},{key:"ratechangeCallback",value:function(){this.loaded&&(this.sendAnalytics("video_speed_update",_extends({},this.generalParams,{from_speed:this.rate,to_speed:this.player.cache_.lastPlaybackRate})),this.rate=this.player.cache_.lastPlaybackRate)}},{key:"pauseCallback",value:function(){if(!this.player.seeking()&&this.loaded){var e=this.timeIs-this.player.remainingTimeDisplay();isNaN(e)||this.sendAnalytics("video_pause",_extends({},this.generalParams,{position:e}))}}},{key:"playCallback",value:function(){if(this.loaded){if(this.player.seeking())return void(this.seeking=!1);if(this.pause=!1,this.started){if(this.rewind)return void(this.rewind=!1);var e=this.timeIs-this.player.remainingTimeDisplay();this.sendAnalytics("video_play",_extends({},this.generalParams,{position:e}))}else this.started=!0,this.sendAnalytics("video_start",_extends({},this.generalParams))}}},{key:"addTimeIsFull",value:function(e){return--e,this.watch[e]=this.watch[e]+this.limitUpdateMs/1e3*this.rate,this.timeIs/this.watch[e]<=this.detectWachedPart}},{key:"timeupdate",value:function(){var e=this;if(this.loaded){var t=this.timeIs-Math.floor(this.player.remainingTimeDisplay());setTimeout(function(){e.previousTime=t},1100);var n=this.getPart();this.addTimeIsFull(n)&&!this.watched["part"+n]&&(this.watched["part"+n]=!0,this.sendAnalytics("video_tenth_finished",_extends({},this.generalParams,{part:n})),this.finish||10!=n||(this.sendAnalytics("video_finish",_extends({},this.generalParams)),this.finish=!0))}}},{key:"setStartTime",value:function(){var e=document.location.hash;if(e.includes("#s")){var t=parseInt(e.substring(2),10);this.setPlayerTime(t)}}},{key:"setPlayerTime",value:function(e){"number"==typeof e&&this.player.currentTime(e)}}]),n}(e);return videojs.registerPlugin("videoAnalyticsPlugin",n)})}(document,window),angular.module("templates").run(["$templateCache",function(e){
e.put("ng/chat/chat.directive.html",'<div id="chatApp"><div class="rooms-loading-wrapper" ng-hide="roomsLoaded"><i class="i i-spinner i-2x"></i></div><div class="no-rooms-wrapper" ng-show="!rooms.length &amp;&amp; roomsLoaded" ng-cloak=""><header class="panel-heading bg-light b-b lter"><div class="pull-left thumb-sm"><i class="i i-chat3 m-t-xs m-l-xs"></i></div><div class="media-body"><span>Geek Rooms</span> </div></header><section class="content-body"><div class="text-center"><h2>\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432</h2><div>\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0435\u043c\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435</div><div class="m-t text-center"><div class="search-input inline-block" ng-controller="TypeaheadCtrl" type="room"><input class="input-sm form-control" ng-model="input" data-sf-typeahead="" options="options" datasets="peopleDataset" placeholder="\u041f\u043e\u0438\u0441\u043a \u043b\u044e\u0434\u0435\u0439" type="text" autofocus="" /><i class="i i-spinner" ng-if="searching"></i></div></div></div></section></div><div class="chat-wrapper flex" ng-if="rooms.length"><section class="left-side" ng-class="{open: roomsOpen}"><div class="search-wrapper text-center"><div class="search-input" ng-controller="TypeaheadCtrl" type="room"><input class="input-sm form-control" ng-model="input" data-sf-typeahead="" options="options" datasets="peopleDataset" placeholder="\u041f\u043e\u0438\u0441\u043a \u043b\u044e\u0434\u0435\u0439" type="text" /><i class="i i-spinner" ng-if="searching"></i><a class="toggle-rooms" href="" ng-click="toggleOpen()"><svg class="svg-icon icon-more-icon"><use xlink:href="/svg-defs.svg#icon-more-icon"></use></svg></a></div></div><div class="rooms-list-wrapper scrollable" data-rooms-list="" rooms="rooms" active-room-id="activeRoom.id" current-user-id="currentUser.id"></div><span class="rooms-loader" ng-show="!!rooms.length &amp;&amp; isLoadingRooms">...</span></section><section class="right-side"><header><div class="participants-wrapper hidden-xs" data-participants-list="" participants="activeRoom.participants"></div><div class="popover-wrapper hidden-xs" data-add-participants-popover="" author="activeRoom.author" active-room="activeRoom" current-user="currentUser" ng-if="showPopover() &amp;&amp; !activeRoom.study_group"></div><a class="toggle-rooms" href="" ng-click="toggleOpen()"><svg class="svg-icon icon-more-icon"><use xlink:href="/svg-defs.svg#icon-more-icon"></use></svg></a><span class="mobile-room-title">{{activeRoom.title | truncate:25}}</span><a class="close-chat" href=""><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a></header><section class="messages-wrapper scrollable" data-messages-list="" active-room="activeRoom" current-user="currentUser"></section><div class="right-side-backdrop" ng-class="{open: roomsOpen}" ng-click="toggleOpen()"></div><footer data-message-form="" active-room="activeRoom" participants-count="activeRoom.participants.length" current-user="currentUser"></footer></section></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/chat/chatAddParticipantsPopover.html",'<div class="i i-plus i-3x thumb-sm avatar" id="chatPlusButton"></div><section id="popoverContent" class="text-left hide"><section><div class="list-group"><div class="list-group-item"><a class="toggle" href=""><strong>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f</strong></a><div class="hide toggled-content m-t-sm" id="add"><div class="search-input" ng-controller="TypeaheadCtrl" type="participant"><input ng-model="input" data-sf-typeahead="" options="options" datasets="peopleDataset" placeholder="\u041f\u043e\u0438\u0441\u043a \u043b\u044e\u0434\u0435\u0439" type="text" class="input-sm form-control rounded text-sm" /><i class="i i-spinner" ng-if="searching"></i></div></div></div><div class="list-group-item" ng-show="!vm.activeRoom.private &amp;&amp; vm.author == vm.currentUser.id"><a class="toggle" href=""><strong>\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f</strong></a><div class="hide toggled-content scrollable" id="del"><ul class="list-unstyled m-t m-b-none m-l-sm"><li class="b-b" ng-repeat="p in vm.activeRoom.participants" ng-show="p.id !== vm.currentUser.id"><img class="img-circle m-r-sm" ng-src="{{p.avatar_path}}" /><span>{{p.name | truncate:25}}</span><button class="i i-cancel m-r-sm m-t-xs text-danger pull-right" ng-click="vm.deleteParticipant(vm.activeRoom.id, p.id)"></button></li></ul></div></div><div class="list-group-item" ng-show="!vm.activeRoom.private &amp;&amp; vm.author == vm.currentUser.id"><a class="toggle" href=""><strong>\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443</strong></a><div class="hide toggled-content" id="ren"><form class="m-t-sm" ng-submit="vm.renameRoom()"><input class="form-control input-sm rounded" ng-model="vm.title" placeholder="{{vm.activeRoom.title}}" type="text" value="" /></form></div></div></div></section></section>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/chat/chatMessageForm.html",'<div class="alert alert-danger alert-dismissible fade in" ng-show="vm.isShowingAlert &amp;&amp; vm.uploadError" role="alert"><button class="alert-close close" type="button" aria-label="Close" ng-click="vm.isShowingAlert = false"><span aria-hidden="true">&times</span></button>{{vm.uploadError}}</div><form class="js-chart-form" ng-submit="vm.sendMessage(vm.message, vm.uploadedFiles)" onsubmit="return false"><div class="input-group"><div class="files-preview" ng-show="vm.uploadedFiles.length || vm.isFileUploading"><a class="file" ng-repeat="file in vm.uploadedFiles" ng-attr-target="_blank" ng-href="{{file.url}}" ng-class="{deleting: file.isDeleting}"><div class="file__title">{{file.title}}</div><button class="file__delete-btn close" ng-click="vm.deleteFile($event, file.id)">x</button></a><i class="i i-spinner files-preview__loading" ng-show="vm.isFileUploading"></i></div><a class="chat-app__hint-link" href="/markdown" target="_blank"><svg class="chat-app__hint"><use xlink:href="/svg-defs.svg#icon-question_small"></use></svg></a><label id="attach-file" ng-class="{disabled: vm.uploadedFiles.length &gt;= 2}"><input class="hidden" type="file" id="filesUpload" ng-multiple="!vm.uploadedFiles.length" ng-disabled="vm.uploadedFiles.length &gt;= 2" /><div class="attach-file-icon"><img src="https://gbcdn.mrgcdn.ru/uploads/assets/attach_files/attach-icon-048b7804ee9d1315d67d78009349c20fbf413410a83201fb0f42897641d87222.svg" alt="Attach file" /></div></label><textarea class="form-control input-sm txtChatMessage" id="txtChatMessage" autocomplete="off" ng-model="vm.message" ng-disabled="vm.participantsCount &lt;= 1 || vm.activeRoom.isLoadingMessages" autofocus="" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435" type="text"></textarea><span class="input-group-btn"><button class="btn btn-sm" id="btnChatSubmit" type="submit" ng-disabled="vm.participantsCount &lt;= 1 || vm.activeRoom.blockingMessageSending"><svg class="svg-icon icon-send"><use xlink:href="/svg-defs.svg#icon-send"></use></svg></button></span></div></form>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/chat/chatMessagesList.html",'<section class="messages"><i class="i i-spinner loading-messages-spinner" ng-show="vm.activeRoom.isLoadingMessages"></i><article class="chat-item" ng-repeat="msg in vm.activeRoom.messages" id="message-{{$index}}"><a class="thumb-sm avatar hidden-xs" href="/users/{{msg.author_id}}" target="_blank" rel="nofollow" ng-class="::vm.isMine(msg.author_id) ? &#39;pull-right m-l&#39; : &#39;pull-left m-r&#39;"><img class="user-avatar-image" ng-src="{{::msg.avatar}}" /></a><section class="chat-body" ng-class="::vm.isMine(msg.author_id) ? &#39;pull-right right&#39; : &#39;pull-left left&#39;"><div class="panel m-b-none"><i class="i i-spinner text-muted" ng-show="msg.pending"></i><div class="panel-body message"><p class="message-text m-b-none text-left" highlight="" ng-model="vm.code" ng-bind-html="::msg.md_text"></p><a class="loaded_file m-b-none text-left" highlight="" ng-attr-target="_blank" ng-repeat="file in msg.files" ng-model="vm.code" ng-href="{{file.md_link}}">{{file.md_file_title}}</a></div></div><h6 class="m-t-xs chat-app__sub-message-data" ng-class="::vm.isMine(msg.author_id) ? &#39;pull-right&#39; : &#39;pull-left&#39;"> <span ng-show="!msg.pending &amp;&amp; !msg.send_failure">{{::msg.datetime | formatDataHoursMinutes}}</span><svg class="chat-app__sent-icon" ng-show="vm.isMine(msg.author_id) &amp;&amp; !msg.pending &amp;&amp; !msg.send_failure" fill="none" height="16" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M6 10.8L3.2 8L2.26666 8.93334L6 12.6667L14 4.66667L13.0667 3.73334L6 10.8Z" fill="#A4ADBA" /></svg><span class="chat-app__send-failure-message" ng-show="msg.send_failure"><span class="chat-app__send-failure-message-text">\u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</span><svg fill="none" height="16" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M7.57398 3C6.99363 3 6.53517 3.49238 6.57652 4.07125L7 10H9L9.42348 4.07125C9.46483 3.49238 9.00637 3 8.42602 3H7.57398ZM7.5 11H8.5C9.052 11 9.5 11.448 9.5 12C9.5 12.552 9.052 13 8.5 13H7.5C6.948 13 6.5 12.552 6.5 12C6.5 11.448 6.948 11 7.5 11Z" fill="#F4F5FA" fill-rule="evenodd" /></svg></span></h6></section></article></section>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/chat/chatParticipantsList.html",'<ul class="participants-list list-unstyled"><li class="participant pull-left" ng-repeat="p in participants | limitTo:10"><a class="pull-right thumb-sm avatar m-l-sm" href="{{p.teacher ? (&#39;/users/teachers/&#39; + p.id) : (&#39;/users/&#39; + p.id) }}" target="_blank" rel="nofollow"><img class="user-avatar-image" ng-src="{{p.avatar_path ? p.avatar_path : &#39;/images/anonymous.png&#39;}}" title="{{p.name}}" /></a></li></ul>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/chat/chatRoomsList.html",'<ul class="list-group alt rooms-list m-b-none"><li class="list-group-item room-item lt" ng-repeat="room in vm.rooms" data-id="{{::room.id}}" ng-class="(vm.activeRoomId == room.id) ? &#39;active&#39; : &#39;&#39;" ng-click="vm.changeRoom($event, room)"><div class="media vertical-center"><div class="pull-left thumb-sm avatar" ng-if="room.private &amp;&amp; room.participants.length &gt; 1"><img class="img-circle user-avatar-image" ng-src="{{vm.getAvatarSrc(room)}}" /><span class="badge bg-danger text-light badge-sm" ng-if="room.notifications"></span></div><div class="pull-left thumb-sm avatar" ng-if="!room.private"><span class="i i-chat2 i-2x" title="\u0413\u0440\u0443\u043f\u043f\u043e\u0432\u043e\u0439 \u0447\u0430\u0442"></span><span class="badge bg-danger text-light badge-sm" ng-if="room.notifications"></span></div><div class="pull-left thumb-sm avatar" ng-if="room.private &amp;&amp; room.participants.length == 1"><span class="fa fa-lock fa-2x" title="\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u0447\u0430\u0442"></span><span class="badge bg-danger text-light badge-sm" ng-if="room.notifications"></span></div><div><h5 class="name chat-app__room-title m-l" title="{{vm.nameRoom(room)}}">{{vm.nameRoom(room) | truncate:25}}</h5><ul class="chat-app__room-tag-list" ng-show="::room.tags &amp;&amp; room.tags.length"><li ng-repeat="tag in vm.filterRoomTags(room)" class="chat-app__room-tag-list-tag chat-app__room-tag-list-tag_{{tag}}">{{vm.getRoomTagTitle(tag)}}</li></ul></div></div><button class="close js-close" type="button" ng-click="vm.leaveRoom(room)" ng-if="room.study_group == null">\xd7</button></li></ul>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/comments/comment.directive.template.html",'<li class="gb__comment-item" itemscope="" itemtype="http://schema.org/Comment" id="comment-{{::$ctrl.comment.id}}" ng-class="{ &#39;comment-hidden&#39; : $ctrl.comment.hidden,  &#39;comment-reply&#39; : $ctrl.comment.parent_id,  &#39;comment-solution&#39;: $ctrl.comment.is_answer  }" ng-show="!$ctrl.comment.hidden || $ctrl.canHide()"><div class="gb__comment-item-header"><a class="js-hide" target="_blank" rel="nofollow" ng-href="{{($ctrl.comment.user.teacher) ? (&#39;/users/teachers/&#39; + $ctrl.comment.user.id) : (&#39;/users/&#39; + $ctrl.comment.user.id) }}"><img class="gb__comment-item-user-avatar user-avatar-image" ng-src="{{::$ctrl.comment.user.image.url}}" /></a><div class="gb__comment-item-header-user-data"><a class="gb__comment-item-header-user-data-name" target="_blank" rel="nofollow" ng-href="{{($ctrl.comment.user.teacher) ? (&#39;/users/teachers/&#39; + $ctrl.comment.user.id) : (&#39;/users/&#39; + $ctrl.comment.user.id) }}" creator="{{::$ctrl.comment.user.full_name}}">{{::$ctrl.comment.user.full_name}}</a><span class="js-hide"><span ng-show="::$ctrl.comment.is_comment_role_present"><span>&nbsp;&nbsp;&bull;&nbsp;&nbsp;</span><span class="{{::$ctrl.comment.bg_color_class}}">{{::$ctrl.comment.comment_role}}</span></span></span><span class="comment-date">&nbsp;&nbsp;&bull;&nbsp;&nbsp;{{::$ctrl.comment.date_formatted}}</span></div><a class="toggle-comment-dropdown-menu-button" href=""><svg class="svg-icon icon-more-icon"><use xlink:href="/svg-defs.svg#icon-more-icon"></use></svg></a><div class="comment-dropdown-menu" id="comment-dropdown-{{::$ctrl.comment.id}}"><ul><li ng-show="$ctrl.canEdit()"><a class="edit dropdown-item" href="">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a></li><li><a class="dropdown-item" ng-href="#comment-{{::$ctrl.comment.id}}">\u0421\u0441\u044b\u043b\u043a\u0430</a></li><li ng-show="::$ctrl.current_user"><a class="dropdown-item no-hide" href="" ng-hide="$ctrl.comment.complaint" ng-click="$ctrl.complaint()">\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f</a><span ng-show="$ctrl.comment.complaint">\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430</span></li><li ng-show="$ctrl.canSendToCrm()"><a class="dropdown-item no-hide" href="" ng-hide="$ctrl.comment.send_to_crm" ng-click="$ctrl.send_to_crm()">\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432 CRM</a><span ng-show="$ctrl.comment.send_to_crm">\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432 CRM</span></li><li ng-if="$ctrl.canHide() &amp;&amp; !$ctrl.comment.hidden"><a class="dropdown-item" href="" ng-click="$ctrl.hideComment()">\u0421\u043a\u0440\u044b\u0442\u044c</a></li><li ng-if="$ctrl.canHide() &amp;&amp; $ctrl.comment.hidden"><a class="dropdown-item" href="" ng-click="$ctrl.publishComment()">\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c</a></li></ul></div></div><div class="gb__comment-item-body" data-comment-id="{{::$ctrl.comment.id}}"><div class="gb__comment-item-body-content js-hide js-comment-body-content" ng-model="$ctrl.comment.code" highlight="" text="{{::$ctrl.comment.html}}" ng-bind-html="$ctrl.comment.html"></div><form class="reply-form" ng-class="{open: $ctrl.replyFormIsOpen}"></form><div class="gb__comment-item-footer js-hide" ng-hide="$ctrl.readonly || $ctrl.replyFormIsOpen"><div class="comment-controls" ng-if="::$ctrl.answersMode !== false"><a class="reply" href="" ng-show="::$ctrl.current_user">\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c</a><span class="thank"><a class="comment__thank-link" href="" ng-if="::$ctrl.canThank()" ng-click="$ctrl.thank()" ng-class="$ctrl.comment.is_liked ? &#39;text-success&#39; : &#39;text-muted&#39;"><span class="text">\u0421\u043f\u0430\u0441\u0438\u0431\u043e</span><svg class="icon-like-mini"><use xlink:href="/svg-defs.svg#icon-like-mini"></use></svg><span>{{$ctrl.comment.likes_count}}</span></a><span class="comment__thank-text" ng-if="::!$ctrl.canThank()"><span class="text">\u0421\u043f\u0430\u0441\u0438\u0431\u043e</span><svg class="icon-like-mini"><use xlink:href="/svg-defs.svg#icon-like-mini"></use></svg><span>{{$ctrl.comment.likes_count}}</span></span></span><span class="set-as-solution" ng-if="$ctrl.answersMode &amp;&amp; !$ctrl.isSubcomment"><a href="" ng-click="$ctrl.setAnswer({commentId: $ctrl.comment.id})" ng-if="$ctrl.canMarkAsAnswer() &amp;&amp; !$ctrl.comment.is_answer"><span class="desktop">\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438\u0435\u043c</span><svg class="svg-icon icon-check mobile"><use xlink:href="/svg-defs.svg#icon-check"></use></svg></a><span class="solution" ng-if="$ctrl.comment.is_answer"><span class="desktop">\u041e\u0442\u043c\u0435\u0447\u0435\u043d\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u0435\u043c</span><svg class="svg-icon icon-check mobile"><use xlink:href="/svg-defs.svg#icon-check"></use></svg></span></span></div><a class="gb__comment-item-fold-control js-hide js-fold-children" href="" ng-show="!!$ctrl.comment.children.length"><svg class="svg-icon icon-minus-in-circle"><use xlink:href="/svg-defs.svg#icon-minus-in-circle"></use></svg><span>\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u0435\u0442\u043a\u0443</span></a><a class="gb__comment-item-fold-control js-hide js-unfold-children" href=""><svg class="svg-icon icon-plus-in-circle"><use xlink:href="/svg-defs.svg#icon-plus-in-circle"></use></svg><span>\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u0435\u0442\u043a\u0443</span></a></div></div><ul class="gb__comments-list gb__comments-list_children"></ul></li>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/comments/comment_button.directive.template.html",'<button class="btn comment-save-button js-save-btn" ng-disabled="!markdownEditorCtrl.ngModel.trim().length || markdownEditorCtrl.pending"><i class="i i-spinner" ng-if="markdownEditorCtrl.pending"></i><span ng-if="!markdownEditorCtrl.pending">\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c</span></button>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/comments/comments.directive.template.html",'<div class="comments-block" ng-class="{&#39;comments-block_answers-mode&#39;: commentsCtrl.answersMode}"><div class="comments-block__content"><div class="h4 inline text-header comments-block__header" ng-if="::commentsCtrl.scrollable &amp;&amp; !commentsCtrl.singleComment"><span ng-if="commentsCtrl.answersMode">\u041e\u0442\u0432\u0435\u0442\u044b</span><span ng-if="!commentsCtrl.answersMode">\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438</span><span class="counter-point text-muted">&nbsp;&nbsp;&bull;&nbsp;&nbsp;</span><span class="text-muted" ng-bind="commentsCtrl.totalCommentsCount"></span></div><div class="order-control pull-right clearfix" ng-if="!commentsCtrl.singleComment &amp;&amp; commentsCtrl.comments.length &amp;&amp; !commentsCtrl.answersMode"><i class="i i-arrow-up m-r-xs" href="" title="\u041d\u043e\u0432\u044b\u0435 \u0441\u0432\u0435\u0440\u0445\u0443" ng-class="commentsCtrl.order==&#39;desc&#39; ? &#39;text-primary&#39; : &#39;text-muted&#39;"></i><label class="switch inline-block m-l-xs m-r-xs"><input type="checkbox" ng-change="commentsCtrl.sortComments()" ng-model="commentsCtrl.switchState" ng-checked="commentsCtrl.switchState" ng-disabled="commentsCtrl.pending" /><span></span></label><i class="i i-arrow-down m-l-xs" href="" title="\u041d\u043e\u0432\u044b\u0435 \u0441\u043d\u0438\u0437\u0443" ng-class="commentsCtrl.order==&#39;asc&#39; ? &#39;text-primary&#39; : &#39;text-muted&#39;"></i></div><div class="m-t-xs m-b pull-right f14 relative z-100" ng-if="::commentsCtrl.singleComment"><a class="text-primary" ng-href="{{::commentsCtrl.originalUrl()}}">\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f</a></div></div><div class="relative" ng-if="!commentsCtrl.lessonComments || (commentsCtrl.lessonComments &amp;&amp; commentsCtrl.current_user)"><a class="pull-left" ng-if="::!commentsCtrl.readonly &amp;&amp; !commentsCtrl.singleComment &amp;&amp; commentsCtrl.current_user" href="{{ (commentsCtrl.current_user.teacher) ? (&#39;/users/teachers/&#39; + commentsCtrl.current_user.id) : (&#39;/users/&#39; + commentsCtrl.current_user.id) }}" rel="nofollow"><img class="gb__comment-item-user-avatar user-avatar-image" ng-src="{{::commentsCtrl.current_user.avatar}}" /></a><form class="main-form" ng-if="::!commentsCtrl.readonly &amp;&amp; commentsCtrl.scrollable &amp;&amp; !commentsCtrl.singleComment"><article id="comment-form"><markdown-editor ng-model="commentsCtrl.editorContent" name="root-editor-form" placeholder="{{ commentsCtrl.answersMode ? &#39;\u0412\u0430\u0448 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441&#39; : &#39;\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439&#39;}}" data-button-text="\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c" toolbar="commentsCtrl.toolbar" ng-class="commentsCtrl.toolbar === false ? &#39;toolbar-false&#39; : &#39;&#39;"></markdown-editor></article></form><section class="block"><div class="text-center m-t-lg clearfix" ng-show="!commentsCtrl.pending &amp;&amp; !commentsCtrl.comments.length &amp;&amp; !commentsCtrl.readonly"><div class="comments-block__no-comments-title h4 m-b">\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432</div></div><div class="text-center" ng-show="commentsCtrl.readonly &amp;&amp; !commentsCtrl.pending &amp;&amp; !commentsCtrl.registrationPopup"><div class="comments-block__no-comments-title h4 m-b">\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u043e</div></div><div class="text-center m-t" ng-show="commentsCtrl.pending"><i class="i i-spinner text-muted" ng-class="::commentsCtrl.readonly ? &#39;readonly&#39; : &#39;&#39;"></i></div><ul class="gb__comments-list"><div class="comments-overlayer" ng-show="commentsCtrl.pending"></div><comment-directive ng-repeat="comment in commentsCtrl.comments track by comment.comment.id" data-comment="comment.comment" on-set-answer="commentsCtrl.setAnswer(commentId)" show-comment-date="commentsCtrl.showCommentDate" answers-mode="commentsCtrl.answersMode"></comment-directive></ul></section><a class="comments-get-more-feedbacks-button" ng-click="commentsCtrl.getComments()" href="" ng-show="commentsCtrl.withLoadMoreButton &amp;&amp; commentsCtrl.comments.length &amp;&amp; commentsCtrl.comments.length &lt; commentsCtrl.total"><span>\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435</span></a><infinite-scroll-pagination collection="commentsCtrl.comments" url="commentsCtrl.commentsUrl" scrollable="commentsCtrl.isScrollable" scrollable-parent-id="commentsCtrl.scrollableParentId" per-page="10"></infinite-scroll-pagination></div><div class="relative" ng-if="commentsCtrl.lessonComments &amp;&amp; !commentsCtrl.current_user"><section class="block"><div class="text-center"><div class="comments-block__no-comments-title h4 m-b">\u0414\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e&nbsp;<a class="text-primary" href="/login">\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f.</a></div></div></section></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/comments/markdown_editor.directive.template.html",'<div class="gb-markdown-editor"><div class="markdown-editor" ng-class="{closed: !markdownEditorCtrl.editorIsOpen}"><div class="markdown-editor__editorarea"><div class="nopreview"><textarea class="js-text-input" ng-model="markdownEditorCtrl.ngModel" ng-disabled="markdownEditorCtrl.pending" ng-attr-placeholder="{{markdownEditorCtrl.placeholder}}" easymde="" toolbar="markdownEditorCtrl.toolbar"></textarea></div></div></div><div class="text-danger text-sm m-t-sm" ng-show="markdownEditorCtrl.sendingError"><span ng-show="!markdownEditorCtrl.method || markdownEditorCtrl.method === &#39;reply&#39;">\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.</span><span ng-show="markdownEditorCtrl.method === &#39;edit&#39;">\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.</span></div><div class="markdown-editor__control-buttons-wrapper" ng-show="markdownEditorCtrl.editorIsOpen"><save-comment-button ng-if="!markdownEditorCtrl.action || markdownEditorCtrl.action === &#39;reply&#39;"></save-comment-button><edit-comment-button ng-if="markdownEditorCtrl.action === &#39;edit&#39;"></edit-comment-button><button class="btn markdown-editor-cancel-editing-button" ng-click="markdownEditorCtrl.cancel()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></button></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/coursePage/add_product_to_cart_button.directive.template.html",'<div><a class="btn btn-lg btn-primary m-b btn-group btn-group-justified text-md m-t" ng-click="addProductToCartButtonCtrl.addProductToCart()" ng-disabled="addProductToCartButtonCtrl.pending" ng-if="!addProductToCartButtonCtrl.isProductInTheCart"><div ng-if="!addProductToCartButtonCtrl.pending"> <i class="i i-cart text"></i> <span>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443</span></div><i class="i i-spinner" ng-if="addProductToCartButtonCtrl.pending"></i></a><div class="text-center m-t m-b" ng-if="addProductToCartButtonCtrl.isProductInTheCart"><div class="text-success"><span>\u041a\u0443\u0440\u0441 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443</span></div><a class="text-primary" href="/cart"><span>\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443</span></a></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/feedbacks/feedback.component.template.html",'<article class="gb__comment-item gb-comment-item"><a class="feedback-admin-link" target="_blank" ng-href="{{::$ctrl.feedback.admin_url}}" ng-show="::$ctrl.feedback.admin_url"><svg class="icon-link"><use xlink:href="/svg-defs.svg#icon-link"></use></svg></a><header class="gb-comment-item__header" ng-show="{{::!$ctrl.mentorId}}" ng-if="::!$ctrl.compact"><h3></h3><a ng-href="{{ ($ctrl.feedback.user.teacher) ? (&#39;/users/teachers/&#39; + $ctrl.feedback.user.id) : (&#39;/users/&#39; + $ctrl.feedback.user.id) }}" ng-show="::!$ctrl.compact" rel="nofollow"><img class="gb__comment-item-user-avatar user-avatar-image" ng-src="{{::$ctrl.feedback.user.image.url}}" /></a><h3 ng-show="::!$ctrl.compact"><a ng-href="{{ ($ctrl.feedback.user.teacher) ? &#39;/users/teachers/&#39; + $ctrl.feedback.user.id : &#39;/users/&#39; + $ctrl.feedback.user.id }}" rel="nofollow">{{::$ctrl.feedback.user.full_name}}</a></h3></header><div class="gb__comment-item-body"><div class="gb__comment-item-body-content"><div ng-bind-html="::$ctrl.feedback.html"></div><div class="bg-light p m-t-sm" ng-show="::$ctrl.feedback.answer_html"><div ng-bind-html="::$ctrl.feedback.answer_html"></div></div></div><footer class="gb-comment-item__footer"><span><span ng-show="::!$ctrl.mentorId">\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c</span> <a class="text-muted" ng-show="::!$ctrl.mentorId" ng-href="/users/teachers/{{::$ctrl.feedback.teacher_id}}" rel="nofollow">{{::$ctrl.feedback.teacher_name}}</a>  <span ng-show="::!$ctrl.mentorId">\u2022</span> <strong ng-show="::!$ctrl.mentorId" ng-class="{&#39;text-success&#39;: $ctrl.feedback.teacher_score &gt;= 4, &#39;text-danger&#39;: $ctrl.feedback.teacher_score &lt;= 2, &#39;text-warning&#39;: $ctrl.feedback.teacher_score === 3}">{{::$ctrl.feedback.teacher_score}}</strong><span ng-show="::$ctrl.mentorId">\u041d\u0430\u0441\u0442\u0430\u0432\u043d\u0438\u043a</span> <a class="text-muted" ng-show="::$ctrl.mentorId" ng-href="/users/{{::$ctrl.feedback.mentor_id}}" rel="nofollow">{{::$ctrl.feedback.mentor_name}}</a>  <span ng-show="::$ctrl.mentorId">\u2022</span> <strong ng-show="::$ctrl.mentorId" ng-class="{&#39;text-success&#39;: $ctrl.feedback.mentor_score &gt;= 4, &#39;text-danger&#39;: $ctrl.feedback.mentor_score &lt;= 2, &#39;text-warning&#39;: $ctrl.feedback.mentor_score === 3}">{{::$ctrl.feedback.mentor_score}}</strong></span><span><span>\u041a\u0443\u0440\u0441</span> <a class="text-muted" ng-href="/courses/{{::$ctrl.feedback.course_id}}">\xab{{::$ctrl.feedback.course_title}}\xbb</a>  <span>\u2022</span> <strong ng-class="{&#39;text-success&#39;: $ctrl.feedback.program_score &gt;= 4, &#39;text-danger&#39;: $ctrl.feedback.program_score &lt;= 2, &#39;text-warning&#39;: $ctrl.feedback.program_score === 3}">{{::$ctrl.feedback.program_score}}</strong></span><span ng-if="::!$ctrl.compact"> <a class="text-muted" href="/courses/{{::$ctrl.feedback.course_id}}/{{::$ctrl.feedback.url}}">\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0447\u0435\u043d\u0438\u043a\u0430</a> </span></footer></div></article>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/feedbacks/feedbacks.component.template.html",'<section class="gb__comments-list"><feedback ng-repeat="item in $ctrl.feedbacks" feedback="item.feedback" mentor-id="::$ctrl.mentorId" compact="::$ctrl.compact" skip-recent="::$ctrl.skipRecent"></feedback><div class="text-center"><i class="i i-spinner" ng-show="$ctrl.pending &amp;&amp; !$ctrl.feedbacks.length"></i></div><a class="feedbacks-get-more-feedbacks-button" ng-click="$ctrl.getFeedbacks()" href="" ng-show="$ctrl.feedbacks.length &amp;&amp; $ctrl.feedbacks.length &lt; $ctrl.total"><i class="i i-spinner" ng-show="$ctrl.pending"></i><span ng-hide="$ctrl.pending">\u0415\u0449\u0451 {{$ctrl.total - $ctrl.feedbacks.length > $ctrl.perPage ? $ctrl.perPage : $ctrl.total - $ctrl.feedbacks.length}} {{$ctrl.gbHelpers.getNoun($ctrl.total - $ctrl.feedbacks.length > $ctrl.perPage ? $ctrl.perPage : $ctrl.total - $ctrl.feedbacks.length, \'\u043e\u0442\u0437\u044b\u0432\', \'\u043e\u0442\u0437\u044b\u0432\u0430\', \'\u043e\u0442\u0437\u044b\u0432\u043e\u0432\')}} \u0438\u0437 {{$ctrl.total - $ctrl.feedbacks.length}}</span></a></section>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/feedbacks/feedbacks_chart.directive.template.html",'<svg class="svg-icon icon-comments"><use xlink:href="/svg-defs.svg#icon-comments"></use></svg><div class="h2 feedbacks__feedback-counter">{{count}}</div><span>{{noun}}</span>')}]),angular.module("templates").run(["$templateCache",function(e){
e.put("ng/learning/content.template.html",'<div class="gb-markdown-editor"><div class="teacher-notice" focus-on-edit="" observable="$ctrl.editingComment"><a class="pull-left" href=""><img class="gb__comment-item-user-avatar user-avatar-image" ng-src="{{::$ctrl.user.image.url}}" /></a><div class="markdown-editor-wrapper" ng-if="!$ctrl.lesson.content || $ctrl.editingComment"><div class="markdown-editor" ng-class="{closed: !$ctrl.editorIsOpen}"><div class="markdown-editor__editorarea"><div class="nopreview"><textarea class="js-text-input" ng-model="$ctrl.ngModel" ng-disabled="$ctrl.pending" easymde="" placeholder="\u0412\u0430\u0436\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432"></textarea></div></div></div><div class="text-danger text-sm m-t-sm" ng-show="$ctrl.sendingError"><span ng-show="markdownEditorCtrl.method === &#39;edit&#39;">\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.</span></div><div class="markdown-editor__control-buttons-wrapper" ng-show="$ctrl.editorIsOpen"><button class="btn comment-save-button js-save-btn" ng-click="$ctrl.saveComment()" ng-disabled="!$ctrl.ngModel.trim().length || $ctrl.pending"><i class="i i-spinner" ng-show="$ctrl.pending"></i><span ng-show="!$ctrl.pending">\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c</span></button><button class="btn markdown-editor-cancel-editing-button" ng-click="$ctrl.cancel()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></button></div></div><div class="comment-wrapper" ng-if="$ctrl.lesson.content &amp;&amp; !$ctrl.editingComment"><div class="comment-wrapper__content edit-icon-on-hover" ng-click="$ctrl.editComment()" ng-bind-html="$ctrl.lesson.content_html"></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/learning/homework.template.html",'<div class="homework"><div class="details text-muted m-b-md" ng-cloak="" ng-show="$ctrl.lesson.can_upload_homework === true"><p>\u0421\u0434\u0430\u0439\u0442\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0434\u043e: {{::$ctrl.deadline}}</p></div><div class="droplet" ng-show="$ctrl.lesson.homework_kind === &#39;attachment&#39; || $ctrl.iDontKnowGit"></div><div class="teacher-comment" ng-cloak="" ng-show="$ctrl.homework.teacher_comment"><a href="/users/teachers/{{::$ctrl.homework.teacher.id}}" rel="nofollow"><img class="teacher-comment__avatar" ng-src="{{::$ctrl.homework.teacher.image.url}}" /></a><div class="teacher-comment__content"><a class="teacher-comment__name" href="/users/teachers/{{::$ctrl.homework.teacher.id}}" rel="nofollow">{{::$ctrl.homework.teacher.full_name}}\u30fb\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c</a><div class="teacher-comment__text" ng-bind-html="$ctrl.homework.teacher_comment_html"></div></div></div><div class="teacher-comment teacher-comment_mentor" ng-cloak="" ng-show="$ctrl.homework.mentor_comment"><a href="/users/{{::$ctrl.homework.mentor.id}}" rel="nofollow"><img class="teacher-comment__avatar" ng-src="{{::$ctrl.homework.mentor.image.url}}" /><svg class="svg-icon icon-guru"><use xlink:href="/svg-defs.svg#icon-guru"></use></svg></a><div class="teacher-comment__content"><a class="teacher-comment__name" href="/users/{{::$ctrl.homework.mentor.id}}" rel="nofollow">{{::$ctrl.homework.mentor.full_name}}\u30fb\u041d\u0430\u0441\u0442\u0430\u0432\u043d\u0438\u043a</a><div class="teacher-comment__text" ng-bind-html="$ctrl.homework.mentor_comment_html"></div></div></div><div class="attachment" ng-show="$ctrl.homework.show_score"><div class="attachment__header"><div class="attachment__state attachment__state_sent" ng-show="($ctrl.homework.state === &#39;pending&#39; || $ctrl.homework.state === &#39;new&#39;)"><svg class="svg-icon icon-homework-done"><use xlink:href="/svg-defs.svg#icon-homework-done"></use></svg><div class="status">\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443</div></div><div class="attachment__state attachment__state_examine" ng-show="$ctrl.homework.state === &#39;examining&#39;"><div class="status">\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b \u043a \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f</div></div><div class="attachment__state attachment__state_success" ng-show="$ctrl.homework.state === &#39;succeed&#39; &amp;&amp; $ctrl.homework.teacher_score !== 3"><svg class="svg-icon icon-homework-done"><use xlink:href="/svg-defs.svg#icon-homework-done"></use></svg><span ng-switch="$ctrl.homework.teacher_score"><span ng-switch-when="5">\u041e\u0442\u043b\u0438\u0447\u043d\u043e</span><span ng-switch-when="4">\u0425\u043e\u0440\u043e\u0448\u043e</span></span></div><div class="attachment__state attachment__state_satisfactorily" ng-show="$ctrl.homework.state === &#39;succeed&#39; &amp;&amp; $ctrl.homework.teacher_score === 3"><svg class="svg-icon icon-homework-done"><use xlink:href="/svg-defs.svg#icon-homework-done"></use></svg><span>\u0423\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e</span></div><div class="attachment__state attachment__state_fail" ng-show="$ctrl.homework.state === &#39;failed&#39;"><svg class="svg-icon icon-homework-done"><use xlink:href="/svg-defs.svg#icon-x-in-circle"></use></svg><div class="status">\u041d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u043e</div></div></div><div class="attachment__list" ng-show="$ctrl.homework.attachments &amp;&amp; $ctrl.homework.attachments.length"><div class="attachment__list-name" style="margin-bottom: 8px;">\u0424\u0430\u0439\u043b\u044b \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430</div><div class="attachment__item" ng-repeat="attachment in $ctrl.homework.attachments"><div class="attachment__item-container"><div><a target="_blank" href="" ng-href="{{attachment.url}}" download="{{attachment.title}}">{{attachment.title}}</a></div><div><a href="" ng-click="$ctrl.removeAttachment(attachment)" ng-show="($ctrl.homework.state === &#39;pending&#39; || $ctrl.homework.state === &#39;new&#39;) &amp;&amp; $ctrl.lesson.can_upload_homework === true"><svg class="svg-icon icon-trash"><use xlink:href="/svg-defs.svg#icon-trash"></use></svg></a><a target="_blank" ng-href="{{attachment.url}}" ng-show="($ctrl.homework.state === &#39;succeed&#39; || $ctrl.homework.state === &#39;failed&#39;) || $ctrl.lesson.can_upload_homework === false" download="{{attachment.title}}"><svg class="svg-icon icon-download"><use xlink:href="/svg-defs.svg#icon-download"></use></svg></a></div></div><div class="attachment__item-created-at">{{attachment.created_at}}</div></div></div><div class="attachment__list" ng-show="$ctrl.homework.teacher_attachments &amp;&amp; $ctrl.homework.teacher_attachments.length"><div class="attachment__list-name" style="margin-bottom: 8px;">\u0424\u0430\u0439\u043b\u044b \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f</div><div class="attachment__item" ng-repeat="attachment in $ctrl.homework.teacher_attachments"><div class="attachment__item-container"><div><a target="_blank" href="" ng-href="{{attachment.url}}" download="{{attachment.title}}">{{attachment.title}}</a></div><div><a href="" ng-click="$ctrl.removeAttachmentNew(attachment)" ng-show="($ctrl.homework.state === &#39;pending&#39; || $ctrl.homework.state === &#39;new&#39;) &amp;&amp; $ctrl.lesson.can_upload_homework === true"><svg class="svg-icon icon-trash"><use xlink:href="/svg-defs.svg#icon-trash"></use></svg></a><a target="_blank" ng-href="{{attachment.url}}" ng-show="($ctrl.homework.state === &#39;succeed&#39; || $ctrl.homework.state === &#39;failed&#39;) || $ctrl.lesson.can_upload_homework === false" download="{{attachment.title}}"><svg class="svg-icon icon-download"><use xlink:href="/svg-defs.svg#icon-download"></use></svg></a></div></div><div class="attachment__item-created-at">{{attachment.created_at}}</div></div></div></div><homework-comment comment="$ctrl.homework.user_comment" on-comment-update="$ctrl.updateComment($event)" user="$ctrl.currentUser" on-change-to-attachment="$ctrl.onChangeToAttachment()" on-change-to-attachment-on-false="$ctrl.onChangeToAttachmentOnFalse()"></homework-comment><div class="attachment__state attachment__state_fail" ng-show="$ctrl.timeOut === true"><div class="status">\u0412\u0440\u0435\u043c\u044f \u0434\u043b\u044f \u0441\u0434\u0430\u0447\u0438 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0432\u044b\u0448\u043b\u043e</div></div><button class="btn comment-save-button button-extend" ng-click="$ctrl.extendingHomeworkDeadline()" ng-show="$ctrl.timeOut === true &amp;&amp; $ctrl.extendDeadline == true"><span>\u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u0434\u043e: {{::$ctrl.extendHomeworkDate}}</span></button><div class="attachment__state attachment__state_fail" ng-show="$ctrl.extendDeadlineMessage"><div class="status">{{::$ctrl.extendDeadlineMessage}}</div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/learning/homework_comment.template.html",'<div class="gb-markdown-editor"><div class="homework-comment form-inputs" ng-show="$ctrl.homeworkCtrl.homework.user_comment || $ctrl.homeworkCtrl.homework.pull_request || $ctrl.homeworkCtrl.lesson.can_upload_homework" focus-on-edit="" observable="$ctrl.editingComment" ng-form="homeworkForm"><div class="form-group" ng-show="$ctrl.homeworkCtrl.lesson.homework_kind !== &#39;attachment&#39; &amp;&amp; $ctrl.homeworkCtrl.lesson.can_upload_homework &amp;&amp; !$ctrl.iDontKnowGit"><svg class="svg-icon icon-github gb__comment-item-github"><use xlink:href="/svg-defs.svg#icon-github"></use></svg><input class="string optional padded form-control" type="text" ng-model="$ctrl.pullRequest" placeholder="\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 Pull Request \u0432 GitHub" ng-pattern="/^https:\\/\\/github\\.com\\/[^\\/]+\\/[^\\/]+\\/pull\\/\\d+$/" name="pullRequest" ng-disabled="$ctrl.pendingPR || $ctrl.succeed" /><button class="btn btn-primary js-save-btn m-l" ng-disabled="$ctrl.pullRequest === $ctrl.homeworkCtrl.homework.pull_request || $ctrl.pendingPR || !$ctrl.pullRequest || !homeworkForm.$valid" ng-click="$ctrl.savePullRequest()">\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c</button></div><div class="homework-comment-input-text" ng-show="$ctrl.homeworkCtrl.homework.user_comment || $ctrl.homeworkCtrl.lesson.can_upload_homework"><a class="pull-left" href=""><img class="gb__comment-item-user-avatar user-avatar-image" ng-src="{{::$ctrl.user.image.url}}" /></a><div class="markdown-editor-wrapper" ng-if="$ctrl.homeworkCtrl.lesson &amp;&amp; (!$ctrl.comment || $ctrl.editingComment)"><div class="markdown-editor" ng-class="{closed: !$ctrl.editorIsOpen}"><div class="markdown-editor__editorarea"><div class="nopreview"><textarea class="js-text-input" ng-model="$ctrl.ngModel" ng-disabled="$ctrl.pending" easymde="" placeholder="{{$ctrl.homeworkCtrl.lesson.homework_kind === &#39;git&#39; ? &#39;\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u0437\u0430\u0434\u0430\u043d\u0438\u044e \u0438\u043b\u0438 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 github-\u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439, \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c pull-request&#39; : &#39;\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u0437\u0430\u0434\u0430\u043d\u0438\u044e&#39;}}"></textarea></div></div></div><div class="text-danger text-sm m-t-sm" ng-show="$ctrl.sendingError"><span ng-show="markdownEditorCtrl.method === &#39;edit&#39;">\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.</span></div><div class="markdown-editor__control-buttons-wrapper" ng-show="$ctrl.editorIsOpen"><button class="btn comment-save-button homework-comment-save-button js-save-btn" ng-click="$ctrl.saveComment()" ng-disabled="!$ctrl.ngModel.trim().length || $ctrl.pending"><i class="i i-spinner" ng-show="$ctrl.pending"></i><span ng-show="!$ctrl.pending">\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c</span></button><button class="btn markdown-editor-cancel-editing-button" ng-click="$ctrl.cancel()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></button></div></div><div class="comment-wrapper" ng-if="$ctrl.comment &amp;&amp; !$ctrl.editingComment"><div class="comment-wrapper__content" ng-class="{&#39;edit-icon-on-hover&#39; : $ctrl.isEditable()}" ng-click="$ctrl.editComment()" ng-bind-html="$ctrl.homeworkCtrl.homework.user_comment_html"></div></div></div><div class="homework-comment-pass-task-text i-know-git" ng-show="$ctrl.iDontKnowGit" ng-click="$ctrl.changeToAttachmentOnFalse()"><span>\u0421\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0435, &nbsp;</span><a href="">\u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0432 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 Pull Request \u0432 Git</a></div><div class="homework-comment-pass-task-text m-b-lg" ng-show="$ctrl.homeworkCtrl.lesson.homework_kind !== &#39;attachment&#39; &amp;&amp; $ctrl.homeworkCtrl.lesson.can_upload_homework &amp;&amp; !$ctrl.iDontKnowGit"><span>\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 Git, \u043f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441</span> <a href="/courses/799" target="_blank">Git. \u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442</a> <span>\u0438\u043b\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c</span> <a href="https://goo.gl/cjtgYC" rel="nofollow" target="_blank">\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0435\u0439</a><span>.</span><br /></div><div class="homework-comment-pass-task-text i-know-git m-b-lg" ng-show="$ctrl.homeworkCtrl.lesson.homework_kind === &#39;git_or_attachment&#39; &amp;&amp; $ctrl.homeworkCtrl.lesson.can_upload_homework &amp;&amp; !$ctrl.iDontKnowGit"><span>\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0443\u0441\u043f\u0435\u043b\u0438 \u043e\u0441\u0432\u043e\u0438\u0442\u044c git, \u0432 \u044d\u0442\u043e\u0442 \u0440\u0430\u0437 \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442\u0441\u044f</span> <a href="#" ng-click="$ctrl.changeToAttachment()">\u0441\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0432 \u0432\u0438\u0434\u0435 zip-\u0430\u0440\u0445\u0438\u0432\u0430</a><span>.</span></div><div class="user-pull-request" ng-show="$ctrl.homeworkCtrl.homework.pull_request &amp;&amp; !$ctrl.homeworkCtrl.lesson.can_upload_homework" ng-class="{&#39;user-pull-request_with-top-border&#39; : !$ctrl.homeworkCtrl.homework.attachment}"><svg class="svg-icon icon-github user-pull-request__github"><use xlink:href="/svg-defs.svg#icon-github"></use></svg><p><a target="_blank" href="{{$ctrl.homeworkCtrl.homework.pull_request}}">{{$ctrl.homeworkCtrl.homework.pull_request}}</a></p></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/learning/homework_deadline_issue_students.template.html",'<div class="teacher-homeworks-wrapper teacher-homeworks-wrapper_missed-deadline"><aside class="left-aside-wrapper" id="students-scrollable-list" ng-show="$ctrl.missedDeadlineStudents.length"><div class="homeworks"><ul class="homeworks__list" id="mentor-homework-deadline-issue-students"><li class="homeworks__list-item" ng-repeat="item in $ctrl.missedDeadlineStudents"><a class="homeworks__list-item-link" href="" ng-click="$ctrl.selectStudent(item.homework_deadline_issue)" ng-class="{&#39;homeworks__list-item-link_selected&#39;: item.homework_deadline_issue.student.id === $ctrl.selectedStudent.student.id}"><div class="homeworks__list-item-link-status-icon homeworks__list-item-link-status-icon_checked" ng-show="item.homework_deadline_issue.state === &#39;resolved&#39;"><svg class="svg-icon icon-check"><use xlink:href="/svg-defs.svg#icon-check" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div><div class="homeworks__list-item-link-content"><img class="user-avatar" ng-src="{{::item.homework_deadline_issue.student.image.url}}" /><span class="user-name">{{::item.homework_deadline_issue.student.full_name}}</span></div></a></li><infinite-scroll-pagination url="$ctrl.missedDeadlineHomeworkStudentsUrl" collection="$ctrl.missedDeadlineStudents" scrollable="true" uniq-key="homework_deadline_issue.id" visible-element="#mentor-homework-deadline-issue-students" id="missed-deadline-checked" scrollable-parent-id="$ctrl.studentsScrollableList" per-page="20"></infinite-scroll-pagination></ul></div></aside><div class="center-wrapper" ng-class="{&#39;center-wrapper_empty&#39; : !$ctrl.pendingStudents.length &amp;&amp; !$ctrl.checkedStudents.length}"><div><div class="homework-header"><a class="show-content-link" href="#" ng-click="$ctrl.openContent()" ng-hide="$ctrl.contentIsOpen()"><span>\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u044f</span><svg class="svg-icon icon-arrow-down"><use xlink:href="/svg-defs.svg#icon-arrow-down"></use></svg></a><a class="hide-content-link" href="#" ng-click="$ctrl.closeContent()" ng-show="$ctrl.contentIsOpen()"><span>\u0421\u043a\u0440\u044b\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u044f</span><svg class="svg-icon icon-arrow-up"><use xlink:href="/svg-defs.svg#icon-arrow-up"></use></svg></a></div><div class="lesson-content" ng-show="$ctrl.contentIsOpen()"><div class="lesson-content__teacher-content" ng-bind-html="$ctrl.lesson.homework_description_html" ng-show="$ctrl.lesson.homework_description &amp;&amp; !$ctrl.isAddingHomeworkDescription"></div></div><div class="message-for-teacher"><span class="h3" ng-hide="$ctrl.selectedStudent.id">{{$ctrl.messageForTeacher}}</span></div><div class="selected-homework" ng-show="$ctrl.selectedStudent"><div class="lesson-content__head lesson-content__head_missed-deadline"><div class="homeworks__list-item-link-content"><a class="user-avatar-wrapper send_message_on_hover js-send-message" ng-show="$ctrl.selectedStudent" data-id="{{$ctrl.selectedStudent.student.id}}" data-name="{{$ctrl.selectedStudent.student.full_name}}" data-avatar="{{$ctrl.selectedStudent.student.image.url}}" href=""><img class="user-avatar user-avatar_missed-deadline" ng-src="{{$ctrl.selectedStudent.student.image.url}}" /><div class="image-overlayer image-overlayer_missed-deadline"><svg class="svg-icon icon-messages icon-write"><use xlink:href="/svg-defs.svg#icon-messages"></use></svg></div></a><a class="user-info" href="{{$ctrl.selectedStudent.student.url}}" target="_blank"><div class="user-name">{{$ctrl.selectedStudent.student.full_name}}</div></a></div><h3 class="lesson-content__head-right"><span ng-if="$ctrl.selectedStudent.state" ng-switch="$ctrl.selectedStudent.state" on="$ctrl.selectedStudent.state"><span class="lesson-content__head-right_success" ng-show="$ctrl.selectedStudent.state === &#39;resolved&#39;">\u0412\u043e\u043f\u0440\u043e\u0441 \u0440\u0435\u0448\u0435\u043d</span><span class="lesson-content__head-right_warning" ng-show="$ctrl.selectedStudent.state === &#39;pending&#39;">\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u044f</span></span></h3></div><div class="message-for-mentor"><span>\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043e\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u043c, \u043e\u0441\u0442\u0430\u0432\u0438\u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043d\u0438\u0436\u0435.</span></div><div class="gb-markdown-editor"><div class="homework-comment" focus-on-edit="" observable="$ctrl.editingComment"><a class="pull-left" href=""><img class="gb__comment-item-user-avatar user-avatar-image" ng-src="{{::$ctrl.user.image.url}}" /></a><div class="markdown-editor-wrapper" ng-if="!$ctrl.selectedStudent.mentor_comment || $ctrl.editingComment"><div class="markdown-editor" ng-class="{closed: !$ctrl.editorIsOpen}"><div class="markdown-editor__editorarea"><div class="nopreview"><textarea class="js-text-input" ng-model="$ctrl.ngComment" ng-disabled="$ctrl.pendingComment" easymde="" placeholder="\u0422\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f ..."></textarea></div></div></div><div class="text-danger text-sm m-t-sm" ng-show="$ctrl.sendingError"><span ng-show="markdownEditorCtrl.method === &#39;edit&#39;">\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.</span></div><div class="markdown-editor__control-buttons-wrapper" ng-show="$ctrl.editorIsOpen"><button class="btn comment-save-button js-save-btn" ng-click="$ctrl.saveHomeworkDeadlineIssueComment()" ng-disabled="!$ctrl.ngComment.trim().length || $ctrl.pendingComment"><i class="i i-spinner" ng-show="$ctrl.pendingComment"></i><span ng-show="!$ctrl.pendingComment">\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c</span></button><button class="btn markdown-editor-cancel-editing-button" ng-click="$ctrl.cancel()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></button></div></div><div class="comment-wrapper" ng-if="$ctrl.selectedStudent.mentor_comment &amp;&amp; !$ctrl.editingComment"><div class="comment-wrapper__content edit-icon-on-hover" ng-click="$ctrl.editComment()" ng-bind-html="$ctrl.selectedStudent.mentor_comment_html"></div></div></div></div></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/learning/homework_description_editor.template.html",'<div class="gb-markdown-editor"><div class="teacher-content-editor" focus-on-edit="" observable="$ctrl.homeworksCtrl.isAddingHomeworkDescription"><div class="markdown-editor-wrapper"><div class="markdown-editor"><div class="markdown-editor__editorarea"><div class="nopreview"><textarea class="js-text-input" ng-model="$ctrl.ngModel" ng-disabled="$ctrl.pending" easymde="" placeholder="\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 ..."></textarea></div></div></div><div class="text-danger text-sm m-t-sm" ng-show="$ctrl.sendingError"><span ng-show="$ctrl.sendingError">\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.</span></div><div class="markdown-editor__control-buttons-wrapper"><button class="btn comment-save-button js-save-btn" ng-click="$ctrl.save()" ng-disabled="!$ctrl.ngModel.trim().length || $ctrl.pending"><i class="i i-spinner" ng-show="$ctrl.pending"></i><span ng-show="!$ctrl.pending">\u0421\u041e\u0425\u0420\u0410\u041d\u0418\u0422\u042c</span></button><button class="btn markdown-editor-cancel-editing-button" ng-click="$ctrl.cancel()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></button></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/learning/lesson_assets_list.template.html",'<div class="lesson-assets"><form class="form-inline lesson-assets__form" name="form" ng-submit="$ctrl.addLink()" ng-show="$ctrl.isTeacher"><input class="form-control" name="url" required="" type="url" placeholder="\u0421\u0441\u044b\u043b\u043a\u0430" ng-model="$ctrl.linkUrl" /><input class="form-control" name="title" placeholder="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435" ng-model="$ctrl.linkTitle" /><button class="btn btn-primary" type="submit">\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443</button></form><div class="lesson-assets__form-sending-error">{{$ctrl.addLinkError}}</div><ul class="lesson-assets__list" ng-show="$ctrl.assets.length"><li class="lesson-assets__list-item" ng-repeat="item in $ctrl.assets | orderBy:$ctrl.sortAssets track by item.asset.id" ng-class="::{&#39;lesson-assets__list-item_link&#39; : item.asset.asset_type === &#39;link&#39;}"><div><svg class="svg-icon" ng-class="$ctrl.getIconClass(item)"><use xlink:href="" ng-href="/svg-defs.svg#icon-{{::item.asset.asset_type}}"></use></svg><a target="_blank" href="" ng-href="{{::item.asset.asset_type &amp;&amp; item.asset.asset_type === &#39;link&#39; ? item.asset.content : item.asset.url}}">{{::item.asset.title}}</a></div><div><a href="" ng-click="$ctrl.onDelete({$event: {assetId: item.asset.id}})" ng-show="item.asset.show_actions"><svg class="svg-icon icon-trash"><use xlink:href="/svg-defs.svg#icon-trash"></use></svg></a></div></li></ul></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/learning/mentor_comment.template.html",'<div class="gb-markdown-editor"><div class="homework-comment" focus-on-edit="" observable="$ctrl.editingComment"><a class="pull-left" href=""><img class="gb__comment-item-user-avatar user-avatar-image" ng-src="{{::$ctrl.user.image.url}}" /></a><div class="markdown-editor-wrapper" ng-if="!$ctrl.homework.mentor_comment || $ctrl.editingComment"><div class="markdown-editor" ng-class="{closed: !$ctrl.editorIsOpen}"><div class="markdown-editor__editorarea"><div class="nopreview"><textarea class="js-text-input" ng-model="$ctrl.ngModel" ng-disabled="$ctrl.pending" easymde="" placeholder="\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u0434\u0430\u043d\u0438\u044e ..."></textarea></div></div></div><div class="text-danger text-sm m-t-sm" ng-show="$ctrl.sendingError"><span ng-show="markdownEditorCtrl.method === &#39;edit&#39;">\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.</span></div><div class="markdown-editor__control-buttons-wrapper" ng-show="$ctrl.editorIsOpen"><button class="btn comment-save-button js-save-btn" ng-click="$ctrl.saveComment()" ng-disabled="!$ctrl.ngModel.trim().length || $ctrl.pending"><i class="i i-spinner" ng-show="$ctrl.pending"></i><span ng-show="!$ctrl.pending">\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c</span></button><button class="btn markdown-editor-cancel-editing-button" ng-click="$ctrl.cancel()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></button></div></div><div class="comment-wrapper" ng-if="$ctrl.homework.mentor_comment &amp;&amp; !$ctrl.editingComment"><div class="comment-wrapper__content edit-icon-on-hover" ng-click="$ctrl.editComment()" ng-bind-html="$ctrl.homework.mentor_comment_html"></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/learning/students_description.template.html",'<div class="gb-markdown-editor"><div class="students-description" focus-on-edit="" observable="$ctrl.editingStudentsDescriptionContent"><div class="markdown-editor-wrapper" ng-if="!$ctrl.lesson.students_description || $ctrl.editingStudentsDescriptionContent"><div class="markdown-editor" ng-class="{closed: !$ctrl.editorIsOpen}"><div class="markdown-editor__editorarea"><div class="nopreview"><textarea class="js-text-input" ng-model="$ctrl.ngModel" ng-disabled="$ctrl.pending" easymde="" placeholder="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a \u0443\u0440\u043e\u043a\u0443"></textarea></div></div></div><div class="text-danger text-sm m-t-sm" ng-show="$ctrl.sendingError"><span ng-show="markdownEditorCtrl.method === &#39;edit&#39;">\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.</span></div><div class="markdown-editor__control-buttons-wrapper" ng-show="$ctrl.editorIsOpen"><button class="btn comment-save-button js-save-btn" ng-click="$ctrl.saveStudentsDescriptionContent()" ng-disabled="!$ctrl.ngModel.trim().length || $ctrl.pending"><i class="i i-spinner" ng-show="$ctrl.pending"></i><span ng-show="!$ctrl.pending">\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c</span></button><button class="btn markdown-editor-cancel-editing-button" ng-click="$ctrl.cancel()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></button></div></div><div class="comment-wrapper" ng-if="$ctrl.lesson.students_description &amp;&amp; !$ctrl.editingStudentsDescriptionContent"><div class="comment-wrapper__content edit-icon-on-hover" ng-click="$ctrl.editStudentsDescriptionContent()" ng-bind-html="$ctrl.lesson.students_description_html"></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/learning/teacher_assets.template.html",'<div class="teacher-assets-wrapper"><div ng-transclude=""></div><lesson-assets-list assets="$ctrl.assets" on-delete="$ctrl.removeAsset($event)" on-add-link="$ctrl.addLink($event)" is-teacher="$ctrl.isTeacher"></lesson-assets-list></div>')}]),angular.module("templates").run(["$templateCache",function(e){
e.put("ng/learning/teacher_homeworks.template.html",'<div class="teacher-homeworks-wrapper"><aside class="left-aside-wrapper" id="homeworks-scrollable-list" ng-if="::$ctrl.isTeacher" ng-show="$ctrl.pendingHomeworks.length || $ctrl.examinedHomeworks.length"><div class="status-tabs"><a class="status-tabs__tab" href="" ng-click="$ctrl.changeList(true)" ng-class="{&#39;status-tabs__tab_active&#39; : $ctrl.showPendingList}">\u041d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u2022 {{$ctrl.pendingTotal}}</a><a class="status-tabs__tab" href="" ng-click="$ctrl.changeList(false)" ng-class="{&#39;status-tabs__tab_active&#39; : !$ctrl.showPendingList}">\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e \u2022 {{$ctrl.examinedTotal}}</a></div><div class="homeworks__search-form" ng-class="{&#39;homeworks__search-form_open&#39; : $ctrl.searchingHomeworks}"><input ng-focus="$ctrl.searchingHomeworks = true" ng-blur="$ctrl.onSearchFormBlur()" ng-model="$ctrl.searchHomeworksModel" ng-change="$ctrl.searchHomeworks()" /><a class="homeworks__search-form-close-button" ng-hide="$ctrl.requestingHomeworks" ng-click="$ctrl.clearSearch()" href=""><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></a><i class="i i-spinner homeworks__search-spinner" ng-show="$ctrl.requestingHomeworks"></i></div><div class="homeworks"><div class="homeworks__empty-message"><span ng-show="$ctrl.foundHomeworks &amp;&amp; !$ctrl.foundHomeworks.length">\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e</span><span ng-show="$ctrl.showPendingList &amp;&amp; !$ctrl.pendingHomeworks.length &amp;&amp; !$ctrl.foundHomeworks">\u041d\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443</span><span ng-hide="$ctrl.showPendingList || $ctrl.examinedHomeworks.length || $ctrl.foundHomeworks">\u041d\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442</span></div><ul class="homeworks__list" ng-show="$ctrl.foundHomeworks"><li class="homeworks__list-item" ng-repeat="item in $ctrl.foundHomeworks"><a class="homeworks__list-item-link" href="" ng-click="$ctrl.selectHomework(item.homework)" ng-class="{&#39;homeworks__list-item-link_selected&#39;: item.homework.id === $ctrl.selectedHomework.id}"><div class="homeworks__list-item-link-notice" ng-show="item.homework.state === &#39;pending&#39;"></div><div class="homeworks__list-item-link-status-icon homeworks__list-item-link-status-icon_fail" ng-show="item.homework.state === &#39;failed&#39;"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div><div class="homeworks__list-item-link-status-icon homeworks__list-item-link-status-icon_success" ng-show="item.homework.state === &#39;succeed&#39;"><svg class="svg-icon icon-check"><use xlink:href="/svg-defs.svg#icon-check" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div><div class="homeworks__list-item-link-content"><img class="user-avatar" ng-src="{{::item.homework.user.image.url}}" /><div><div class="user-name">{{::item.homework.user.full_name}}</div><small class="teacher-deadline">\u0434\u043e {{::item.homework.teacher_deadline}}</small></div></div></a></li></ul><ul class="homeworks__list" id="teacher-pending-homeworks" ng-show="$ctrl.showPendingList &amp;&amp; !$ctrl.foundHomeworks"><li class="homeworks__list-item" ng-repeat="item in $ctrl.pendingHomeworks"><a class="homeworks__list-item-link" href="" ng-click="$ctrl.selectHomework(item.homework)" ng-attr-id="{{item.homework.id}}" ng-class="{&#39;homeworks__list-item-link_selected&#39;: item.homework.id === $ctrl.selectedHomework.id}"><div class="homeworks__list-item-link-notice" ng-show="item.homework.state === &#39;pending&#39;"></div><div class="homeworks__list-item-link-content"><img class="user-avatar" ng-src="{{::item.homework.user.image.url}}" /><div class="user-info"><div class="user-name">{{::item.homework.user.full_name}}</div><small class="teacher-deadline">\u0434\u043e {{::item.homework.teacher_deadline}}</small></div></div></a></li><infinite-scroll-pagination url="$ctrl.pendingHomeworksUrl" collection="$ctrl.pendingHomeworks" scrollable="true" uniq-key="homework.id" visible-element="#teacher-pending-homeworks" id="pending" scrollable-parent-id="$ctrl.homeworksScrollableList" per-page="20" track-loaded="true"></infinite-scroll-pagination></ul><ul class="homeworks__list" id="teacher-examined-homeworks" ng-show="!$ctrl.showPendingList &amp;&amp; !$ctrl.foundHomeworks"><li class="homeworks__list-item" ng-repeat="item in $ctrl.examinedHomeworks"><a class="homeworks__list-item-link" href="" ng-click="$ctrl.selectHomework(item.homework)" ng-attr-id="{{item.homework.id}}" ng-class="{&#39;homeworks__list-item-link_selected&#39;: item.homework.id === $ctrl.selectedHomework.id}"><div class="homeworks__list-item-link-status-icon homeworks__list-item-link-status-icon_fail" ng-show="item.homework.state === &#39;failed&#39;"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div><div class="homeworks__list-item-link-status-icon homeworks__list-item-link-status-icon_success" ng-show="item.homework.state === &#39;succeed&#39;"><svg class="svg-icon icon-check"><use xlink:href="/svg-defs.svg#icon-check" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div><div class="homeworks__list-item-link-content"><img class="user-avatar" ng-src="{{::item.homework.user.image.url}}" /><span class="user-name">{{::item.homework.user.full_name}}</span></div></a></li><infinite-scroll-pagination url="$ctrl.examinedHomeworksUrl" collection="$ctrl.examinedHomeworks" scrollable="true" uniq-key="homework.id" visible-element="#teacher-examined-homeworks" id="examined" scrollable-parent-id="$ctrl.homeworksScrollableList" per-page="20"></infinite-scroll-pagination></ul></div></aside><aside class="left-aside-wrapper" id="homeworks-scrollable-list" ng-if="::!$ctrl.isTeacher" ng-show="$ctrl.mentorHomeworks.length"><div class="homeworks"><ul class="homeworks__list" id="mentor-homeworks"><li class="homeworks__list-item" ng-repeat="item in $ctrl.mentorHomeworks"><a class="homeworks__list-item-link" href="" ng-click="$ctrl.selectHomework(item.homework)" ng-class="{&#39;homeworks__list-item-link_selected&#39;: item.homework.id === $ctrl.selectedHomework.id}"><div class="homeworks__list-item-link-status-icon homeworks__list-item-link-status-icon_fail" ng-show="item.homework.state === &#39;failed&#39;"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div><div class="homeworks__list-item-link-status-icon homeworks__list-item-link-status-icon_success" ng-show="item.homework.state === &#39;succeed&#39;"><svg class="svg-icon icon-check"><use xlink:href="/svg-defs.svg#icon-check" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div><div class="homeworks__list-item-link-content"><img class="user-avatar" ng-src="{{::item.homework.user.image.url}}" /><span class="user-name">{{::item.homework.user.full_name}}</span></div></a></li><infinite-scroll-pagination url="$ctrl.baseHomeworksUrl" collection="$ctrl.mentorHomeworks" scrollable="true" uniq-key="homework.id" visible-element="#mentor-homeworks" id="mentored" scrollable-parent-id="$ctrl.homeworksScrollableList" per-page="20"></infinite-scroll-pagination></ul></div></aside><div class="center-wrapper" ng-class="{&#39;center-wrapper_empty&#39; : !$ctrl.pendingHomeworks.length &amp;&amp; !$ctrl.examinedHomeworks.length}"><div><div class="message-for-homework alert-danger" ng-if="$ctrl.errorMessageHomeWork.length &amp;&amp; $ctrl.showPendingList"><span> {{$ctrl.errorMessageHomeWork}}</span><button class="message-for-homework__button" ng-click="$ctrl.goToHomework()" ng-if="$ctrl.errorHasButton">\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443</button></div><div class="homework-header"><a class="show-content-link" href="#" ng-click="$ctrl.openContent()" ng-hide="$ctrl.contentIsOpen()"><span>\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u044f</span><svg class="svg-icon icon-arrow-down"><use xlink:href="/svg-defs.svg#icon-arrow-down"></use></svg></a><a class="hide-content-link" href="#" ng-click="$ctrl.closeContent()" ng-show="$ctrl.contentIsOpen()"><span>\u0421\u043a\u0440\u044b\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u044f</span><svg class="svg-icon icon-arrow-up"><use xlink:href="/svg-defs.svg#icon-arrow-up"></use></svg></a><a class="homework-help js-show-popup" href="#homework-help-popup" ng-if="::$ctrl.isTeacher"><span>\u041a\u0430\u043a \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u044f {{$ctrl.lesson.with_final_project ? \'\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u044b\' : \'\'}}</span><svg class="svg-icon icon-info-icn-v2"><use xlink:href="/svg-defs.svg#icon-info-icn-v2"></use></svg></a></div><div><div class="lesson-content" ng-show="$ctrl.contentIsOpen()" ng-class="{&#39;lesson-content_is-editing&#39; : $ctrl.isAddingHomeworkDescription}"><div class="lesson-content__head" ng-show="$ctrl.selectedHomework"><div class="homeworks__list-item-link-content"><img class="user-avatar" ng-src="{{$ctrl.selectedHomework.user.image.url}}" /><div class="user-info"><div class="user-name">{{$ctrl.selectedHomework.user.full_name}}</div></div></div><h3 class="lesson-content__head-right"><span ng-if="!$ctrl.selectedHomework.teacher_score">\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0434\u043e {{$ctrl.selectedHomework.teacher_deadline}}</span><span ng-if="$ctrl.selectedHomework.teacher_score" ng-switch="" on="$ctrl.selectedHomework.teacher_score"><span class="lesson-content__head-right_success" ng-switch-when="5">\u041e\u0442\u043b\u0438\u0447\u043d\u043e</span><span class="lesson-content__head-right_success" ng-switch-when="4">\u0425\u043e\u0440\u043e\u0448\u043e</span><span class="lesson-content__head-right_warning" ng-switch-when="3">\u0423\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e</span><span class="lesson-content__head-right_danger" ng-switch-when="0">\u041d\u0435 \u0441\u0434\u0430\u043d\u043e</span></span></h3></div><div class="lesson-content__teacher-content" ng-bind-html="$ctrl.lesson.homework_description_html" ng-show="$ctrl.lesson.homework_description &amp;&amp; !$ctrl.isAddingHomeworkDescription"></div><a class="add-content-link" ng-if="::$ctrl.isTeacher" ng-show="!$ctrl.isAddingHomeworkDescription &amp;&amp; !$ctrl.lesson.homework_description" ng-click="$ctrl.addHomeworkDescription()" href="">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ...</a><a class="add-content-link" ng-if="::$ctrl.isTeacher" ng-show="!$ctrl.isAddingHomeworkDescription &amp;&amp; $ctrl.lesson.homework_description" ng-click="$ctrl.addHomeworkDescription()" href="">\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c ...</a><teacher-content-editor ng-if="::$ctrl.isTeacher" ng-show="$ctrl.isAddingHomeworkDescription" content="$ctrl.lesson.homework_description" on-save="$ctrl.saveHomeworkDescription($event)" ng-model="$ctrl.teacherContentCopy"></teacher-content-editor></div></div><div class="message-for-teacher"><span class="h3" ng-hide="$ctrl.selectedHomework.id">{{$ctrl.messageForTeacher}}</span></div><div class="selected-homework" ng-show="$ctrl.selectedHomework"><div class="teacher-comment" ng-if="::!$ctrl.isTeacher" ng-show="$ctrl.selectedHomework.teacher_comment"><a href="/users/teachers/{{::$ctrl.selectedHomework.teacher.id}}" rel="nofollow"><img class="teacher-comment__avatar" ng-src="{{::$ctrl.selectedHomework.teacher.image.url}}" /></a><div class="teacher-comment__content"><a class="teacher-comment__name" href="/users/teachers/{{::$ctrl.selectedHomework.teacher.id}}" rel="nofollow">{{::$ctrl.selectedHomework.teacher.full_name}}\u30fb\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c</a><div class="teacher-comment__text" ng-bind-html="$ctrl.selectedHomework.teacher_comment_html"></div></div></div><div class="teacher-comment teacher-comment_mentor" ng-if="::$ctrl.isTeacher &amp;&amp; !$ctrl.errorMessageHomeWork.length" ng-show="$ctrl.selectedHomework.mentor_comment"><a href="/users/{{$ctrl.selectedHomework.mentor.id}}" rel="nofollow" ng-class="{ &#39;non-clickable&#39;: $ctrl.selectedHomework.mentor.id === 63}"><img class="teacher-comment__avatar" ng-src="{{$ctrl.selectedHomework.mentor.image.url}}" /><svg class="svg-icon icon-guru"><use xlink:href="/svg-defs.svg#icon-guru"></use></svg></a><div class="teacher-comment__content"><a class="teacher-comment__name" href="/users/{{$ctrl.selectedHomework.mentor.id}}" rel="nofollow" ng-class="{ &#39;non-clickable&#39;: $ctrl.selectedHomework.mentor.id === 63}">{{$ctrl.selectedHomework.mentor.full_name}}\u30fb\u041d\u0430\u0441\u0442\u0430\u0432\u043d\u0438\u043a</a><div class="teacher-comment__text" ng-bind-html="$ctrl.selectedHomework.mentor_comment_html"></div></div></div><div class="attachment" ng-show="$ctrl.selectedHomework.attachment"><div class="attachment__header" ng-if="::!$ctrl.isTeacher"><div class="attachment__title">\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u0434\u0430\u043d\u0438\u044f</div><div class="attachment__state attachment__state_sent" ng-show="$ctrl.selectedHomework.state === &#39;pending&#39; || $ctrl.selectedHomework.state === &#39;new&#39;"><svg class="svg-icon icon-homework-done"><use xlink:href="/svg-defs.svg#icon-homework-done"></use></svg><span>\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443</span></div><div class="attachment__state attachment__state_examine" ng-show="$ctrl.selectedHomework.state === &#39;examining&#39;"><svg class="svg-icon icon-reflected-eye"><use xlink:href="/svg-defs.svg#icon-reflected-eye"></use></svg><span>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f</span></div><div class="attachment__state attachment__state_success" ng-show="$ctrl.selectedHomework.state === &#39;succeed&#39;"><svg class="svg-icon icon-homework-done"><use xlink:href="/svg-defs.svg#icon-homework-done"></use></svg><span ng-switch="$ctrl.homework.teacher_score"><span ng-switch-when="5">\u041e\u0442\u043b\u0438\u0447\u043d\u043e</span><span ng-switch-when="4">\u0425\u043e\u0440\u043e\u0448\u043e</span><span ng-switch-when="3">\u0423\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e</span><span ng-switch-default=""></span></span></div><div class="attachment__state attachment__state_fail" ng-show="$ctrl.selectedHomework.state === &#39;failed&#39;"><svg class="svg-icon icon-homework-done"><use xlink:href="/svg-defs.svg#icon-x-in-circle"></use></svg><span>\u041d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u043e</span></div></div><ul class="attachment__list"><li class="attachment__list-item" ng-repeat="homework in $ctrl.selectedHomework.attachments"><div><svg class="svg-icon icon-archive"><use xlink:href="/svg-defs.svg#icon-archive"></use></svg><a target="_blank" href="" download="{{homework.attachment_file_name}}" ng-href="{{homework.url}}">{{homework.attachment_file_name}}</a><span class="homework-date">{{homework.created_at}}</span></div><div><a target="_blank" href="" download="{{homework.attachment_file_name}}" ng-href="{{homework.url}}"><svg class="svg-icon icon-download"><use xlink:href="/svg-defs.svg#icon-download"></use></svg></a></div></li></ul></div><div class="user-pull-request" ng-show="$ctrl.selectedHomework.pull_request" ng-class="{&#39;user-pull-request_with-top-border&#39; : !$ctrl.selectedHomework.attachment}"><svg class="svg-icon icon-github user-pull-request__github"><use xlink:href="/svg-defs.svg#icon-github"></use></svg><p><a target="_blank" href="{{$ctrl.selectedHomework.pull_request}}">{{$ctrl.selectedHomework.pull_request}}</a><span class="homework-date">{{$ctrl.selectedHomework.uploaded_at}}</span></p></div><div class="user-comment" ng-class="{&#39;user-comment_with-top-border&#39; : !$ctrl.selectedHomework.attachment}" ng-show="$ctrl.selectedHomework.user_comment"><div class="user-comment__content"><img class="user-comment__user-avatar" ng-src="{{$ctrl.selectedHomework.user.image.url}}" /><div ng-bind-html="$ctrl.selectedHomework.user_comment_html"></div></div><div class="homework-date mt-s">{{$ctrl.selectedHomework.uploaded_at}}</div></div><div class="gb-loader-container" ng-if="!$ctrl.checkerLoaded"><div class="gb-loader-content"></div></div><div class="unarchived" ng-if="$ctrl.selectedHomework.state !== &#39;archived&#39; &amp;&amp; !$ctrl.errorMessageHomeWork.length &amp;&amp; $ctrl.checkerLoaded"><droplet-uploader upload-url="/lessons/{{$ctrl.lesson.id}}/homeworks/{{$ctrl.selectedHomework.id}}/teacher_attachments" title="\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b"></droplet-uploader></div><div class="attachment__list" ng-show="$ctrl.selectedHomework.teacher_attachments &amp;&amp; $ctrl.selectedHomework.teacher_attachments.length"><div class="attachment__item" ng-repeat="attachment in $ctrl.selectedHomework.teacher_attachments" style="padding: 8px;"><div class="attachment__item-container" style="display: flex; justify-content: space-between; align-items: center;"><div><a target="_blank" href="" ng-href="{{attachment.url}}" download="{{attachment.title}}">{{attachment.title}}</a></div><div><a href="" ng-click="$ctrl.removeAttachmentNew(attachment)" style="margin-right: 8px"><svg class="svg-icon icon-trash"><use xlink:href="/svg-defs.svg#icon-trash"></use></svg></a><a target="_blank" ng-href="{{attachment.url}}" ng-show="($ctrl.selectedHomework.state === &#39;succeed&#39; || $ctrl.selectedHomework.state === &#39;failed&#39;) || $ctrl.lesson.can_upload_homework === false" download="{{attachment.title}}"><svg class="svg-icon icon-download"><use xlink:href="/svg-defs.svg#icon-download"></use></svg></a></div></div><div class="attachment__item-created-at">{{attachment.created_at}}</div></div></div><div ng-if="$ctrl.checkerLoaded"><teacher-review ng-if="::$ctrl.isTeacher &amp;&amp; !$ctrl.errorMessageHomeWork.length || ($ctrl.selectedHomework.state === &#39;succeed&#39; || $ctrl.selectedHomework.state === &#39;failed&#39;) &amp;&amp; $ctrl.errorMessageHomeWork.length" ng-show="$ctrl.selectedHomework" homework="$ctrl.selectedHomework" user="$ctrl.user" on-score="$ctrl.rateHomework($event);" lesson="$ctrl.lesson"></teacher-review></div><mentor-comment ng-if="::!$ctrl.isTeacher" homework="$ctrl.selectedHomework" user="$ctrl.user" lesson-id="$ctrl.lesson.id"></mentor-comment></div></div></div></div><div class="gb-overlay" id="homework-help-popup"><div class="gb-overlay__cover"></div><div class="gb-popup"><a class="gb-popup__close"><svg class="svg-icon icon-download"><use xlink:href="/svg-defs.svg#icon-popup-close-button"></use></svg></a><div class="gb-popup__helper"><section class="gb-popup__content homework-help-popup"><h1>\u041a\u0430\u043a \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f</h1><h3>1. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430</h3><h3>2. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0440\u0430\u0431\u043e\u0442\u0435</h3><p>\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0445\u0432\u0430\u043b\u0438\u0442\u0435 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430, \u0435\u0441\u043b\u0438 \u0432\u0438\u0434\u043d\u043e, \u0447\u0442\u043e \u043e\u043d \u0441\u0442\u0430\u0440\u0430\u043b\u0441\u044f. \u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435, \u043a\u0430\u043a\u0438\u0435 \u0432\u044b \u0432\u0438\u0434\u0438\u0442\u0435 \u043d\u0435\u0434\u043e\u0447\u0435\u0442\u044b, \u043f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043a\u0430\u043a \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443.</p><h3>3. \u041f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043e\u0446\u0435\u043d\u043a\u0443. \u041a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435:</h3><p><b class="success">\u041e\u0442\u043b\u0438\u0447\u043d\u043e</b> \u2014 \u0432\u0441\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u0432\u0435\u0440\u043d\u043e, \u0437\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u0439 \u043d\u0435\u0442.</p><p><b class="success">\u0425\u043e\u0440\u043e\u0448\u043e</b> \u2014 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u043a \u043d\u0438\u043c \u0435\u0441\u0442\u044c \u0437\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u044f.</p><p><b class="warning">\u0423\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e</b> \u2014 \u043d\u0438 \u043e\u0434\u043d\u043e \u0438\u0437 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u043d\u0435 \u0441\u0434\u0435\u043b\u0430\u043d\u043e \u0432\u0435\u0440\u043d\u043e.</p><p><b class="danger">\u041d\u0435 \u0441\u0434\u0430\u043d\u043e</b> \u2014 \u0432\u043c\u0435\u0441\u0442\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441\u0434\u0430\u043d\u043e \u0447\u0442\u043e-\u0442\u043e, \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e \u043d\u0430 \u043d\u0438\u0445 \u043d\u0435 \u043f\u043e\u0445\u043e\u0436\u0435\u0435.</p><p>\u0417\u0430 \u043a\u0430\u0436\u0434\u043e\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u043d\u0430\u0447\u0438\u0441\u043b\u044f\u044e\u0442\u0441\u044f \u0431\u0430\u043b\u043b\u044b. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f\u0445 \u0431\u0430\u043b\u043b\u043e\u0432 \u0438 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0441\u0434\u0430\u0447\u0438 \u0438 \u043f\u0435\u0440\u0435\u0441\u0434\u0430\u0447\u0438 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u0432 <a href="/teacher?tab=manuals-tab#Proverka_domashnih_zadaniy" target="_blank"><u>FAQ</u></a></p><div ng-if="$ctrl.lesson.with_final_project"><h1>\u041a\u0430\u043a \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442</h1><p>\u041d\u0430 \u0432\u0430\u0448\u0435\u043c \u043a\u0443\u0440\u0441\u0435 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442. \u0412 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0435 \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u043f\u0440\u043e\u0435\u043a\u0442\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043a\u0443\u0440\u0441\u043e\u0432. \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0443 \u0437\u0430 \u0432\u0435\u0441\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0446\u0435\u043b\u0438\u043a\u043e\u043c (\u0430 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435).</p><h3>\u041a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435:</h3><p><b class="success">\u041e\u0442\u043b\u0438\u0447\u043d\u043e</b> \u2014 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0434\u0435\u043b\u0430\u043d \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e, \u0437\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u0439 \u043d\u0435\u0442.</p><p><b class="success">\u0425\u043e\u0440\u043e\u0448\u043e</b> \u2014 \u043f\u0440\u043e\u0435\u043a\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u043e\u0434\u043d\u0430\u043a\u043e \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0447\u0430\u0441\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430, \u0438\u043b\u0438 \u043e\u043d \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438.</p><p><b class="warning">\u0423\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e</b> \u2014 \u043f\u0440\u043e\u0435\u043a\u0442 \u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0438\u043b\u0438 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u043e\u0434\u043d\u0430\u043a\u043e \u0443 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0435\u0441\u0442\u044c \u043a\u0430\u043a\u0438\u0435-\u0442\u043e \u043d\u0430\u0440\u0430\u0431\u043e\u0442\u043a\u0438.</p><p><b class="danger">\u041d\u0435 \u0441\u0434\u0430\u043d\u043e</b> \u2014 \u0432\u043c\u0435\u0441\u0442\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441\u0434\u0430\u043d\u043e \u0447\u0442\u043e-\u0442\u043e, \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e \u043d\u0430 \u043d\u0438\u0445 \u043d\u0435 \u043f\u043e\u0445\u043e\u0436\u0435\u0435.</p></div></section></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/learning/teacher_review.template.html",'<div class="unarchived" ng-if="$ctrl.homework.state !== &#39;archived&#39;"><div class="homework-date mt">{{$ctrl.homework.teacher_reviewed_at || $ctrl.homework.attachments[$ctrl.homework.attachments.length - 1].uploaded_at}}</div><div class="teacher-review" focus-on-edit="" observable="$ctrl.editingComment"><a class="pull-left" href=""><img class="gb__comment-item-user-avatar user-avatar-image" ng-src="{{::$ctrl.user.image.url}}" /></a><div class="markdown-editor-wrapper" ng-if="!$ctrl.homework.teacher_comment || $ctrl.editingComment"><div class="markdown-editor" ng-class="{closed: !$ctrl.editorIsOpen}"><div class="markdown-editor__editorarea"><div class="nopreview"><textarea class="js-text-input" ng-model="$ctrl.ngModel" ng-disabled="$ctrl.pending" easymde="" placeholder="\u041f\u0440\u043e\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u043f\u043e\u0445\u0432\u0430\u043b\u0438\u0442\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0438 \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435, \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u0443."></textarea></div></div></div><div class="text-danger text-sm m-t-sm" ng-show="$ctrl.sendingError"><span ng-show="$ctrl.sendingError">\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.</span></div></div><div class="comment-wrapper" ng-if="$ctrl.homework.teacher_comment &amp;&amp; !$ctrl.editingComment"><div class="comment-wrapper__content edit-icon-on-hover" ng-click="$ctrl.editComment()" ng-bind-html="$ctrl.homework.teacher_comment_html"></div></div><div class="result-buttons"><button class="btn positive" ng-click="$ctrl.score(5)" ng-class="{&#39;selected&#39; : $ctrl.homework.teacher_score === 5}"><span>\u041e\u0442\u043b\u0438\u0447\u043d\u043e</span></button><button class="btn positive" ng-disabled="!$ctrl.ngModel.trim()" ng-click="$ctrl.score(4)" ng-class="{&#39;selected&#39; : $ctrl.homework.teacher_score === 4}"><span>\u0425\u043e\u0440\u043e\u0448\u043e</span></button><button class="btn neutral" ng-disabled="!$ctrl.ngModel.trim()" ng-click="$ctrl.score(3)" ng-class="{&#39;selected&#39; : $ctrl.homework.teacher_score === 3}"><span>\u0423\u0434\u043e\u0432\u043b.</span></button><button class="btn negative" ng-disabled="!$ctrl.ngModel.trim()" ng-click="$ctrl.score(0)" ng-class="{&#39;selected&#39; : $ctrl.homework.teacher_score === 0}"><span>\u041d\u0435 \u0441\u0434\u0430\u043d\u043e</span></button></div></div></div><div class="archived" ng-if="$ctrl.homework.state === &#39;archived&#39;">\u0412\u0430\u043c \u0437\u0430\u043a\u0440\u044b\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u044d\u0442\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.</div>')}]),angular.module("templates").run(["$templateCache",function(e){
e.put("ng/notices/notices_list.directive.template.html",'<li class="gb-top-menu__item text-center notice-list-wrapper"><style type="text/css">li.js-notices-substrate{display:none !important}</style><a class="js-notices-link" data-target="#" data-toggle="dropdown" href="/notices"><span class="badge bg-danger" ng-bind="noticesListCtrl.total" ng-if="noticesListCtrl.total"></span><svg class="svg-icon icon-notice" width="32" height="32"><use xlink:href="/svg-defs.svg#icon-notice"></use></svg></a><section class="js-notices-dropdown dropdown-menu animated fadeInDown text-left notice-list-container" scrollable="true"><div class="span arrow"></div><ul class="notice-list notice-list" ng-class="{ &#39;sms-settings-notice&#39;: !noticesListCtrl.accepted }" id="notice-list"><li class="notice" ng-repeat="item in noticesListCtrl.notices track by item.notice.id" ng-class="item.notice.read ? &#39;read&#39; : &#39;&#39;"><a class="text-wrapper" href="/notices/{{::item.notice.id}}"><div class="picture"><img ng-src="{{::item.notice.picture}}" /></div><div class="text"><div class="source" ng-bind="::item.notice.source"></div><h5 class="message" ng-bind-html="::item.notice.message"></h5><div class="title" ng-bind="::item.notice.title"></div><div class="title m-t-xs" ng-bind="item.notice.created_at | formatDate"></div></div></a></li><li class="infinite-scroll-pagination text-center text-muted"><i class="i i-spinner" ng-show="noticesListCtrl.pending &amp;&amp; noticesListCtrl.notices.length"></i></li></ul><div class="small empty-list" ng-if="!noticesListCtrl.notices.length">\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u044f\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u043d\u0430\u0447\u0430\u043b\u0435 \u0443\u0440\u043e\u043a\u0430, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u0445 \u0432 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0438 \u0438 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0439 \u0441 \u0432\u0430\u043c\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\u044e \u043d\u0430 \u0441\u0430\u0439\u0442\u0435.</div><footer class="notifications-footer"><div class="settings-notice" ng-if="!noticesListCtrl.accepted"><div class="span arrow"></div><p>\u0427\u0442\u043e\u0431\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u0441\u0442\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043a\u0443\u0440\u0441\u0435 \u0443\u0447\u0435\u0431\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c SMS-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 ...</p><a class="later" href="">\u041f\u043e\u043d\u044f\u0442\u043d\u043e, \u043d\u0430\u0441\u0442\u0440\u043e\u044e \u043f\u043e\u0437\u0436\u0435</a><a class="goto-settings pull pull-right" href="/profile?tab=settings#settings">\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438</a></div><div class="bottom"><a class="all-notices" href="/notices">\u0412\u0441\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f</a><a class="settings" href="/profile#settings"><svg class="icon-cog-small" width="32" height="32"><use xlink:href="/svg-defs.svg#icon-cog-small"></use></svg></a></div></footer></section></li>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/company/admin/company_admin_edit_vacancy_form.component.html",'<form class="project-admin-vacancy__edit-form m-t m-b" name="editForm" ng-submit="$ctrl.saveVacancy(editForm.$valid)" novalidate=""><div class="row"><div class="col-md-12"><div class="labels">\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438</div><input placeholder="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438" ng-model="$ctrl.ngModel.title" required="" ng-maxlength="140" ng-minlength="6" /></div></div><div class="row m-t"><div class="col-md-12"><div class="labels"><span>\u0413\u043e\u0440\u043e\u0434</span> <span class="text-muted">(\u041d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u0435)</span></div><input ng-model="$ctrl.ngModel.city" placeholder="\u0413\u043e\u0440\u043e\u0434" /></div></div><div class="row m-t"><div class="col-md-12"><div class="labels"><span>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438</span> <span class="text-muted">(\u041e\u043f\u0438\u0448\u0438\u0442\u0435: \u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b, \u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u041e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438)</span></div><textarea class="project-admin-vacancy-edit-form__textarea" rows="1" required="" easymde="" placeholder="\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438" ng-model="$ctrl.ngModel.description" ng-maxlength="65535"></textarea></div></div><div class="row m-t"><div class="col-md-12"><div class="labels">\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435</div><textarea class="project-admin-vacancy-edit-form__textarea" rows="1" easymde="" placeholder="\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435" ng-model="$ctrl.ngModel.test_job"></textarea></div></div><div class="row m-t"><div class="col-md-12"><div class="labels"><span>\u0412\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435</span> <span class="text-muted">(\u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 \u043f\u043e\u043b\u044f\u0445 \u043e\u0442/\u0434\u043e, \u0435\u0441\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044f\n\u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0430\u0441\u044c \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u043f\u043e\u0438\u0441\u043a\u0430 "\u041e\u043f\u043b\u0430\u0447\u0438\u0432\u0430\u0435\u043c\u044b\u0435")</span></div></div><div class="col-sm-4"><input class="currency" type="number" min="0" step="1000" ng-model="$ctrl.ngModel.salary_min" /><span class="ruble"></span><span class="from"></span></div><div class="col-sm-4"><input class="currency" type="number" min="{{$ctrl.ngModel.salary_min}}" step="1000" ng-model="$ctrl.ngModel.salary_max" /><span class="ruble"></span><span class="to"></span></div><div class="col-sm-4 project-edit-form__salary-period"><select ng-model="$ctrl.salaryPeriod" ng-options="key as value for (key, value) in $ctrl.salaryPeriods"></select></div></div><div class="row m-t-sm"><div class="col-md-12"><button class="btn btn-info project-admin-vacancy-edit-form__send-button" type="submit" ng-disabled="editForm.$invalid || $ctrl.pending">\u0421\u041e\u0425\u0420\u0410\u041d\u0418\u0422\u042c</button><a class="btn project-admin-vacancy-edit-form__cancel-button" ng-click="$ctrl.closeForm()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a></div></div></form>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/company/admin/company_admin_vacancies.component.html",'<div ng-show="!$ctrl.pending"><div class="project-vacancies__sub-tabs"><a class="project-vacancies__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;active&#39;}" ng-click="$ctrl.activeTab = &#39;active&#39;" ng-show="active.length"><span>\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0435</span></a><a class="project-vacancies__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;hidden&#39;}" ng-click="$ctrl.activeTab = &#39;hidden&#39;" ng-show="hidden.length"><span>\u0422\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0438</span></a><a class="project-vacancies__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;fixed&#39;}" ng-click="$ctrl.activeTab = &#39;fixed&#39;" ng-show="fixed.length"><span>\u041d\u0430 \u043f\u0440\u0435\u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438</span></a><a class="project-vacancies__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;archived&#39;}" ng-click="$ctrl.activeTab = &#39;archived&#39;" ng-show="archived.length"><span>\u0410\u0440\u0445\u0438\u0432\u043d\u044b\u0435</span></a><div class="pull-right"><a class="btn btn-info project-admin-vacancies__add-button" ng-click="$ctrl.isAdding = !$ctrl.isAdding" ng-class="{active: $ctrl.isAdding}">\u0414\u041e\u0411\u0410\u0412\u0418\u0422\u042c {{::$ctrl.kind === \'vacancy\' ? \'\u0412\u0410\u041a\u0410\u041d\u0421\u0418\u042e\' : \'\u0421\u0422\u0410\u0416\u0418\u0420\u041e\u0412\u041a\u0423\'}}</a><div class="clearfix"></div></div></div><company-admin-edit-vacancy-form action="new" ng-model="$ctrl.formModel" ng-show="$ctrl.isAdding" on-create-vacancy="$ctrl.addVacancy($event)" is-editing="$ctrl.isAdding"></company-admin-edit-vacancy-form><div class="panel-group project__vacancies-accordion m-t"><div ng-repeat="item in $ctrl.vacancies | filter: $ctrl.activeFilter as active track by item.vacancy.id" ng-show="$ctrl.activeTab === &#39;active&#39; &amp;&amp; active.length"><company-admin-vacancy vacancy="item.vacancy" on-delete="$ctrl.deleteVacancy($event)" on-archive="$ctrl.archiveVacancy($event)"></company-admin-vacancy></div><div ng-repeat="item in $ctrl.vacancies | filter: $ctrl.hiddenFilter as hidden track by item.vacancy.id" ng-show="$ctrl.activeTab === &#39;hidden&#39; &amp;&amp; hidden.length"><company-admin-vacancy vacancy="item.vacancy" on-delete="$ctrl.deleteVacancy($event)" on-archive="$ctrl.archiveVacancy($event)"></company-admin-vacancy></div><div ng-repeat="item in $ctrl.vacancies | filter: $ctrl.fixedFilter as fixed track by item.vacancy.id" ng-show="$ctrl.activeTab === &#39;fixed&#39; &amp;&amp; fixed.length"><company-admin-vacancy vacancy="item.vacancy" on-delete="$ctrl.deleteVacancy($event)" on-archive="$ctrl.archiveVacancy($event)"></company-admin-vacancy></div><div ng-repeat="item in $ctrl.vacancies | filter: $ctrl.archivedFilter as archived track by item.vacancy.id" ng-show="$ctrl.activeTab === &#39;archived&#39; &amp;&amp; archived.length"><company-admin-vacancy vacancy="item.vacancy" on-delete="$ctrl.deleteVacancy(id)" on-archive="$ctrl.archiveVacancy($event)"></company-admin-vacancy></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/company/admin/company_admin_vacancy.component.html",'<div class="panel panel-default project__vacancy-wrapper"><div class="panel-heading"><div class="panel-title"><a class="toggle-link" ng-click="$ctrl.collapsed = !$ctrl.collapsed"><svg class="svg-icon icon-arrow-down" ng-class="{collapsed: $ctrl.collapsed}" ng-show="!$ctrl.isEditing"><use xlink:href="/svg-defs.svg#icon-arrow-down"></use></svg><span class="project__vacancy-title" ng-hide="$ctrl.isEditing">{{$ctrl.vacancy.title}}</span></a><span class="project__vacancy-edit-title"><i class="text-muted" ng-show="$ctrl.isEditing">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438</i></span><div class="project-vacancy__header-controls"><div class="inline-block" ng-hide="$ctrl.isEditing"><span>{{$ctrl.vacancy.city}}</span> <span class="text-muted" ng-show="$ctrl.vacancy.city &amp;&amp; ($ctrl.vacancy.salary_min || $ctrl.vacancy.salary_max)">\u2022</span> <span ng-show="$ctrl.vacancy.salary_min"><span class="text-muted">\u043e\u0442</span> <span class="text-success text-medium" ng-bind-html="$ctrl.vacancy.salary_min | delimit:&#39;\u20bd&#39;"></span> </span><span ng-show="$ctrl.vacancy.salary_max"><span class="text-muted">\u0434\u043e</span> <span class="text-success text-medium" ng-bind-html="$ctrl.vacancy.salary_max | delimit:&#39;\u20bd&#39;"></span> </span></div><a class="project-vacancy__edit-button" edit-vacancy-button="" ng-click="$ctrl.toggleEditing()" ng-class="{active: $ctrl.isEditing}" href="" title="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"><svg class="svg-icon icon-edit"><use xlink:href="/svg-defs.svg#icon-edit"></use></svg></a><label class="switch inline-block m-l-xs m-r-xs" title="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"><input type="checkbox" ng-change="$ctrl.toggleArchive()" ng-model="$ctrl.vacancy.active" ng-disabled="$ctrl.isHidden" /><span></span></label></div><div class="clearfix"></div></div></div><div class="panel-collapse" uib-collapse="$ctrl.collapsed"><company-admin-edit-vacancy-form ng-model="$ctrl.formModel" ng-show="$ctrl.isEditing" action="edit" on-update-vacancy="$ctrl.vacanciesCtrl.updateVacancy($event)" is-editing="$ctrl.isEditing"></company-admin-edit-vacancy-form><div class="panel-body" ng-hide="$ctrl.isEditing"><p class="m-n" ng-bind-html="$ctrl.vacancy.html"></p><div class="m-t project-vacancy__required-course-message" ng-show="$ctrl.vacancy.test_job">\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435</div><div class="m-t" ng-show="$ctrl.vacancy.test_job" ng-bind-html="$ctrl.vacancy.test_job_html"></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/company/admin/company_vacancy_candidate.component.html",'<div class="project-vacancy__respond-wrapper"><div class="project-vacancy-respond__header"><img class="project-vacancy-respond__responder-image" ng-src="{{::$ctrl.respond.user.image.url}}" target="_blank" /><a class="inline-block m-l" ng-href="{{::$ctrl.respond.user.url}}" target="_blank"><h3 class="m-n inline-block">{{::$ctrl.respond.user.full_name}}</h3><div class="text-sm text-muted m-t-4">{{::$ctrl.respond.kind === \'vacancy\' ? \'\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u044f\' : \'\u0421\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0430\'}} \u2022 {{::$ctrl.respond.title}}</div></a><div class="project-vacancy__candidate-status-setter-wrapper"><div class="project-vacancy__candidate-status-setter-block" ng-class="{open: $ctrl.statusesOpen}" hide-on-blur="" ng-model="$ctrl.statusesOpen"><div class="project-vacancy__candidate-status-setter-header" ng-class="{active: $ctrl.respond.state !== &#39;considering&#39;}" ng-click="$ctrl.statusesOpen = !$ctrl.statusesOpen">{{$ctrl.respond.state === \'considering\' ? \'\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\' : $ctrl.statuses[$ctrl.respond.kind][$ctrl.respond.state]}}<svg class="svg-icon icon-arrow-down" ng-class="{open: $ctrl.statusesOpen}"><use xlink:href="/svg-defs.svg#icon-arrow-down"></use></svg></div><ul class="project-vacancy__candidate-status-setter-list" ng-switch="::$ctrl.respond.kind" ng-show="$ctrl.statusesOpen"><li class="project-vacancy__candidate-status-setter-item" ng-switch-when="vacancy" ng-hide="$ctrl.respond.state === key" ng-repeat="(key, value) in ::$ctrl.statuses.vacancy" ng-click="$ctrl.setStatus(key)">{{::value}}</li><li class="project-vacancy__candidate-status-setter-item" ng-switch-when="probation" ng-hide="$ctrl.respond.state === key" ng-repeat="(key, value) in ::$ctrl.statuses.probation" ng-click="$ctrl.setStatus(key)">{{::value}}</li></ul></div></div><div class="clearfix"></div></div><div class="project-vacancy__respond-content"><div ng-show="$ctrl.moreOpen &amp;&amp; !$ctrl.declineFormVisible &amp;&amp; !$ctrl.failFormVisible"><div class="m-t project-vacancy-respond__resume-url" ng-show="::$ctrl.respond.resume_url"><strong>\u0420\u0435\u0437\u044e\u043c\u0435:</strong> <span ng-bind-html="::$ctrl.respond.resume_url | linky:&#39;_blank&#39;"></span></div><div class="m-t project-vacancy-respond__test-job-url" ng-show="::$ctrl.respond.test_job_url"><strong>\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435:</strong> <span ng-bind-html="::$ctrl.respond.test_job_url | linky:&#39;_blank&#39;"></span></div><div class="m-t-md" ng-if="::$ctrl.respond.phone || $ctrl.respond.email || $ctrl.respond.skype"><div class="project-vacancy-respond__candidate-data-wrapper"><div class="project-vacancy-respond__candidate-phone-block" ng-show="::$ctrl.respond.phone"><div class="text-sm text-muted">\u0422\u0435\u043b\u0435\u0444\u043e\u043d</div><span>{{::$ctrl.respond.phone}}</span></div><div class="project-vacancy-respond__candidate-email-block" ng-show="::$ctrl.respond.email"><div class="text-sm text-muted">E-mail</div><span>{{::$ctrl.respond.email}}</span></div><div class="project-vacancy-respond__candidate-skype-block" ng-show="::$ctrl.respond.skype"><div class="text-sm text-muted">Skype</div><span>{{::$ctrl.respond.skype}}</span></div></div></div></div><div class="project-vacancy-respond__controls" ng-hide="$ctrl.declineProbationFormVisible || $ctrl.declineFormVisible || $ctrl.failFormVisible"><a class="p-l-n block" href="" ng-click="$ctrl.moreOpen = true" ng-hide="$ctrl.moreOpen"><span>\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435</span></a><a class="p-l-n" href="" ng-show="$ctrl.moreOpen" ng-click="$ctrl.moreOpen = false"><svg class="svg-icon icon-arrow-up"><use xlink:href="/svg-defs.svg#icon-arrow-up"></use></svg><span class="text-header">\u0421\u043a\u0440\u044b\u0442\u044c</span></a><a href="" ng-click="$ctrl.sendMessage()"><svg class="svg-icon icon-write"><use xlink:href="/svg-defs.svg#icon-write"></use></svg><span>\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c</span></a><a ng-if="::$ctrl.respond.kind === &#39;vacancy&#39;" ng-class="{active: $ctrl.datepickerOpened}" href="" ng-click="$ctrl.openDatepicker()"><svg class="svg-icon icon-calendar"><use xlink:href="/svg-defs.svg#icon-calendar"></use></svg><span>\u0414\u0430\u0442\u0430 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f</span><span ng-show="$ctrl.respond.interview_date"><span>:</span> <span>{{$ctrl.respond.interview_date | date:\'d MMM yyyy\'}}</span></span></a><br /><div class="well well-sm m-t project-vacancy-respond__datepicker-wrapper" ng-show="$ctrl.datepickerOpened" ng-if="::$ctrl.respond.kind === &#39;vacancy&#39;"><uib-datepicker ng-model="$ctrl.dt" datepicker-options="$ctrl.datepickerOptions"></uib-datepicker></div><div class="clearfix"></div></div><form class="project__respond-decline-message-form m-t" name="declineForm" ng-show="$ctrl.declineFormVisible" ng-submit="$ctrl.declineRespond(declineForm.$valid)" novalidate=""><label class="invisible">\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043a\u0430\u0437\u0430</label><textarea class="project-respond-decline-message__textarea autogrow" rows="3" required="" placeholder="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043a\u0430\u0437\u0430" ng-model="$ctrl.declineRespondMessage"></textarea><button class="btn btn-danger project-respond-decline-message__send-button" type="submit" ng-disabled="declineForm.$invalid">\u0421\u041e\u0425\u0420\u0410\u041d\u0418\u0422\u042c</button><a class="btn project-respond-decline-message__cancel-button" ng-click="$ctrl.declineFormVisible = false"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a></form><form class="project__respond-decline-message-form m-t" name="failForm" ng-show="$ctrl.failFormVisible" ng-submit="$ctrl.failRespond(failForm.$valid)" novalidate=""><label class="invisible">\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430 \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0430</label><textarea class="project-respond-decline-message__textarea autogrow" rows="3" required="" placeholder="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430 \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0430" ng-model="$ctrl.failRespondMessage"></textarea><button class="btn btn-danger project-respond-decline-message__send-button" type="submit" ng-disabled="failForm.$invalid">\u0421\u041e\u0425\u0420\u0410\u041d\u0418\u0422\u042c</button><a class="btn project-respond-decline-message__cancel-button" ng-click="$ctrl.failFormVisible = false"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a></form></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/company/admin/company_vacancy_candidates.component.html",'<div class="company-candidates__filters" ng-show="$ctrl.candidates.length"><input class="company-candidates__search-input" ng-show="$ctrl.candidates.length" placeholder="\u041f\u043e\u0438\u0441\u043a" ng-focus="$ctrl.activateSearch()" ng-model="$ctrl.filterQuery" ng-class="{active: $ctrl.searching}" ng-change="$ctrl.searchCandidates()" onfocus="this.placeholder = &#39;\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0438\u043c\u044f \u0438\u043b\u0438 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e&#39;" onblur="this.placeholder = &#39;\u041f\u043e\u0438\u0441\u043a&#39;" /><a class="company-candidates__close-search-button" href="" ng-show="$ctrl.searching &amp;&amp; !$ctrl.isSearching" ng-click="$ctrl.deactivateSearch()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a><i class="i i-spinner project-responds__search-spinner" ng-show="$ctrl.isSearching"></i></div><div class="company-vacancy-responds_candidates" ng-show="$ctrl.searching" ng-repeat="item in $ctrl.foundCandidates track by item.respond.id"><company-vacancy-candidate respond="item.respond"></company-vacancy-candidate></div><div class="company-vacancy-responds_candidates company-vacancy-responds_candidates_all" ng-show="!$ctrl.searching"><div ng-repeat="item in $ctrl.candidates track by item.respond.id"><company-vacancy-candidate respond="item.respond"></company-vacancy-candidate></div></div><div class="text-center m-t-lg" ng-show="!$ctrl.candidates.length &amp;&amp; !$ctrl.isLoadingCandidates"><h2>\u041a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442</h2></div><div class="text-center m-t-lg" ng-show="$ctrl.foundCandidates &amp;&amp; !$ctrl.foundCandidates.length"><h2>\u041a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b</h2></div><div class="text-center m-t-lg" ng-show="$ctrl.isLoadingCandidates"><i class="i i-spinner"></i></div><infinite-scroll-pagination url="$ctrl.candidatesUrl" collection="$ctrl.candidates" scrollable="true" uniq-key="respond.id" visible-element=".company-vacancy-responds_candidates_all" id="candidates"></infinite-scroll-pagination>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/company/admin/company_vacancy_respond.component.html",'<div class="project-vacancy__respond-wrapper"><div class="project-vacancy-respond__header"><img class="project-vacancy-respond__responder-image" ng-src="{{::$ctrl.respond.user.image.url}}" target="_blank" /><a class="inline-block m-l" ng-href="{{::$ctrl.respond.user.url}}" target="_blank"><h3 class="m-n inline-block">{{::$ctrl.respond.user.full_name}}</h3><div class="text-sm text-muted m-t-4">{{::$ctrl.respond.kind === \'vacancy\' ? \'\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u044f\' : \'\u0421\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0430\'}} \u2022 {{::$ctrl.respond.title}}</div></a><div class="project-vacancy-respond__created-at h6">{{::$ctrl.respond.created_at | formatDate}}</div></div><div class="project-vacancy__respond-content"><div class="m-t project-vacancy-respond__resume-url" ng-show="::$ctrl.respond.resume_url"><strong>\u0420\u0435\u0437\u044e\u043c\u0435:</strong> <span ng-bind-html="::$ctrl.respond.resume_url | linky:&#39;_blank&#39;"></span></div><div class="m-t project-vacancy-respond__test-job-url" ng-show="::$ctrl.respond.test_job_url"><strong>\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435:</strong> <span ng-bind-html="::$ctrl.respond.test_job_url | linky:&#39;_blank&#39;"></span></div><div class="m-t-md m-b-lg" ng-if="::$ctrl.respond.phone || $ctrl.respond.email || $ctrl.respond.skype" ng-hide="$ctrl.declineFormVisible"><div class="project-vacancy-respond__candidate-data-wrapper"><div class="project-vacancy-respond__candidate-phone-block" ng-show="::$ctrl.respond.phone"><div class="text-sm text-muted">\u0422\u0435\u043b\u0435\u0444\u043e\u043d</div><span>{{::$ctrl.respond.phone}}</span></div><div class="project-vacancy-respond__candidate-email-block" ng-show="::$ctrl.respond.email"><div class="text-sm text-muted">E-mail</div><span>{{::$ctrl.respond.email}}</span></div><div class="project-vacancy-respond__candidate-skype-block" ng-show="::$ctrl.respond.skype"><div class="text-sm text-muted">Skype</div><span>{{::$ctrl.respond.skype}}</span></div></div></div><div class="m-t" ng-if="::$ctrl.respond.message" ng-hide="$ctrl.declineFormVisible"><a href="" ng-show="!$ctrl.messageOpen" ng-click="$ctrl.messageOpen = true"><span class="text-header">\u0421\u043e\u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e</span><svg class="svg-icon icon-arrow-down"><use xlink:href="/svg-defs.svg#icon-arrow-down"></use></svg></a><div ng-show="$ctrl.messageOpen">{{::$ctrl.respond.message}}</div><a class="block m-t" href="" ng-show="$ctrl.messageOpen" ng-click="$ctrl.messageOpen = false"><span class="text-header">\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c</span><svg class="svg-icon icon-arrow-up"><use xlink:href="/svg-defs.svg#icon-arrow-up"></use></svg></a></div><div class="project-vacancy-respond__controls" ng-hide="$ctrl.declineFormVisible"><a class="p-l-n" href="" ng-click="$ctrl.sendMessage()"><svg class="svg-icon icon-write"><use xlink:href="/svg-defs.svg#icon-write"></use></svg><span>\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c</span></a><a href="" ng-show="$ctrl.respond.state !== &#39;declined&#39; &amp;&amp; $ctrl.respond.marked !== true" ng-click="$ctrl.markRespond()"><svg class="svg-icon icon-mark"><use xlink:href="/svg-defs.svg#icon-mark"></use></svg><span>\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c</span></a><a href="" ng-show="$ctrl.respond.marked === true" ng-click="$ctrl.unmarkRespond()"><svg class="svg-icon icon-mark-filled"><use xlink:href="/svg-defs.svg#icon-mark-filled"></use></svg><span>\u041e\u0442\u043c\u0435\u0447\u0435\u043d</span></a><a href="" ng-click="$ctrl.considerRespond()" ng-hide="$ctrl.respond.state === &#39;considering&#39;"><svg class="svg-icon icon-recruit"><use xlink:href="/svg-defs.svg#icon-recruit"></use></svg><span>\u0412 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u044b</span></a><a ng-class="{active: $ctrl.declineFormVisible}" href="" ng-click="$ctrl.declineFormVisible = !$ctrl.declineFormVisible" ng-show="$ctrl.respond.state !== &#39;declined&#39;"><svg class="svg-icon icon-refuse"><use xlink:href="/svg-defs.svg#icon-refuse"></use></svg><span>\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c</span></a><a href="" ng-click="$ctrl.withdrawDecline()" ng-show="$ctrl.respond.state === &#39;declined&#39;"><svg class="svg-icon icon-recruit"><use xlink:href="/svg-defs.svg#icon-refresh"></use></svg><span>\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c</span></a></div><form class="project__respond-decline-message-form m-t" name="declineForm" ng-show="$ctrl.declineFormVisible" ng-submit="$ctrl.declineRespond(declineForm.$valid)" novalidate=""><label class="invisible">\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043a\u0430\u0437\u0430</label><textarea class="project-respond-decline-message__textarea autogrow" rows="3" required="" placeholder="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043a\u0430\u0437\u0430" ng-model="$ctrl.declineMessage"></textarea><p class="note">\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0443</p><button class="btn btn-danger project-respond-decline-message__send-button" type="submit" ng-disabled="declineForm.$invalid">\u041e\u0422\u041a\u0410\u0417\u0410\u0422\u042c</button><a class="btn project-respond-decline-message__cancel-button" ng-click="$ctrl.declineFormVisible = false"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a></form></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){
e.put("ng/projects/company/admin/company_vacancy_responds.component.html",'<div class="project-responds__sub-tabs"><a class="project-responds__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;all&#39;}" ng-click="$ctrl.activeTab = &#39;all&#39;"><span>\u0412\u0441\u0435 \u043e\u0442\u043a\u043b\u0438\u043a\u0438</span><span class="badge m-l-sm hidden-xs">{{$ctrl.allTotal}}</span></a><a class="project-responds__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;marked&#39;}" ng-click="$ctrl.activeTab = &#39;marked&#39;"><span>\u041e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435</span><span class="badge m-l-sm hidden-xs">{{$ctrl.markedTotal}}</span></a><a class="project-responds__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;declined&#39;}" ng-click="$ctrl.activeTab = &#39;declined&#39;"><span>\u041e\u0442\u043a\u0430\u0437\u044b</span><span class="badge m-l-sm hidden-xs">{{$ctrl.declinedTotal}}</span></a><input class="project-responds__search-input" ng-show="$ctrl.allResponds.length" ng-focus="$ctrl.activateSearch()" ng-class="{active: $ctrl.searching}" ng-model="$ctrl.filterQuery" ng-change="$ctrl.searchResponds()" onfocus="this.placeholder = &#39;\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0438\u043c\u044f \u0438\u043b\u0438 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e&#39;" /><a class="project-responds__close-search-button" href="" ng-show="$ctrl.searching &amp;&amp; !$ctrl.isSearching" ng-click="$ctrl.deactivateSearch()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a><i class="i i-spinner project-responds__search-spinner" ng-show="$ctrl.isSearching"></i></div><div ng-show="$ctrl.searching"><div ng-repeat="item in $ctrl.foundResponds track by item.respond.id"><company-vacancy-respond respond="item.respond"></company-vacancy-respond></div><div class="text-center m-t-lg" ng-show="$ctrl.foundResponds &amp;&amp; !$ctrl.foundResponds.length"><h2>\u041e\u0442\u043a\u043b\u0438\u043a\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b</h2></div></div><div class="company-vacancy-responds_all" ng-show="$ctrl.activeTab === &#39;all&#39; &amp;&amp; !$ctrl.searching"><div class="text-center m-t-lg" ng-show="!$ctrl.allResponds.length &amp;&amp; !$ctrl.isLoadingResponds"><h2>\u041f\u043e\u043a\u0430 \u043e\u0442\u043a\u043b\u0438\u043a\u043e\u0432 \u043d\u0435\u0442</h2></div><div class="text-center m-t-lg" ng-show="$ctrl.isLoadingResponds"><i class="i i-spinner"></i></div><div ng-repeat="item in $ctrl.allResponds track by item.respond.id"><company-vacancy-respond respond="item.respond"></company-vacancy-respond></div><infinite-scroll-pagination url="$ctrl.allRespondsUrl" collection="$ctrl.allResponds" scrollable="true" uniq-key="respond.id" visible-element=".company-vacancy-responds_all" id="all"></infinite-scroll-pagination></div><div class="company-vacancy-responds_marked" ng-show="$ctrl.activeTab === &#39;marked&#39; &amp;&amp; !$ctrl.searching"><div class="text-center m-t-lg" ng-show="!$ctrl.markedResponds.length"><h2>\u041d\u0435\u0442 \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0445 \u043e\u0442\u043a\u043b\u0438\u043a\u043e\u0432</h2></div><div ng-repeat="item in $ctrl.markedResponds track by item.respond.id"><company-vacancy-respond respond="item.respond"></company-vacancy-respond></div><infinite-scroll-pagination url="$ctrl.markedRespondsUrl" collection="$ctrl.markedResponds" scrollable="true" uniq-key="respond.id" visible-element=".company-vacancy-responds_marked" id="marked"></infinite-scroll-pagination></div><div class="compoany-vacancy-responds_declined" ng-show="$ctrl.activeTab === &#39;declined&#39; &amp;&amp; !$ctrl.searching"><div class="text-center m-t-lg" ng-show="!$ctrl.declinedResponds.length"><h2>\u041e\u0442\u043a\u0430\u0437\u043e\u0432 \u043d\u0435\u0442</h2></div><div ng-repeat="item in $ctrl.declinedResponds track by item.respond.id"><company-vacancy-respond respond="item.respond"></company-vacancy-respond></div><infinite-scroll-pagination url="$ctrl.declinedRespondsUrl" collection="$ctrl.declinedResponds" scrollable="true" uniq-key="respond.id" visible-element=".company-vacancy-responds_declined" id="declined"></infinite-scroll-pagination></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/company/company_respond_to_vacancy_form.html",'<form class="project__respond-to-vacancy-message-form" name="respondForm" ng-show="$ctrl.vacancy.respondFormVisible" ng-submit="$ctrl.vacancy.respondToVacancy(respondForm.$valid)" novalidate=""><div class="row"><div class="col-md-12"><label class="invisible">\u0421\u043e\u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e</label><textarea class="project-respond-to-vacancy-message__textarea autogrow" rows="3" required="" placeholder="\u0421\u043e\u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e" ng-model="$ctrl.vacancy.candidateData.message"></textarea></div></div><div class="row"><div class="col-md-12"><label class="invisible">\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0440\u0435\u0437\u044e\u043c\u0435</label><input type="text" placeholder="\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0440\u0435\u0437\u044e\u043c\u0435" ng-model="$ctrl.vacancy.candidateData.resume_url" /></div></div><div class="row"><div class="col-md-4 m-t-8"><label>\u0422\u0435\u043b\u0435\u0444\u043e\u043d</label><input type="text" placeholder="\u0422\u0435\u043b\u0435\u0444\u043e\u043d" ng-model="$ctrl.vacancy.candidateData.phone" /></div><div class="col-md-4 m-t-8"><label>E-mail</label><input type="email" placeholder="E-mail" ng-model="$ctrl.vacancy.candidateData.email" required="" /></div><div class="col-md-4 m-t-8"><label class="invisible">Skype</label><input type="text" placeholder="Skype" ng-model="$ctrl.vacancy.candidateData.skype" /></div></div><div class="row m-t"><div class="col-md-12"><button class="btn btn-success project-respond-to-vacancy-message__send-button" type="submit" ng-disabled="respondForm.$invalid">\u041e\u0422\u041a\u041b\u0418\u041a\u041d\u0423\u0422\u042c\u0421\u042f \u041d\u0410 {{::$ctrl.vacancy.vacancy.kind == \'probation\' ? \'\u0421\u0422\u0410\u0416\u0418\u0420\u041e\u0412\u041a\u0423\' : \'\u0412\u0410\u041a\u0410\u041d\u0421\u0418\u042e\'}}</button><a class="btn project-respond-to-vacancy-message__cancel-button" ng-click="$ctrl.vacancy.respondFormVisible = !$ctrl.vacancy.respondFormVisible"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a></div></div></form>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/company/company_vacancies.component.html",'<div class="panel-group project__vacancies-accordion"><div ng-repeat="item in $ctrl.vacancies track by item.vacancy.id"><company-vacancy vacancy="item.vacancy" on-update="$ctrl.updateVacancy($event)"></company-vacancy></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/company/company_vacancy.component.html",'<div class="panel panel-default company__vacancy-wrapper"><scroll-to-me ng-if="$ctrl.selected"></scroll-to-me><div class="panel-heading"><div class="panel-title"><a class="toggle-link" ng-click="$ctrl.collapsed = !$ctrl.collapsed"><svg class="svg-icon icon-arrow-down" ng-class="{collapsed: $ctrl.collapsed}"><use xlink:href="/svg-defs.svg#icon-arrow-down"></use></svg><span class="project__vacancy-title">{{::$ctrl.vacancy.title}}</span></a><div class="project-vacancy__header-controls"><div class="inline-block" ng-hide="$ctrl.isEditing"><span>{{$ctrl.vacancy.city}}</span> <span class="text-muted" ng-show="::$ctrl.vacancy.salary_min || $ctrl.vacancy.salary_max">\u2022</span> <span ng-show="::$ctrl.vacancy.salary_min"><span class="text-muted">\u043e\u0442</span> <span class="text-success text-medium" ng-bind-html="::$ctrl.vacancy.salary_min | delimit:&#39;\u20bd&#39;"></span> </span><span ng-show="::$ctrl.vacancy.salary_max"><span class="text-muted">\u0434\u043e</span> <span class="text-success text-medium" ng-bind-html="::$ctrl.vacancy.salary_max | delimit:&#39;\u20bd&#39;"></span> </span></div></div></div></div><div class="panel-collapse" uib-collapse="$ctrl.collapsed"><div class="panel-body"><p class="m-n" ng-bind-html="::$ctrl.vacancy.html"></p><div class="m-t" ng-if="::$ctrl.vacancy.report"><i class="project__vacancy-respond-message {{$ctrl.vacancy.report.state}}">{{::$ctrl.vacancy.report.message}}</i><div class="text-sm" ng-if="::$ctrl.vacancy.report.state === &#39;declined&#39;">\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043a\u0430\u0437\u0430: {{::$ctrl.vacancy.report.reason}}</div></div><div class="m-t project-vacancy__required-course-message" ng-show="::$ctrl.vacancy.test_job">\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435</div><div class="m-t" ng-show="::$ctrl.vacancy.test_job" ng-bind-html="::$ctrl.vacancy.test_job_html"></div><div class="m-t" ng-if="!$ctrl.currentUser.id"><a class="btn btn-info project__respond-to-vacancy-button js-show-popup" href="#gb-popup-registration">\u041e\u0422\u041a\u041b\u0418\u041a\u041d\u0423\u0422\u042c\u0421\u042f</a></div><div class="m-t" ng-if="$ctrl.vacancy.can_respond"><a class="btn btn-info project__respond-to-vacancy-button" ng-click="$ctrl.respondFormVisible = !$ctrl.respondFormVisible" ng-show="!$ctrl.respondFormVisible">\u041e\u0422\u041a\u041b\u0418\u041a\u041d\u0423\u0422\u042c\u0421\u042f</a><company-respond-to-vacancy-form></company-respond-to-vacancy-form></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/incubator/admin/incubator_admin_edit_vacancy_form.component.html",'<form class="project-admin-vacancy__edit-form m-t m-b" name="editForm" ng-submit="$ctrl.saveVacancy(editForm.$valid)" novalidate=""><div class="row"><div class="col-md-9"><label>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438</label><input placeholder="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438" ng-model="$ctrl.ngModel.title" required="" ng-maxlength="140" ng-minlength="6" /></div><div class="col-md-3"><label>\u041a\u043e\u043b-\u0432\u043e \u043c\u0435\u0441\u0442</label><select ng-options="n for n in [1,2,3,4,5,6,7,8,9,10]" ng-model="$ctrl.positionsCount"></select></div></div><div class="row m-t-sm"><div class="col-md-12"><label>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438</label><textarea class="project-admin-vacancy-edit-form__textarea" rows="1" required="" easymde="" placeholder="\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438" ng-model="$ctrl.ngModel.description" ng-maxlength="65535"></textarea></div></div><div class="row m-t"><div class="col-md-12"><div class="labels">\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435</div><textarea class="project-admin-vacancy-edit-form__textarea" rows="1" easymde="" placeholder="\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435" ng-model="$ctrl.ngModel.test_job"></textarea></div></div><div class="row"><div class="col-sm-4"><div class="checkbox-paid checkbox checkbox-primary"><input class="js-project-vacancies-salary__enabled" type="checkbox" ng-checked="$ctrl.ngModel.salary_amount" ng-model="$ctrl.paid" /><label>\u041e\u043f\u043b\u0430\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f</label></div></div><div class="col-sm-4" ng-show="$ctrl.paid"><label>\u0421\u0443\u043c\u043c\u0430</label><input ng-model="$ctrl.ngModel.salary_amount" /></div><div class="col-sm-4 project-edit-form__salary-period" ng-show="$ctrl.paid"><select ng-model="$ctrl.salaryPeriod" ng-options="key as value for (key, value) in $ctrl.salaryPeriods"></select></div></div><div class="row m-t-sm"><div class="col-md-12"><button class="btn btn-success project-admin-vacancy-edit-form__send-button" type="submit" ng-disabled="editForm.$invalid">\u0421\u041e\u0425\u0420\u0410\u041d\u0418\u0422\u042c</button><a class="btn project-admin-vacancy-edit-form__cancel-button" ng-click="$ctrl.closeForm()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a></div></div></form>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/incubator/admin/incubator_admin_vacancies.component.html",'<a class="project-vacancies__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;active&#39;}" ng-click="$ctrl.activeTab = &#39;active&#39;"><span>\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0435</span><span class="badge m-l-sm">{{active.length}}</span></a><a class="project-vacancies__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;archived&#39;}" ng-click="$ctrl.activeTab = &#39;archived&#39;"><span>\u0410\u0440\u0445\u0438\u0432\u043d\u044b\u0435</span><span class="badge m-l-sm">{{archived.length}}</span></a><div class="pull-right"><a class="btn btn-info project-admin-vacancies__add-button" ng-click="$ctrl.isAdding = !$ctrl.isAdding" ng-class="{active: $ctrl.isAdding}">\u0414\u041e\u0411\u0410\u0412\u0418\u0422\u042c \u0412\u0410\u041a\u0410\u041d\u0421\u0418\u042e</a></div><div class="clearfix"></div><incubator-admin-edit-vacancy-form action="new" ng-model="$ctrl.formModel" ng-show="$ctrl.isAdding"></incubator-admin-edit-vacancy-form><div class="panel-group project__vacancies-accordion m-t"><div ng-repeat="item in $ctrl.ngModel | filter: $ctrl.activeFilter as active" ng-show="$ctrl.activeTab === &#39;active&#39;"><incubator-admin-vacancy vacancy="item.vacancy" delete-vacancy="$ctrl.deleteVacancy(id)"></incubator-admin-vacancy></div><div ng-repeat="item in $ctrl.ngModel | filter: $ctrl.archivedFilter as archived" ng-show="$ctrl.activeTab === &#39;archived&#39;"><incubator-admin-vacancy vacancy="item.vacancy" delete-vacancy="$ctrl.deleteVacancy(id)"></incubator-admin-vacancy></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/incubator/admin/incubator_admin_vacancy.component.html",'<div class="panel panel-default project__vacancy-wrapper"><div class="panel-heading"><div class="panel-title"><a class="toggle-link" ng-click="$ctrl.collapsed = !$ctrl.collapsed"><svg class="svg-icon icon-arrow-down" ng-class="{collapsed: $ctrl.collapsed}" ng-show="!$ctrl.isEditing"><use xlink:href="/svg-defs.svg#icon-arrow-down"></use></svg><span class="project__vacancy-title" ng-show="!$ctrl.isEditing">{{$ctrl.vacancy.title}}</span></a><span class="project__vacancy-edit-title"><i class="text-muted" ng-show="$ctrl.isEditing">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438</i></span><div class="project-vacancy__header-controls"><span ng-if="$ctrl.vacancy.salary_amount &amp;&amp; $ctrl.vacancy.salary_period" ng-show="!$ctrl.isEditing"><span ng-bind-html="$ctrl.vacancy.salary_amount | delimit:&#39;\u20bd&#39;"></span><span> <span>/</span> <span>{{::$ctrl.helpers.getPeriod($ctrl.vacancy.salary_period)}}</span></span></span><span class="project-vacancy__positions-count" ng-show="!$ctrl.isEditing">{{$ctrl.vacancy.positions_count}} {{$ctrl.gbHelpers.getNoun($ctrl.vacancy.positions_count, \'\u043c\u0435\u0441\u0442\u043e\', \'\u043c\u0435\u0441\u0442\u0430\', \'\u043c\u0435\u0441\u0442\')}}</span><a class="project-vacancy__delete-button" ng-click="$ctrl.deleteVacancy({id: $ctrl.vacancy.id})" href="" ng-show="$ctrl.isEditing"><svg class="svg-icon icon-refuse m-r-sm"><use xlink:href="/svg-defs.svg#icon-trash"></use></svg><span>\u0423\u0434\u0430\u043b\u0438\u0442\u044c</span></a><a class="project-vacancy__edit-button" edit-vacancy-button="" ng-click="$ctrl.toggleEditing()" ng-class="{active: $ctrl.isEditing}" href="" title="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"><svg class="svg-icon icon-edit"><use xlink:href="/svg-defs.svg#icon-edit"></use></svg></a><label class="switch inline-block m-l-xs m-r-xs" title="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"><input type="checkbox" ng-change="$ctrl.toggleArchive()" ng-model="$ctrl.vacancy.state" ng-true-value="&#39;active&#39;" ng-false-value="&#39;archived&#39;" /><span></span></label></div><div class="clearfix"></div><div class="text-sm m-l-xl" ng-show="!$ctrl.isEditing &amp;&amp; $ctrl.vacancy.positions_last &lt;= 0 &amp;&amp; $ctrl.vacancy.state !== &#39;archived&#39;">\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0430\u0431\u0440\u0430\u043d\u0430. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e \u0438\u043b\u0438 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442.</div></div></div><div class="panel-collapse" uib-collapse="$ctrl.collapsed"><incubator-admin-edit-vacancy-form ng-model="$ctrl.formModel" ng-show="$ctrl.isEditing" action="edit"></incubator-admin-edit-vacancy-form><div class="panel-body" ng-show="!$ctrl.isEditing"><p class="m-n" ng-bind-html="$ctrl.vacancy.html"></p></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/incubator/admin/incubator_member.component.html",'<div class="project-member__wrapper"><div class="project-member__header"><img class="project__member-image" ng-src="{{::$ctrl.member.user.image.url}}" target="_blank" /><a class="inline-block m-l" ng-href="{{::$ctrl.member.user.profile_path}}" target="_blank"><h3 class="m-n inline-block">{{::$ctrl.member.user.full_name}}</h3><span class="text-muted text-sm block">{{$ctrl.member.title}}</span></a><div class="project-member__experience text-sm text-muted">{{::$ctrl.member.created_at | formatDate: true}} \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435</div></div><div class="project-member__content"><div class="project-member__controls" ng-show="{{ $ctrl.member.id }}"><a href="" ng-click="$ctrl.sendMessage()"><svg class="svg-icon icon-write"><use xlink:href="/svg-defs.svg#icon-write"></use></svg><span>\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c</span></a><a ng-click="$ctrl.toggleEditForm()" ng-class="{active: $ctrl.editFormVisible}" href=""><svg class="svg-icon icon-edit"><use xlink:href="/svg-defs.svg#icon-edit"></use></svg><span>\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c</span></a><a ng-click="$ctrl.toggleDeleteForm()" ng-class="{active: $ctrl.deleteFormVisible}" href=""><svg class="svg-icon icon-refuse"><use xlink:href="/svg-defs.svg#icon-trash"></use></svg><span>\u0423\u0434\u0430\u043b\u0438\u0442\u044c</span></a><form class="project-member__edit-form m-t-lg" name="editForm" ng-show="$ctrl.editFormVisible" ng-submit="$ctrl.changeTitle(editForm.$valid)" novalidate=""><label>\u041d\u043e\u0432\u0430\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c</label><textarea class="project-member-edit-message__textarea autogrow" rows="1" required="" placeholder="\u041d\u043e\u0432\u0430\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c" ng-model="$ctrl.memberTitle"></textarea><button class="btn btn-success project-member-edit-message__send-button" type="submit" ng-disabled="editForm.$invalid">\u0418\u0417\u041c\u0415\u041d\u0418\u0422\u042c</button><button class="btn project-member-edit-message__cancel-button" ng-click="$ctrl.toggleEditForm()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></button></form><form class="project-member__dismiss-form m-t-lg" name="deleteForm" ng-show="$ctrl.deleteFormVisible" ng-submit="$ctrl.deleteMember(deleteForm.$valid)" novalidate=""><label class="invisible">\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0438\u0437 \u043f\u0440\u043e\u0435\u043a\u0442\u0430</label><textarea class="project-member-dismiss-message__textarea autogrow" rows="3" required="" placeholder="\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0438\u0437 \u043f\u0440\u043e\u0435\u043a\u0442\u0430" ng-model="$ctrl.deleteReason"></textarea><button class="btn btn-danger project-member-dismiss-message__send-button" type="submit" ng-disabled="deleteForm.$invalid">\u0423\u0414\u0410\u041b\u0418\u0422\u042c \u0418\u0417 \u041f\u0420\u041e\u0415\u041a\u0422\u0410</button><button class="btn project-member-dismiss-message__cancel-button" ng-click="$ctrl.toggleDeleteForm()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></button></form></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/incubator/admin/incubator_members.component.html",'<div ng-if="$ctrl.ngModel.length"><div ng-repeat="item in $ctrl.ngModel"><incubator-member member="item.member"></incubator-member></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/incubator/admin/incubator_vacancy_respond.component.html",'<div class="project-vacancy__respond-wrapper"><div class="project-vacancy-respond__header"><img class="project-vacancy-respond__responder-image" ng-src="{{::$ctrl.respond.user.image.url}}" target="_blank" /><a class="inline-block m-l" ng-href="{{::$ctrl.respond.user.profile_path}}" target="_blank"><h3 class="m-n inline-block">{{::$ctrl.respond.user.full_name}}</h3><div class="text-sm text-muted m-t-4">{{::$ctrl.respond.title}}</div></a><div class="project-vacancy-respond__created-at h6">{{::$ctrl.respond.created_at | formatDate}}</div></div><div class="project-vacancy__respond-content"><div class="m-t" ng-hide="$ctrl.declineFormVisible"><a href="" ng-show="!$ctrl.messageOpen" ng-click="$ctrl.openMessage()"><span class="text-header">\u0421\u043e\u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e</span><svg class="svg-icon icon-arrow-down"><use xlink:href="/svg-defs.svg#icon-arrow-down"></use></svg></a><div ng-show="$ctrl.messageOpen">{{::$ctrl.respond.message}}</div><a class="block m-t" href="" ng-show="$ctrl.messageOpen" ng-click="$ctrl.collapseMessage()"><span class="text-header">\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c</span><svg class="svg-icon icon-arrow-up"><use xlink:href="/svg-defs.svg#icon-arrow-up"></use></svg></a></div><div class="project-vacancy-respond__controls" ng-hide="$ctrl.declineFormVisible"><a class="p-l-n" href="" ng-click="$ctrl.sendMessage()"><svg class="svg-icon icon-write"><use xlink:href="/svg-defs.svg#icon-write"></use></svg><span>\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c</span></a><a href="" ng-show="$ctrl.respond.state !== &#39;declined&#39; &amp;&amp; $ctrl.respond.marked !== true" ng-click="$ctrl.markRespond()"><svg class="svg-icon icon-mark"><use xlink:href="/svg-defs.svg#icon-mark"></use></svg><span>\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c</span></a><a href="" ng-show="$ctrl.respond.marked === true" ng-click="$ctrl.unmarkRespond()"><svg class="svg-icon icon-mark-filled"><use xlink:href="/svg-defs.svg#icon-mark-filled"></use></svg><span>\u041e\u0442\u043c\u0435\u0447\u0435\u043d</span></a><a href="" ng-click="$ctrl.acceptRespond()" ng-show="$ctrl.respond.state !== &#39;declined&#39;"><svg class="svg-icon icon-recruit"><use xlink:href="/svg-defs.svg#icon-recruit"></use></svg><span>\u0412 \u043a\u043e\u043c\u0430\u043d\u0434\u0443</span></a><a ng-class="{active: $ctrl.declineFormVisible}" href="" ng-click="$ctrl.declineFormVisible = !$ctrl.declineFormVisible" ng-show="$ctrl.respond.state !== &#39;declined&#39;"><svg class="svg-icon icon-refuse"><use xlink:href="/svg-defs.svg#icon-refuse"></use></svg><span>\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c</span></a><a href="" ng-click="$ctrl.withdrawDecline()" ng-show="$ctrl.respond.state === &#39;declined&#39;"><svg class="svg-icon icon-recruit"><use xlink:href="/svg-defs.svg#icon-refresh"></use></svg><span>\u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0432 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u044b</span></a></div><form class="project__respond-decline-message-form" name="declineForm" ng-show="$ctrl.declineFormVisible" ng-submit="$ctrl.declineRespond(declineForm.$valid)" novalidate=""><label class="invisible">\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043a\u0430\u0437\u0430</label><textarea class="project-respond-decline-message__textarea autogrow" rows="3" required="" placeholder="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043a\u0430\u0437\u0430" ng-model="$ctrl.declineMessage"></textarea><button class="btn btn-danger project-respond-decline-message__send-button" type="submit" ng-disabled="declineForm.$invalid">\u041e\u0422\u041a\u0410\u0417\u0410\u0422\u042c</button><a class="btn project-respond-decline-message__cancel-button" ng-click="$ctrl.declineFormVisible = false"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a></form></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/incubator/admin/incubator_vacancy_responds.component.html",'<div class="project-responds__sub-tabs"><a class="project-responds__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;all&#39;}" ng-click="$ctrl.activeTab = &#39;all&#39;" ng-show="all.length"><span>\u0412\u0441\u0435 \u043e\u0442\u043a\u043b\u0438\u043a\u0438</span><span class="badge m-l-sm hidden-xs">{{$ctrl.allTotal}}</span></a><a class="project-responds__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;marked&#39;}" ng-click="$ctrl.activeTab = &#39;marked&#39;" ng-show="marked.length"><span>\u041e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435</span><span class="badge m-l-sm hidden-xs">{{marked.length}}</span></a><a class="project-responds__sub-tabs-link" href="" ng-class="{active: $ctrl.activeTab === &#39;declined&#39;}" ng-click="$ctrl.activeTab = &#39;declined&#39;" ng-show="declined.length"><span>\u041e\u0442\u043a\u0430\u0437\u044b</span><span class="badge m-l-sm hidden-xs">{{declined.length}}</span></a><input class="project-responds__search-input" ng-show="$ctrl.responds.length" ng-focus="$ctrl.searching = true" ng-blur="$ctrl.searching = false; $ctrl.filterQuery = &#39;&#39;" ng-model="$ctrl.filterQuery" onfocus="this.placeholder = &#39;\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0438\u043c\u044f \u0438\u043b\u0438 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e&#39;" /><a class="project-responds__close-search-button" href="" ng-show="$ctrl.responds.length &amp;&amp; $ctrl.filterQuery &amp;&amp; $ctrl.searching"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a></div><div class="incubator-vacancy-responds_all" ng-show="$ctrl.activeTab === &#39;all&#39; &amp;&amp; !$ctrl.searching &amp;&amp; all.length"><div ng-repeat="item in $ctrl.allResponds | filter: $ctrl.withoutAccepted as all"><incubator-vacancy-respond respond="item.respond"></incubator-vacancy-respond></div><infinite-scroll-pagination url="$ctrl.allRespondsUrl" collection="$ctrl.allResponds" scrollable="true" uniq-key="respond.id" visible-element=".incubator-vacancy-responds_all" id="all"></infinite-scroll-pagination></div><div ng-show="$ctrl.activeTab === &#39;marked&#39; &amp;&amp; !$ctrl.searching &amp;&amp; marked.length"><div ng-repeat="item in $ctrl.allResponds | filter: $ctrl.onlyMarked as marked"><incubator-vacancy-respond respond="item.respond"></incubator-vacancy-respond></div></div><div ng-show="$ctrl.activeTab === &#39;declined&#39; &amp;&amp; !$ctrl.searching &amp;&amp; declined.length"><div ng-repeat="item in $ctrl.allResponds | filter: $ctrl.onlyDeclined as declined"><incubator-vacancy-respond respond="item.respond"></incubator-vacancy-respond></div></div><div ng-show="$ctrl.searching &amp;&amp; all.length"><div ng-repeat="item in $ctrl.allResponds | filter: $ctrl.filterQuery"><incubator-vacancy-respond respond="item.respond"></incubator-vacancy-respond></div></div><div class="text-center m-t-lg" ng-show="!$ctrl.isLoadingResponds &amp;&amp; !all.length"><h2>\u041e\u0442\u043a\u043b\u0438\u043a\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e</h2></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/incubator/incubator_members_list.component.html",'<table class="project__members-list m-b-lg" ng-if="$ctrl.ngModel.length"><tr class="project-members-list__header"><th colspan="2"><div class="project-members-list__title">{{::$ctrl.mainTitle}}</div></th><th class="nowrap text-center" width="25%"><span class="text-muted f13 font-normal">{{::$ctrl.secondTitle}}</span></th></tr><tr class="project-members-list__item" ng-repeat="item in $ctrl.ngModel"><td class="project-members-list__avatar-wrapper"><a ng-href="{{::item.member.user.url}}" target="_blank"><img class="project-members-list__member-avatar" ng-src="{{::item.member.user.image.url}}" /></a></td><td class="project-members-list__item-titles"><a class="project-members-list__item-title" ng-href="{{::item.member.user.url}}" target="_blank">{{::item.member.user.full_name}}</a><div class="project-members-list__item-job-title text-muted f13">{{::item.member.title}}</div></td><td class="text-center text-muted"><div class="cart-items-list__item-price" ng-bind-html="::$ctrl.formatDate(item.member)"></div></td></tr></table>')}]),angular.module("templates").run(["$templateCache",function(e){
e.put("ng/projects/project.component.html",'<project-top-panel></project-top-panel><section ng-if="::$ctrl.isAdmin"><project-tabs ng-if="::$ctrl.type === &#39;incubator&#39;"><project-tab title="\u041e\u0442\u043a\u043b\u0438\u043a\u0438"><div class="row"><div class="col-md-8"><incubator-vacancy-responds ng-model="$ctrl.project.responds" project-id="{{::$ctrl.projectId}}" is-loading-responds="$ctrl.isLoadingResponds"></incubator-vacancy-responds></div></div></project-tab><project-tab title="\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438"><div class="row"><div class="col-md-8"><incubator-admin-vacancies ng-model="$ctrl.project.vacancies" project-id="$ctrl.project.id" kind="vacancy"></incubator-admin-vacancies></div></div></project-tab><project-tab title="\u041c\u043e\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430"><div class="row"><div class="col-md-8"><incubator-members ng-model="$ctrl.project.activeMembers" project-id="$ctrl.project.id"></incubator-members></div></div></project-tab><project-tab title="\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"><div class="row p-t-lg"><div class="col-md-8"><comments commentable-id="{{::$ctrl.projectId}}" commentable-type="Project" order="desc" total-comments-count="{{$ctrl.commentsCount}}" commentable-resource="comments" scrollable="true"></comments></div></div></project-tab><project-tab title="\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"><div class="row m-t-lg"><div class="col-md-8"><project-description-content></project-description-content></div><div class="col-md-4"><incubator-members-list ng-model="$ctrl.project.activeMembers" main-title="\u041a\u043e\u043c\u0430\u043d\u0434\u0430" second-title="\u0421\u0442\u0430\u0436"></incubator-members-list><incubator-members-list ng-model="$ctrl.project.formerMembers" main-title="\u041d\u0430\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c \u0442\u0430\u043a \u0436\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438"></incubator-members-list></div></div></project-tab></project-tabs><project-tabs ng-if="::$ctrl.type === &#39;company&#39;"><project-tab title="\u041e\u0442\u043a\u043b\u0438\u043a\u0438"><div class="row"><div class="col-md-8"><company-vacancy-responds project-id="{{::$ctrl.projectId}}" is-searching="$ctrl.isRespondsSearching" on-search-responds="$ctrl.searchResponds($event)" found-responds="$ctrl.foundResponds"></company-vacancy-responds></div><div class="col-md-4 m-t-lg"><h4>\u0412\u0441\u0435 \u043d\u043e\u0432\u044b\u0435 \u0437\u0430\u044f\u0432\u043a\u0438 \u043e\u0442 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432 \u043f\u043e\u043f\u0430\u0434\u0430\u044e\u0442 \u0432 \xab\u041e\u0442\u043a\u043b\u0438\u043a\u0438\xbb.</h4><p> \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438:</p><p> \xab\u0412 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u044b\xbb - \u0412\u044b \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0442\u0435 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430 \u043d\u0430 \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0443 (\u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e). \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u043f\u0430\u0434\u0430\u0435\u0442 \u0432 \u0441\u043e\u0441\u0435\u0434\u043d\u044e\u044e \u0432\u043a\u043b\u0430\u0434\u043a\u0443.</p><p> \xab\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\xbb - \u0435\u0441\u043b\u0438 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u043b \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u0440\u0438 \u043f\u043e\u0434\u0430\u0447\u0435 \u0437\u0430\u044f\u0432\u043a\u0438, \u0438 \u0412\u044b \u043d\u0435 \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0442\u0435 \u0435\u0433\u043e \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u043d\u0430 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e.</p><p> \xab\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c\xbb - \u0435\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u043c, \u0442\u043e \u043c\u043e\u0436\u043d\u043e \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u043c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435.  \u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0432\u043d\u0435 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0435\u0441\u043b\u0438 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u0443\u043a\u0430\u0437\u0430\u043b \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 (\u043f\u043e\u0447\u0442\u0443, \u0442\u0435\u043b\u0435\u0444\u043e\u043d, \u0441\u043a\u0430\u0439\u043f).</p><h4>\u041f\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b:</h4><ul><li>\u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u043e\u0442\u043a\u043b\u0438\u043a\u0438 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 2\u0445 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0434\u043d\u0435\u0439</li><li>\u043c\u0435\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441\u044b \u043e\u0442\u043a\u043b\u0438\u043a\u043e\u0432 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u044d\u0442\u0430\u043f\u0430\u043c\u0438 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043e\u0442\u0431\u043e\u0440\u0430 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u043c.</li></ul></div></div></project-tab><project-tab title="\u041a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u044b"><div class="row"><div class="col-md-8"><company-vacancy-candidates project-id="{{::$ctrl.projectId}}" is-searching="$ctrl.isCandidatesSearching" on-search-candidates="$ctrl.searchCandidates($event)" found-candidates="$ctrl.foundCandidates"></company-vacancy-candidates></div><div class="col-md-4 m-t-lg"><h4>\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b!</h4><p>\u0414\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430\u043c\u0438 \u043f\u043e \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0430\u043c:</p><ul><li>\xab\u041f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b\xbb - \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b \u043a \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0435</li><li>\xab\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u0430\xbb - \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b \u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u043e\u0448\u0435\u043b \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0443</li><li>\xab\u041d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430\xbb - \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b, \u043d\u043e \u043f\u043e \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u043b \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0443</li><li>\xab\u041e\u0442\u043a\u0430\u0437\xbb - \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u043b \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043b\u0438 \u043d\u0435 \u0441\u043f\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0441 \u0442\u0435\u0441\u0442\u0430\u043c\u0438</li><li>\xabJob Offer\xbb  - \u0412\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u0432\u0437\u044f\u0442\u044c \u0441\u0442\u0430\u0436\u0435\u0440\u0430 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u043b\u0438 \u0442\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e.</li><li>\xabOffer \u043e\u0442\u043a\u043b\u043e\u043d\u0451\u043d\xbb - \u0441\u0442\u0430\u0436\u0451\u0440 \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u043b \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043e \u0442\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435.</li><li>\xab\u0422\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d\xbb  - \u0441\u0442\u0430\u0436\u0435\u0440 \u043f\u0440\u0438\u043d\u044f\u043b \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438 \u0432\u044b\u0448\u0435\u043b \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443.</li></ul><p>\u0414\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430\u043c\u0438 \u043f\u043e \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044f\u043c:</p><ul><li>\xab\u0414\u0430\u0442\u0430 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f\xbb - \u0441 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430\u043c\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0438 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f. \u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0430 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044f, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u0434\u0430\u0442\u0443 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f, \u0438 \u043c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u043c \u0438 \u043f\u0440\u043e\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c \u0435\u0433\u043e \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u044c.</li><li>\xab\u041e\u0442\u043a\u0430\u0437\xbb - \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u043b \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043b\u0438 \u043d\u0435 \u0441\u043f\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0441 \u0442\u0435\u0441\u0442\u0430\u043c\u0438.</li><li>\xabJob Offer\xbb - \u0432\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u0432\u0437\u044f\u0442\u044c \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u043b\u0438 \u0442\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e.</li><li>\xabOffer \u043e\u0442\u043a\u043b\u043e\u043d\u0451\u043d\xbb - \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u043b \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043e \u0442\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435.</li><li>\xab\u0422\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d\xbb - \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u043f\u0440\u0438\u043d\u044f\u043b \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438 \u0432\u044b\u0448\u0435\u043b \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443.</li></ul><h4>\u041f\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b:</h4><ul><li>\u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f, \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u043e\u0442\u0431\u043e\u0440\u043e\u0447\u043d\u044b\u0435 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 30 \u0434\u043d\u0435\u0439 \u0441\u043e \u0434\u043d\u044f \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u043a\u043b\u0438\u043a\u0430 \u043e\u0442 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430</li><li>\u043f\u043e \u043f\u0440\u043e\u0448\u0435\u0441\u0442\u0432\u0438\u0438 2\u0445 \u043c\u0435\u0441\u044f\u0446\u0435\u0432 \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \xab\u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b\xbb \u043d\u0430 \u043e\u0434\u0438\u043d \u0438\u0437: \xab\u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430\xbb, \xab\u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u043b\xbb, \xab\u0442\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d\xbb</li></ul></div></div></project-tab><project-tab title="\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438"><div class="row"><div class="col-md-8"><company-admin-vacancies vacancies="$ctrl.project.vacancies" project-id="{{$ctrl.project.id}}" contract-signed="$ctrl.project.contract_signed" kind="vacancy"></company-admin-vacancies></div><div class="col-md-4 m-t-lg"><div class="project-vacancies__help" ng-show="!$ctrl.project.vacancies.length"><h4>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e</h4><p>\u041f\u043e\u0441\u043b\u0435 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u043d\u0430\u0447\u043d\u0443\u0442 \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u0442\u044c \u043e\u0442\u043a\u043b\u0438\u043a\u0438 \u043e\u0442 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432.</p></div><h4>\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0439 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439:</h4><ul><li>\u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\u0435 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435;</li><li>\u043d\u0435\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438;</li><li>\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0438 \u043e\u0442 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435\u043c \u043a\u0443\u0440\u0441\u043e\u0432 \u043d\u0430 Geekbrains.</li></ul></div></div></project-tab><project-tab title="\u0421\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0438"><div class="row"><div class="col-md-8"><company-admin-vacancies vacancies="$ctrl.project.probations" project-id="{{$ctrl.project.id}}" kind="probation"></company-admin-vacancies></div><div class="col-md-4 m-t-lg"><div class="project-probations_help" ng-show="!$ctrl.project.probations.length"><h4>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0443</h4><p>\u041f\u043e\u0441\u043b\u0435 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0438 \u043d\u0430\u0447\u043d\u0443\u0442 \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u0442\u044c \u043e\u0442\u043a\u043b\u0438\u043a\u0438 \u043e\u0442 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432.</p></div><h4>\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043e\u043a:</h4><ul><li>\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043e\u043a \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e;</li><li>\u043d\u0435\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438;</li><li>\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0438 \u043e\u0442 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435\u043c \u043a\u0443\u0440\u0441\u043e\u0432 \u043d\u0430 Geekbrains.</li></ul></div></div></project-tab><project-tab title="\u041e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438" ng-if="::$ctrl.project.html"><div class="row m-t-lg"><div class="col-md-8"><project-description-content></project-description-content></div></div></project-tab></project-tabs></section><section ng-if="::!$ctrl.isAdmin"><project-tabs ng-if="::$ctrl.type === &#39;incubator&#39;"><project-tab title="\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"><div class="row m-t-lg"><div class="col-md-8"><project-description-content></project-description-content></div><div class="col-md-4"><incubator-members-list ng-model="$ctrl.project.activeMembers" main-title="\u041a\u043e\u043c\u0430\u043d\u0434\u0430" second-title="\u0421\u0442\u0430\u0436"></incubator-members-list><incubator-members-list ng-model="$ctrl.project.formerMembers" main-title="\u041d\u0430\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c \u0442\u0430\u043a \u0436\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438"></incubator-members-list></div></div></project-tab><project-tab title="\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438" count="$ctrl.activeVacancies.length"><div class="row m-t"><div class="col-md-8"><project-vacancies ng-model="$ctrl.activeVacancies" project-id="$ctrl.project.id"></project-vacancies></div></div></project-tab><project-tab title="\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438" count="$ctrl.commentsCount"><div class="row p-t-lg"><div class="col-md-8"><comments ng-cloak="" ng-show="$ctrl.currentUser" commentable-id="{{::$ctrl.projectId}}" commentable-type="Project" order="desc" total-comments-count="{{$ctrl.commentsCount}}" commentable-resource="comments" scrollable="true"></comments><comments ng-cloak="" ng-show="!$ctrl.currentUser" readonly="true" commentable-id="{{::$ctrl.projectId}}" commentable-type="Project" order="desc" total-comments-count="{{$ctrl.commentsCount}}" commentable-resource="comments" scrollable="true"></comments></div></div></project-tab></project-tabs><project-tabs ng-if="::$ctrl.type === &#39;company&#39;"><project-tab title="\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438" ng-if="::$ctrl.activeVacancies.length"><div class="row m-t-lg"><div class="col-md-10 col-xs-8"><company-vacancies vacancies="$ctrl.activeVacancies" project-id="{{$ctrl.project.id}}"></company-vacancies></div></div></project-tab><project-tab title="\u0421\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0438" ng-if="::$ctrl.activeProbations.length"><div class="row m-t-lg"><div class="col-md-10 col-xs-8"><company-vacancies vacancies="$ctrl.activeProbations" project-id="{{$ctrl.project.id}}"></company-vacancies></div></div></project-tab><project-tab title="\u041e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438" ng-if="::$ctrl.project.html"><div class="row m-t-lg"><div class="col-md-8"><project-description-content></project-description-content></div></div></project-tab></project-tabs></section>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/project_description_content.component.html",'<div class="project__description-content" ng-bind-html="$ctrl.projectCtrl.project.html"></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/project_tab.component.html",'<div class="tab-pane" ng-transclude="" ng-show="$ctrl.active"></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/project_tabs.component.html",'<div class="tabbable"><div class="container-fluid project__tabs-wrapper"><div class="container hidden-xs"><ul class="nav nav-tabs" mobile-nav-tabs="true" ng-scope="$ctrl.scope"><li class="nav-tabs-item" ng-repeat="tab in $ctrl.tabs" ng-class="{active: tab.active}"><a href="" ng-click="$ctrl.selectTab(tab)"><span>{{::tab.title}}</span> <span class="badge">{{::tab.count}}</span> </a></li><li class="pull-right project-tabs__settings-link" ng-if="::$ctrl.projectCtrl.isAdmin"><a href="/career/{{::$ctrl.projectCtrl.project.id}}/edit"><svg class="icon-cog-small"><use xlink:href="/svg-defs.svg#icon-cog-small"></use></svg><span>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438</span></a></li><li class="pull-right project-tabs__resumes-link" ng-if="::$ctrl.projectCtrl.isAdmin &amp;&amp; $ctrl.projectCtrl.type === &#39;company&#39;"><a class="btn btn-violet" href="/career/resumes"><span>\u0418\u0441\u043a\u0430\u0442\u044c \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432</span></a></li></ul></div><div class="mobile-nav-tabs visible-xs"><ul class="mobile-nav-tabs-list"><li class="nav-tabs-item" ng-repeat="tab in $ctrl.tabs | orderBy : $ctrl.sortMobileTabs" ng-class="{active: tab.active}"><a href="" ng-click="$ctrl.selectTab(tab)"><span>{{::tab.title}}</span> <span class="badge">{{::tab.count}}</span> </a><svg class="svg-icon icon-more-icon"><use xlink:href="/svg-defs.svg#icon-more-icon"></use></svg></li><li class="nav-tabs-item project-tabs__settings-link" ng-if="::$ctrl.projectCtrl.isAdmin"><a href="/career/{{::$ctrl.projectCtrl.project.id}}/edit"><svg class="icon-cog-small"><use xlink:href="/svg-defs.svg#icon-cog-small"></use></svg><span>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438</span></a></li></ul></div></div><div class="tab-content container" ng-transclude=""></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/project_top_panel.component.html",'<div class="project-top-panel__wrapper"><div class="container"><div class="row"><div class="col-xs-8 v-top"><div class="row"><div class="col-md-3 col-lg-2"><div class="inline-block"><img class="project-top-panel__image v-top" ng-src="{{::$ctrl.projectCtrl.project.image_url}}" /></div></div><div class="col-md-9 col-lg-10"><div class="project-top-panel__control-panel v-top"><span class="f10 text-muted ls1" ng-show="::$ctrl.projectCtrl.type === &#39;company&#39;">\u041a\u041e\u041c\u041f\u0410\u041d\u0418\u042f</span><h1 class="project-top-panel__title">{{::$ctrl.projectCtrl.project.title}}</h1><div class="text-muted project-top-panel__subtitle m-t-sm">{{::$ctrl.projectCtrl.project.subtitle}}</div></div></div></div></div><div class="col-xs-4"><div class="project-top-panel__subscribe-stats m-t"><div class="project-top-panel__subscribers-counter m-l-lg"><div ng-show="!$ctrl.projectCtrl.canLike"><a class="btn btn-info project-top-panel__subscribe-button js-show-popup" href="#gb-popup-registration"><span class="hidden-xs">{{\'\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f\'}}</span><svg class="svg-icon icon-star m-l-sm"><use xlink:href="/svg-defs.svg#icon-star"></use></svg><span class="m-l-sm text-header">{{$ctrl.projectCtrl.project.subscribers_count}}</span></a></div><div ng-show="$ctrl.projectCtrl.canLike"><a class="btn btn-info project-top-panel__subscribe-button" ng-click="$ctrl.projectCtrl.project.is_subscribed ? $ctrl.projectCtrl.unsubscribe() : $ctrl.projectCtrl.subscribe()"><span class="hidden-xs">{{$ctrl.projectCtrl.project.is_subscribed ? \'\u0412\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u044b\' : \'\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f\'}}</span><svg class="svg-icon icon-star m-l-sm" ng-class="{active: $ctrl.projectCtrl.project.is_subscribed}"><use xlink:href="/svg-defs.svg#icon-star"></use></svg><span class="m-l-sm text-header">{{$ctrl.projectCtrl.project.subscribers_count}}</span></a></div></div><div class="project-top-panel__social-links" data-toggle="shift:appendTo" data-target="#moveLinksHere"><a class="text-muted" ng-repeat="item in $ctrl.projectCtrl.sortedLinks | orderBy:&#39;key&#39;" ng-href="{{::$ctrl.convertUrl(item.value)}}" ng-show="::item.value" ng-class="{website: item.key === &#39;website&#39;}" target="_blank"><svg class="svg-icon icon-notice" ng-if="::item.key !== &#39;website&#39;"><use xlink:href="" ng-href="#icon-{{::item.key}}"></use></svg><span ng-if="::item.key === &#39;website&#39;">{{::$ctrl.projectCtrl.helpers.removeProtocolFromUrl(item.value)}}</span></a></div></div></div></div><div class="row"><div class="col-xs-12" id="moveLinksHere"></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/project_vacancies.component.html",'<div class="panel-group project__vacancies-accordion"><div ng-repeat="item in $ctrl.ngModel"><project-vacancy vacancy="item.vacancy"></project-vacancy></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/projects/project_vacancy.component.html",'<div class="panel panel-default project__vacancy-wrapper"><scroll-to-me ng-if="$ctrl.selected"></scroll-to-me><div class="panel-heading"><div class="panel-title"><a class="toggle-link" ng-click="$ctrl.collapsed = !$ctrl.collapsed"><svg class="svg-icon icon-arrow-down" ng-class="{collapsed: $ctrl.collapsed}"><use xlink:href="/svg-defs.svg#icon-arrow-down"></use></svg><span class="project__vacancy-title">{{::$ctrl.vacancy.title}}</span></a><div class="project-vacancy__header-controls"><span ng-if="$ctrl.vacancy.salary_amount &amp;&amp; $ctrl.vacancy.salary_period"><span ng-bind-html="$ctrl.vacancy.salary_amount | delimit:&#39;\u20bd&#39;"></span><span> <span>/</span> <span>{{::$ctrl.helpers.getPeriod($ctrl.vacancy.salary_period)}}</span></span></span><span class="project-vacancy__positions-count" ng-if="::$ctrl.vacancy.positions_last &gt; 0">{{::$ctrl.vacancy.positions_last}} {{::$ctrl.gbHelpers.getNoun($ctrl.vacancy.positions_last, \'\u043c\u0435\u0441\u0442\u043e\', \'\u043c\u0435\u0441\u0442\u0430\', \'\u043c\u0435\u0441\u0442\')}}</span><span class="text-sm" ng-if="::$ctrl.vacancy.positions_last &lt;= 0">\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0430\u0431\u0440\u0430\u043d\u0430</span></div><div class="clearfix"></div></div></div><div class="panel-collapse" uib-collapse="$ctrl.collapsed"><div class="panel-body"><p class="m-n" ng-bind-html="::$ctrl.vacancy.html"></p><div class="m-t" ng-if="::$ctrl.vacancy.report"><i class="project__vacancy-respond-message {{$ctrl.vacancy.report.state}}">{{::$ctrl.vacancy.report.message}}</i><div class="text-sm" ng-if="::$ctrl.vacancy.report.state === &#39;declined&#39;">\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043a\u0430\u0437\u0430: {{::$ctrl.vacancy.report.reason}}</div></div><div class="m-t" ng-if="!$ctrl.currentUser.id"><a class="btn btn-info project__respond-to-vacancy-button js-show-popup" href="#gb-popup-registration">\u041e\u0422\u041a\u041b\u0418\u041a\u041d\u0423\u0422\u042c\u0421\u042f</a></div><div class="m-t" ng-if="$ctrl.vacancy.can_respond"><a class="btn btn-info project__respond-to-vacancy-button" ng-click="$ctrl.showRespondForm()" ng-show="!$ctrl.respondFormVisible">\u041e\u0422\u041a\u041b\u0418\u041a\u041d\u0423\u0422\u042c\u0421\u042f</a><form class="project__respond-to-vacancy-message-form" name="respondForm" ng-show="$ctrl.respondFormVisible" ng-submit="$ctrl.respondToVacancy(respondForm.$valid)" novalidate=""><label class="invisible">\u0421\u043e\u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e</label><textarea class="project-respond-to-vacancy-message__textarea autogrow" rows="3" required="" placeholder="\u0421\u043e\u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e" ng-model="$ctrl.respondMessage"></textarea><button class="btn btn-success project-respond-to-vacancy-message__send-button" type="submit" ng-disabled="respondForm.$invalid">\u0425\u041e\u0427\u0423 \u0412 \u041f\u0420\u041e\u0415\u041a\u0422</button><button class="btn project-respond-to-vacancy-message__cancel-button" ng-click="$ctrl.hideRespondForm()"><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></button></form></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("ng/uploader/droplet_uploader.template.html",'<div class="gb__droplet-uploader" ng-class="{&#39;gb__droplet-uploader_error&#39; : $ctrl.error}" ngf-select="" ngf-drop="" ngf-multiple="false" ngf-pattern="{{::$ctrl.pattern}}" ngf-change="$ctrl.change($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)"><div class="gb__droplet-uploader-title"><span ng-hide="$ctrl.progress">{{::$ctrl.title || \'\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u0440\u0445\u0438\u0432\'}}</span><span ng-show="$ctrl.progress">{{$ctrl.progress}}%</span></div><div class="gb__droplet-uploader-hint" ng-hide="$ctrl.progress"><span>\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u0439\u043b\u043e\u0432 \u043f\u043e \u043e\u0447\u0435\u0440\u0435\u0434\u0438</span></div><div class="gb__droplet-uploader-error-message"><span>\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430</span></div><droplet-overlayer><div class="gb__droplet-overlayer"><div class="gb__droplet-overlayer-titles"><div class="h1">{{::$ctrl.title || \'\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u0440\u0445\u0438\u0432\'}}</div></div><svg class="svg-icon icon-upload_arrow" ng-hide="$ctrl.progress"><use xlink:href="/svg-defs.svg#icon-upload_arrow"></use></svg><div class="gb__droplet-overlayer-front-layer" ngf-drop="" ngf-pattern="{{::$ctrl.pattern}}" ngf-change="$ctrl.change($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)"></div><div class="overlayer-progress-wrapper"><div class="overlayer-progress" ng-style="{&#39;width&#39;: $ctrl.progress + &#39;%&#39;}"></div></div></div></droplet-overlayer></div>')}]),angular.module("templates").run(["$templateCache",function(e){
e.put("ng/uploader/image_uploader.template.html",'<div class="image-uploader"><a class="btn btn-info btn-lg" ng-click="$ctrl.showPopup()" ng-disabled="$ctrl.pending" style="min-width:180px;"><span ng-hide="$ctrl.pending">\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e</span><i class="i i-spinner" ng-show="$ctrl.pending"></i></a><div class="image-cropper-popup-wrapper js-image-cropper-popup-wrapper"><header class="image-cropper-popup-wrapper__header text-center"><a class="image-cropper-popup-wrapper__select-button" ng-model="$ctrl.file" ngf-select="$ctrl.upload($file)" href=""><span class="tc v-middle"><span class="block">\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 (PNG, JPG)</span><small class="text-muted hidden-xs image-cropper__recommended-image-size">\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043e\u0442 608\u0445342 px</small></span></a><a class="image-cropper-popup-wrapper__cancel-button" ng-click="$ctrl.hidePopup()" href=""><svg class="svg-icon icon-x"><use xlink:href="/svg-defs.svg#icon-x"></use></svg></a></header><div class="image-cropper-popup-wrapper__content" ng-show="$ctrl.assetId"><div class="image-cropper__error-message-wrapper" ng-show="$ctrl.errorMessage">{{$ctrl.errorMessage}}</div><div class="cropping-image-container"></div><footer class="image-cropper-popup-wrapper__footer text-center"><div class="image-cropper__preview-wrapper"><div class="image-cropper__preview-image"><img ng-src="{{$ctrl.previewResult}}" /></div></div><div class="image-cropper__save-button-wrapper"><a class="btn btn-primary image-cropper-popup-wrapper__save-button" ng-disabled="$ctrl.pending || !$ctrl.assetId" ng-click="$ctrl.saveImage()"><span ng-hide="$ctrl.pending">\u0421\u041e\u0425\u0420\u0410\u041d\u0418\u0422\u042c</span><i class="i i-spinner" ng-show="$ctrl.pending"></i></a></div></footer></div></div><div class="image-cropper-popup-wrapper__backdrop" ng-click="$ctrl.hidePopup()"></div></div>')}]);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};$(function(){var e=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));if(t)return decodeURIComponent(t[1])},t=$(".js-add-to-cart-form"),n=t.find(".js-add-to-cart-btn"),s=document.querySelector(".js-prof-claim-form");t.size()&&n.size()&&setTimeout(function(){t.on("submit",function(i){if($(".js-add-to-cart-form").hasClass("js-add-to-cart-form")){i.preventDefault(),n.prop("disabled",!0);var r=e("cartAccessToken"),o=e("cartRef"),a={id:n.data("productId"),title:n.data("title"),subtitle:n.data("subtitle"),price:n.data("price"),image_url:n.data("imageUrl"),large_image:!0,landing_id:n.data("landingId")},c=t.find('input[name="user[phone]"]').val().trim().replace("+",""),l=t.find('input[name="user[full_name]"]').val().trim(),d=a.landing_id?"/cart?confirm_product="+a.id:"/cart";if(getRecaptchaToken(s).then(function(){}),window.CURRENT_USER||r&&o)getRecaptchaToken(s).then(function(){var e=s.g_recaptcha_response.value;$.ajax({url:"/api/v2/cart/add_product_with_phone_and_full_name",data:{id:a.id,phone:c,full_name:l,g_recaptcha_response:e},method:"POST",headers:_extends({"X-Order-Ref":o,"X-Order-Access-Token":r,"X-Original-Url":window.location.href},ReactOnRails.authenticityHeaders())}).done(function(){return $.ajax({url:"/api/v2/profile/",method:"PUT",headers:_extends({},ReactOnRails.authenticityHeaders()),data:{user:{phone:c}}})}).done(function(){setTimeout(function(){return window.location.replace(d)},4)}).fail(function(){})});else{var u=JSON.parse(localStorage.getItem("cart")),m={first_name:l,email:t.find('input[name="user[email]"]').val().trim(),phone:c};u&&u.items?u.items.filter(function(e){return e.id===a.id}).length||(u.items=u.items.concat(a),u.payment=Object.assign({},u.payment,{total:u.payment.total+a.price}),u.state=Object.assign({},u.state,{credentials:m})):u={items:[a],payment:{total:a.price},state:{locked:!1,authenticated:!1,credentials:m}},window.localStorage.setItem("cart",JSON.stringify(u)),window.localStorage.setItem("originalUrl",window.location.href),getRecaptchaToken(s).then(function(){window.localStorage.setItem("gRecaptchaResponse",s.g_recaptcha_response.value),setTimeout(function(){return window.location.replace(d)},4)})}}})},0)}),function(){var e=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e},t={}.hasOwnProperty;$(function(){return function(){var t,n;return n=function(){function e(){}return e.prototype.openPopupWindow=function(e){return window.open(e,"","toolbar=0,status=0,width=626,height=436")},e.prototype.share=function(){return{vk:function(e){return function(t,n){return e.openPopupWindow("http://vk.com/share.php?url="+t+"&title="+n)}}(this),ok:function(e){return function(t){return e.openPopupWindow("https://connect.ok.ru/offer?url="+t)}}(this),facebook:function(e){return function(t,n){return e.openPopupWindow("http://www.facebook.com/share.php?u="+t+"&title="+n)}}(this),twitter:function(e){return function(t,n){return e.openPopupWindow("https://twitter.com/intent/tweet?text="+n+"%20"+t)}}(this),gplus:function(e){return function(t){return e.openPopupWindow("https://plus.google.com/share?url="+t)}}(this)}},e}(),t=function(t){function n(){this.API_URL="/api/v2/urls",this.$socialButtons=$(".js-referrals-social-button:not([data-ref-link-mailto])"),this.$clipboardCopyBtn=$(".js-generate-ref-link-button"),this.isSafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),this.refLinkData={title:document.title,url:window.location.href},this.changeMailtoButtonHref(),$(document.body).on("click",this.$socialButtons.selector,function(e){return function(t){return e.share()[$(t.currentTarget).data("type")](encodeURIComponent(e.refLinkData.url),encodeURIComponent(e.refLinkData.title))}}(this))}return e(n,t),n.prototype.getRefLink=function(e,t){var n;return n={url:{minifiable_type:e,minifiable_id:t}},$.post(this.API_URL,n)},n.prototype.changeMailtoButtonHref=function(){return $("[data-ref-link-mailto]").attr("href","mailto:?subject="+this.refLinkData.title+"&body="+this.refLinkData.url)},n}(n),function(s){function i(){i.__super__.constructor.apply(this,arguments),this.init()}var r,o,a,c,l,d,u,m,p,h,f;return e(i,s),o=$(".js-referrals-index__urls-item"),r=o.first(),a=$("#ref-link"),m=function(e){var t;return t=$(".js-referrals-index__ref-link-wrapper-title-success"),e?t.show():t.hide()},u=function(e){return a.text(e),m()},l=function(){return u("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437")},i.prototype.afterGetRefLinkSuccess=function(e){return this.refLinkData=e.url,u(this.refLinkData.url),$(".js-referrals-index__urls-title").text(r.text())},i.prototype.init=function(){var e;if(r.size())return this.getRefLink(r.data("type"),r.data("id")).then(function(e){return function(t){return e.afterGetRefLinkSuccess(t),e.changeMailtoButtonHref()}}(this),l),this.$clipboardCopyBtn.length&&(e=new Clipboard(this.$clipboardCopyBtn[0]),e.on("success",function(e){return m(!0),$(e.trigger).tooltip("close")})),$(".js-referrals-index__urls-title-block").click(function(){return $(this).find(".js-icon-arrow-down").toggleClass("rotate"),$(this).next().toggleClass("hidden")}),$(document.body).on("click",o.selector,function(e){return function(t){return $(".js-referrals-index__urls-title").text($(t.currentTarget).text()),$(t.currentTarget).parent().toggleClass("hidden").siblings(".js-referrals-index__urls-title-block").find(".js-icon-arrow-down").removeClass("rotate"),r=$(t.currentTarget),o.show(),e.getRefLink($(t.currentTarget).data("type"),$(t.currentTarget).data("id")).then(function(t){return e.afterGetRefLinkSuccess(t),e.changeMailtoButtonHref()},l)}}(this))},c=function(t){function n(e,t,s){this.minifiableType=e,this.minifiableId=t,this.minifiableTitle=s,n.__super__.constructor.apply(this,arguments),this.init()}return e(n,t),n.prototype.init=function(){if(this.minifiableType||this.minifiableId)return this.getRefLink(this.minifiableType,this.minifiableId).then(function(e){return function(t){if(e.refLinkData=t.url,e.minifiableTitle&&(e.refLinkData.title=e.minifiableTitle),e.changeMailtoButtonHref(),e.$clipboardCopyBtn.length)return e.$clipboardCopyBtn.each(function(t,n){var s;return $(n).on("hidden.bs.tooltip",function(){return $(this).attr("title","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0442\u043d\u0435\u0440\u0441\u043a\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443")}),s=new Clipboard(n,{text:function(){return e.refLinkData.url}}),s.on("success",function(e){return $(e.trigger).tooltip("option","content","\u041f\u0430\u0440\u0442\u043d\u0435\u0440\u0441\u043a\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430")}),s.on("error",function(){if(e.isSafari)return $(".referrals-social-buttons-small-safari-fallback-link").text(e.refLinkData.url)})})}}(this),l)},n}(t),d=Object.assign||_.assign,window.globalJS=d(window.globalJS||{},{socialSharer:new n}),$(document.body).hasClass("referrals")?new i:(f=$(".referrals-social-buttons-small-wrapper").first().data("minifiable-type"),p=$(".referrals-social-buttons-small-wrapper").first().data("minifiable-id"),h=$(".referrals-social-buttons-small-wrapper").first().data("minifiable-title"),new c(f,p,h)),i}(t)}()})}.call(this),$(function(){window.addEventListener("surveyAppTest:nextQuestion",function(e){if(1===e.detail.currentQuestion){var t=$(".gb__main-wrapper").first(),n=$(".js-gb-survey-app-top-banner").first();t.css({transition:"transform .5s",transform:"translateY(-"+n.outerHeight()+"px)"})}})}),function(){$(function(){var e,t;return t=function(){return $(window).trigger("chat:open")},e=function(){return $(window).trigger("chat:close")},$(".chat-button").click(function(){return t()}),$("#send-message").click(function(e){var t;return t={id:$(e.currentTarget).data("id"),name:$(e.currentTarget).data("name"),avatar:$(e.currentTarget).data("avatar")},$(window).trigger("chatMessage",t)}),$("#backdrop").click(function(){return e()}),$(document).keyup(function(t){if(27===t.keyCode)return e()}),$(window).load(function(){var e;if(e=new URLSearchParams(window.location.search),e.has("chat_room_id"))return t()})})}.call(this),function(){$(function(){return $("[data-ab-finish]").on("mousedown touchstart",function(e){var t;if(t=$(e.currentTarget).data("abFinish"))return $.post("/ab-finish",{ab_finish:t})})})}.call(this),function(){$(function(){if($(document.body).hasClass("account"))return $("#account_details_birthday").inputmask("99.99.9999",{placeholder:"X"}),$("#account_details_passport_issued_at").inputmask("99.99.9999",{placeholder:"X"}),$("#account_details_bank_account_number").inputmask("**** 9999 9999 9999 9999",{placeholder:"X"}),$("#account_details_inn").inputmask("9999999999[99]",{placeholder:"X"}),$("#account_details_snils").inputmask("99999999999",{placeholder:"X"})})}.call(this),function(){$(function(){return $(".js-disable-on-press").click(function(){return this.disabled=!0,$(this).parents("form").submit()}),$(".js__submit__form").click(function(e){var t;return t=$(this),t.parents("form").submit(),e.preventDefault()})})}.call(this),function(){$(function(){var e,t,n,s,i,r,o;if(n=$(".js-call-me"),n.size())return o=window.innerWidth<1024,e=$(document.body),t=$(".site-footer"),s=n.find(".help-form"),i=$(".js-call-me-helper"),n.height(),t.innerHeight(),function(){return n.hasClass("help-sent")},function(){return n.hasClass("help-hidden")},r=function(){return n.toggleClass("help-hidden"),$(".callback-buttons").toggleClass("callback-buttons-hidden"),e.hasClass("courses")?$(".nav.nav-tabs").toggleClass("callback-shown"):e.hasClass("lessons")?$(".lesson").toggleClass("callback-shown"):e.hasClass("chapters")?$(".record").toggleClass("callback-shown"):e.hasClass("professions")&&(e.toggleClass("callback-shown"),$(".web-developer, .container.profession, .container-fluid.profession").toggleClass("callback-shown")),$(window).trigger("callForm::toggle")},$(".js-icon-callback-hide").click(function(){if(r(),$.cookie("call_form","hidden",{expires:90}),n.hasClass("help-hidden"))return i.height("auto")}),$(".js-callback").click(function(){return r(),$.cookie("call_form","shown",{expires:90})}),$(".js-open-form").click(function(){if(o)return s.fadeIn()}),$(".js-close-form").click(function(){return s.fadeOut()})})}.call(this),function(){$(function(){var e,t,n,s;if($(document.body).hasClass("career"))return ForcedRegistration.checkFlag(),s=$.templates("#vacanciesTmpl"),$.templates("#vacanciesOverviewTmpl"),e=$(".js-project-form"),t=function(){var t;t=e.find(".js-project-vacancies")[0],$(t).append(s.render({randomId:Date.now()})),renderEditor($(t).find(".js-project-vacancy-description:last")[0]),$(t).find(".js-project-vacancies-title").popover({trigger:$(this).data("trigger"),placement:$(this).data("placement"),content:$(this).data("content"),html:$(this).data("html")})},n=function(t){var n,s,i,r,o,a,c;if(i=$(t.currentTarget).data("group"),e.parsley().destroy(),e.parsley().validate(i),e.parsley().isValid(i))return $(".js-hr-first").show(),c=$(t.target).parents(".vacancy-wrapper"),n=c.find(".vacancy.js-project-vacancies-form"),s=c.find(".vacancy-form-folded"),a=n.find(".js-project-vacancies-title").val(),o=n.find(".js-project-vacancies-salary__enabled")[0].checked?n.find(".js-project-vacancies-salary-amount").val():"",r=n.find(".js-project-vacancies-positions-count").find("option:selected").val(),s.find(".title").text(a).end().find(".salary").text(o.length?o+" \u20bd":"").end().find(".positions").text("\u043c\u0435\u0441\u0442: "+r).end().show(),n.hide()},$(".js-faq-header").click(function(){return $(this).toggleClass("rotated")}),$(e).on("click",".js-project-vacancies__add",function(){return t()}),$(e).on("click",".js-project-vacancies__save",function(e){return n(e)}),$(e).on("click",".js-remove-vacancy-btn",function(e){return e.preventDefault(),$(this).parents(".vacancy-wrapper").remove()}),$(e).on("click",".js-edit-vacancy-btn",function(e){var t,n,s;return e.preventDefault(),s=$(this).parents(".vacancy-wrapper"),t=s.find(".vacancy.js-project-vacancies-form"),n=s.find(".vacancy-form-folded"),t.show(),n.hide()}),$(e).on("click",".vacancy-courses p",function(e){return $(e.currentTarget).siblings(".vacancy-courses-list").toggle(),$(e.currentTarget).parent().toggleClass("bordered")}),$(e).on("click",".js-awesome-bootstrap-checkbox__label",function(){var e;if(e=$(this).siblings("input:checkbox")[0])return e.checked=!e.checked,$(e).change()}).on("change",".js-project-vacancies-salary__enabled",function(){var e,t;return e=".js-project-vacancies-salary-amount, .js-project-vacancies-salary-period",t=$(this).parents(".js-project-vacancies-form").find(e),t.attr("disabled",!this.checked&&"disabled"),$(this).parents(".js-project-vacancies-form").find(".js-project-vacancy-payment-sum, .js-project-vacancy-payment-period").toggle()}).on("change",".js-project-vacancy-required-courses input:checkbox",function(){var e,t,n;return e={id:$(this).data("course-id"),title:$(this).siblings("label").text()},n=$(this).parents(".js-project-vacancy-required-courses").siblings(".js-project-vacancy-required-courses__tags:first")[0],this.checked?(t="<div class='tag js-project-vacancy__required-courses_"+e.id+"'>"+e.title+"</div>",$(n).append(t)):$(n).find(".js-project-vacancy__required-courses_"+e.id).remove()}),$(".filters__container__button").click(function(){$(".filters__container__button__span_show, .filters__container__button__span_hide").toggle(),$(".filters__container__fields").toggleClass("filters__container__fields_shown")}),$("#fileAvatar").on("change",function(){return $("#selectedImage").text($(this).val())}),$("#filters_type").on("change",function(){return $(".sliding-search-form").submit()}),$("#filters_paid").on("change",function(){return $(".sliding-search-form").submit()}),$("#filters_available").on("change",function(){return $(".sliding-search-form").submit()}),$(".filters__search").focus(function(){return $(".filters__search-container__text").hide()}).blur(function(){return $(".filters__search-container__text").show()}),$(document).on("click","#quit-project-btn",function(e){return e.preventDefault(),$("#quit-project-form").toggle()})})}.call(this),function(){$(function(){return $("a.send-message-to-mentor").click(function(e){var t;return t={id:$(e.currentTarget).data("mentor-id"),name:$(e.currentTarget).data("mentor-name"),avatar:$(e.currentTarget).data("mentor-avatar")},$(window).trigger("chatMessage",t)})})}.call(this),$(document).ready(function(){$("#showMoreClassmates").click(function(e){e.preventDefault();var t=$("#showMoreClassmates").html();$("#showMoreClassmates").html('<img src="https://gbcdn.mrgcdn.ru/uploads/assets/ajax-loader-c336793625b856124188d9000f7d02cc411def191fc6b169f1a585647264fc14.gif" alt="\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e..." />'),$.get(window.location.pathname+"/classmates",function(e){$("#classmates").empty(),$("#classmates").append($(e).find(".user")),$("#showMoreClassmates").html(t)})})}),function(){var e=undefined,t=undefined,n=undefined,s=undefined,i=undefined,r=undefined,o=undefined;n=function(e,t,n,s){return e=Math.abs(e),(e%=100)>=5&&e<=20?s:(e%=10,1===e?t:e>=2&&e<=4?n:s)},t=function(e,t,n){return 11===(e%=100)?n:(e%=10,1===e?t:n)},o=function(e){var t=undefined,n=undefined,s=undefined,i=undefined,r=undefined;if(moment)return n=moment.duration(moment(e).diff(moment())),r=parseInt(n/1e3%60),i=parseInt(n/6e4%60),s=parseInt(n/36e5%24),t=parseInt(n/864e5),s=s<10?"0"+s:s,i=i<10?"0"+i:i,r=r<10?"0"+r:r,{days:t,hours:s,minutes:i,seconds:r}},e=function(e,t,n){return $(e).tokenfield({limit:6,minLength:2,createTokensOnBlur:!0,autocomplete:{source:function(e,s){var i=e.term;i.length<1||$.ajax({url:t,data:"q="+i,dataType:"json",type:"GET",contentType:"application/json; charset=utf-8",success:function(e){s(e[n])}})},delay:100}}),$(e).on("tokenfield:createtoken",function(e){var t=undefined;e.attrs.value.length>50&&e.preventDefault(),t=$(this).tokenfield("getTokens"),$.each(t,function(t,n){n.value===e.attrs.value&&e.preventDefault()})})},r=function(e){var t=undefined;return t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")),t?decodeURIComponent(t[1]):void 0},i=function(e){return document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;"},s=Object.assign||_.assign,window.globalJS=s(window.globalJS||{},{getNoun:n,getAdj:t,getTimeTo:o,autoCompleteTokenField:e,getCookie:r,deleteCookie:i})}();var indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};$(function(){var e=undefined,t=undefined,n=undefined,s=undefined,i=undefined,r=undefined,o=undefined;$(".js-infinite_navigation").click(function(e){e.preventDefault(),$.get($(this).attr("href"),function(e){var t=undefined;t=$(e),$("#js-scroll_items").append($(e).find(".js-scroll_item")),$(this).attr("href",t.find(".js-infinite_navigation").attr("href"))})}),indexOf.call(window,"hljs")>=0&&hljs.initHighlightingOnLoad(),$(".tooltip").tooltip(),$("#authors .about").each(function(){$(this).find("p:not(:first)").wrapAll($('<div class="truncated">'))}),$(".truncated").hide().after('<i class="fa fa-icon fa-plus" style="cursor: pointer;"></i>').next().on("click",function(){$(this).removeClass("fa-plus").addClass("fa-minus").prev().toggle()}),o=$(".notifications"),o.length&&(n=1,i=o.find(".notifications-list"),r=i.find("li").length,s=i.find("li").first().height(),t=o.find(".fa-caret-up"),e=o.find(".fa-caret-down"),t.click(function(){var r=undefined;1!==n&&(e.removeClass("disabled"),r=parseInt(i.css("top")),i.css("top",r+s),1===(n-=1)&&t.addClass("disabled"))}),e.click(function(){var o=undefined;n!==r&&(t.removeClass("disabled"),o=parseInt(i.css("top")),i.css("top",o-s),(n+=1)===r&&e.addClass("disabled"))})),$("#notifications").on("closed.bs.alert",function(){$.cookie("show_notifications","off")})}),function(e){e.fn.historyTabs=function(){var t=undefined;return t=this,window.addEventListener("popstate",function(n){var s=n.state;s&&e(t).filter('[href="'+s.url+'"]').tab("show")}),this.each(function(t,n){e(n).on("show.bs.tab",function(){var t=undefined,n=undefined,s=undefined;s={url:e(this).attr("href")},n=!!window.URLSearchParams,t=window.location.search,n&&(t=new URLSearchParams(t),t["delete"]("tab"),t="?"+t.toString()),t=t.length>1?t+"&tab="+e(this).attr("href").replace("#",""):t+"tab="+e(this).attr("href").replace("#",""),window.location.hash&&s.url!==window.location.hash?window.history.pushState(s,document.title,window.location.pathname+t+e(this).attr("href")):window.history.replaceState(s,document.title,window.location.pathname+t+e(this).attr("href"))}),!window.location.hash&&e(n).is(".active")?e(n).tab("show"):e(this).attr("href")===window.location.hash&&e(n).tab("show")})}}(jQuery),$('a[data-toggle="tab"]:not(.no-history)').historyTabs(),$(function(){var e=undefined;return indexOf.call($,"datepicker")>=0&&$.datepicker.setDefaults({formatDate:"dd.mm.yy"}),$(".sliding-search-input").focus(function(){return $(this).parent().addClass("open"),$(this).addClass("open")}).blur(function(){return $(this).removeClass("open"),$(this).parent().removeClass("open")}),$("textarea.markdown").each(function(e,t){var n=undefined,s=(undefined,undefined),i=undefined,r=undefined,o=undefined;if(i=["heading","ordered-list","image","horizontal-rule","preview","side-by-side","fullscreen"],t.getAttribute("data-markdown-options"))try{r=JSON.parse(t.getAttribute("data-markdown-options")),r.image&&i.pop()}catch(e){e}return s=new EasyMDE({element:t,toolbar:["bold","italic","strikethrough","|","code","quote","unordered-list","|","link","|","guide"],renderingConfig:{markedOptions:{sanitize:!0}},hideIcons:i,spellChecker:!1,status:!1}),n=s.codemirror,o=$(n.getTextArea()),n.on("change",function(){return o.text(s.value()),o.parsley().validate(),o.hasClass("parsley-error")?o.siblings(".CodeMirror").addClass("parsley-error"):o.siblings(".CodeMirror").removeClass("parsley-error")}),n.on("focus",function(){if(!n.getValue())return $(n.state.placeholder).hide(),o.siblings("label").css("visibility","visible")}),n.on("blur",function(){if(!n.getValue())return $(n.state.placeholder).show(),o.siblings("label").css("visibility","hidden")})}),$(".modal textarea, textarea.autogrow, input.autogrow").autogrow({animate:!1}),e=$("[data-masonry]").imagesLoaded(function(){return e.masonry({itemSelector:".js-brick",percentPosition:!0,transitionDuration:0})}),$(window).on("load",function(){return e.masonry()}),Masonry.prototype.filter=function(e){return this.items.forEach(function(e){e.isIgnored;return e.element.style.visibility="visible"}),(null!=e?e.length:void 0)&&[].forEach.call(e,function(e){return this.ignore(e),e.style.visibility="hidden",e.style.top=0,e.style.left=0},this),this.layout()},$("#container-search").quicksearch(".search_row",{delay:200,hide:function(){return e.length?$(this).addClass("js-hidden"):$(this).hide()},show:function(){return e.length?$(this).removeClass("js-hidden"):$(this).show()},onAfter:function(){if(e.length)return e.masonry(),e.masonry("filter",$(".js-brick.js-hidden"))}}),svg4everybody()}),$(function(){return $(document.body).on("click",'.js-animate-scroll a[href*="#"]:not([href="#"])',function(){var e=undefined;return window.innerWidth<768||(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname&&(e=$(this.hash),e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)?($("html, body").animate({scrollTop:e.offset().top},1e3),!1):void 0)})}),$(function(){var e=undefined,t=undefined,n=undefined;if(e=$(".js-mobile-popup-menu"),n=$(".js-mobile-popup-menu-toggle"),t=$(".js-mobile-popup-menu-close"),e.size())return n.click(function(){return e.show()}),$(document.body).on("click",t.selector,function(){return $(this).parents(e.selector).hide()}),$(document.body).click(function(t){var s=undefined;if((s=t.target)!==n[0]&&!$(s).parents(n.selector).size()&&!$(s).hasClass("js-mobile-popup-menu-close")){for(;s&&s!==this;){if(s&&s.matches(e.selector))return t.preventDefault(),void t.stopPropagation();s=s.parentNode}return e.hide()}})}),$(function(){return $(".js-schedule-opener").click(function(){return $(document.body).css("overflow","hidden"),$(".schedule-app-wrapper").fadeIn()})}),$(function(){(function(){$(".easypiechart").each(function(){var e=$(this),t=e.data(),n=e.find(".step"),s=parseInt($(t.target).text()),i=0;t.barColor||(t.barColor=function(e){return e<60?"#d74a5c":e>=60&&e<80?"#FFA64B":"#08d092"}),t.onStep=function(e){i=e,n.text(parseInt(e)),t.target&&$(t.target).text(parseInt(e)+s)},t.onStop=function(){s=parseInt($(t.target).text()),t.update&&setTimeout(function(){e.data("easyPieChart").update(100-i)},t.update)},$(this).easyPieChart(t)})})(),$(".slider").each(function(){$(this).slider()}),$.fn.sortable&&$(".sortable").sortable(),$(document).on("change",'table thead [type="checkbox"]',function(e){e&&e.preventDefault();var t=$(e.target).closest("table"),n=$(e.target).is(":checked");$('tbody [type="checkbox"]',t).prop("checked",n)}),$(document).on("click",'[data-toggle^="progress"]',function(e){e&&e.preventDefault();var t=$(e.target),n=$(t.data("target"));$(".progress",n).each(function(){var e=50,t=undefined,n=$(".progress-bar",this).last();($(this).hasClass("progress-xs")||$(this).hasClass("progress-sm"))&&(e=100),t=Math.floor(Math.random()*e)+"%",n.css("width",t).attr("data-original-title",t)})}),window.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".js-maintenance-notice"),t=document.querySelector(".js-maintenance-notice-close-button"),n=window.globalJS,s=n.getCookie,i=n.setCookie;if(e&&t&&s){var r=s("maintenance");if(r)try{r=JSON.parse(r),!r.read&&i&&t.addEventListener("click",function(){r.read=!0,i("maintenance",encodeURIComponent(JSON.stringify(r))),e.classList.add("autofade-fast")})}catch(e){Sentry.withScope(function(){Sentry.captureException(e)})}}})}),$(document).on("ajax:complete","#resend-code-timer",function(){var e=10,t=setInterval(function(){var n=document.getElementById("resend-code-timer");n.innerHTML="\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u043c\u043e\u0436\u043d\u043e \u0447\u0435\u0440\u0435\u0437 "+e+" \u0441\u0435\u043a\u0443\u043d\u0434",n.style.pointerEvents="none",n.style.color="grey",n.style.textAlign="center",--e<0&&(n.innerHTML="\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e",n.style.pointerEvents="auto",n.style.color="black",n.style.textAlign="center",clearInterval(t))},1e3)}),function(){$(function(){var e,t,n,s,i;if($(document.body).hasClass("courses"))return n=16,t=$(".js-call-me"),e=$(".course-filter"),s=function(){var s;return s=t.is(":visible")?t.height():0,e.affix({offset:{top:e.offset().top-s-n}}),e.on("affix.bs.affix",function(){return e.width(e.width()),e.css("top",s+n)}),e.on("affixed-top.bs.affix",function(){return e.width("auto")})},i=function(e){switch(e){case"course":return $(".help-text-prof, .js-help-text-prof-mobile").hide(),$(".help-sm-text-row-sm-prof, .help-sm-text-row-xs-prof, .callback-span-lg, .callback-span-md").hide(),$(".help-text-course, .js-help-text-course-mobile").css("display","inline-block"),$(".help-sm-text-row-sm-course, .help-sm-text-row-xs-course, .callback-span-course-lg, .callback-span-course-md").css("display","inline-block");case"prof":return $(".help-text-course, .js-help-text-course-mobile").hide(),$(".help-sm-text-row-sm-course, .help-sm-text-row-xs-course, .callback-span-course-lg, .callback-span-course-md").hide(),$(".help-text-prof, .js-help-text-prof-mobile").css("display","inline-block"),$(".help-sm-text-row-sm-prof, .help-sm-text-row-xs-prof, .callback-span-lg, .callback-span-md").css("display","inline-block")}},i("prof"),$('select[name="stream"]').change(function(){return $("#weekdays").text($('select[name="stream"] option:selected').data("weekdays"))}),$('select[name="stream"]').trigger("change"),$("#cour-link").on("shown.bs.tab",function(){return $(window).on("callForm::toggle",s),s()}),$("#prof-link").on("shown.bs.tab",function(){var e;return e=new Event("profGridInit"),window.dispatchEvent(e)}),$("#cour-link, #free-link").on("show.bs.tab",function(){return i("course")}),$("#cour-link, #free-link").on("hide.bs.tab",function(){return i("prof")}),$("#company-close-button, #company-claim-button-mobile").click(function(){return $("#claim-window").toggle()})})}.call(this),function(e,t){e.addEventListener("DOMContentLoaded",function(){var n=e.querySelector(".js-segments-form");if(n){var s=e.querySelector(".js-segments-submit-button"),i="js-show",r=e.querySelectorAll(".js-segments-group"),o=function(e){return!!e.querySelector(".js-segment-multiple-item:checked")},a=function(e){return n.querySelector("input[type=hidden][name='"+e+"']")},c=function(t){var s=e.createElement("input");return s.name=t,s.className="hidden-field-"+t,s.type="hidden",n.appendChild(s),s};r.forEach(function(e){var t=e.querySelector(".js-segments-multiple-group");if(t){var n=e.querySelector(".js-segment-textfield-group");if(n){var s=n.querySelector(".js-segment-textfield");if(s){var i=c(s.name),r=function(e){e.preventDefault();var n=t.querySelectorAll(".js-segment-multiple-item:checked");n.length&&n.forEach(function(e){e.checked=!1})};s.addEventListener("focus",function(e){r(e)});var o=t.querySelectorAll("input[name='"+s.name+"']");if(o.length){var a=function(e){i.value=e};o.forEach(function(e){e.addEventListener("change",function(){a(this.value)})})}}}}});var l=function(e){e.classList.add(i)},d=function(e){e.classList.remove(i)},u=function(e){var t=e.querySelectorAll("input[type=text]"),n=!1;return t.forEach(function(e){if(""!==e.value.trim())return void(n=!0)}),n},m=function(){var e=!1;r.forEach(function(t){var n=t.querySelector(".js-segments-multiple-group"),s=t.querySelector(".js-segments-error-message");if(n){var i=t.querySelector(".js-segment-textfield-group"),r=o(n);if(t.querySelectorAll("input").forEach(function(e){e.addEventListener("change",function(){d(s)}),e.addEventListener("focus",function(){d(s)})}),!i&&!r)return l(s),void(e=!0);if(!i&&r&&d(s),i){var c=!u(i);if(c&&!r)return l(s),void(e=!0);c&&r&&d(s);if(!!n.multiple&&!c&&r){var m=i.querySelector(".js-segment-textfield");if(!m)return;a(m.name)}}}}),t.Parsley.on("form:success",function(){e||n.submit()})};s.addEventListener("click",function(e){m(e)})}})}(document,window),function(){$(function(){var e,t,n,s;if($(document.body).hasClass("account")&&(n=$('input[name="subscribe"]'),t=function(e){return $.post("/account/courses_teachers/subscribe/"+e)},e=function(e){return $.post("/account/courses_teachers/resign/"+e)},s=function(e,t){var n,s;if(s=document.querySelectorAll('input[data-course-id="'+e+'" ]'),n=0!==s.length?Array.prototype.slice.call(s):null)return n.forEach(function(e){return e.checked=t})},n.on("change",function(n){var i;return n.preventDefault(),i=$(this).data("course-id"),$(this).prop("checked")?(s(i,!0),t(i)):(s(i,!1),e(i))}),0===$("ul.nav-tabs li.active").length))return $("ul.nav-tabs li:first").addClass("active"),$(".tab-pane:first").addClass("active")})}.call(this),function(e,t){t.addEventListener("DOMContentLoaded",function(){var e=t.querySelector("#js-course-category-select");e&&e.addEventListener("change",function(){var e=t.querySelector("#js-teaching-course-category-form");e&&e.submit()})})}(window,document),function(){$(function(){if("?dev_mode"===window.location.search)return $("img").attr("src","https://geekbrains-uploads.s3.amazonaws.com/users/photo/000/000/062/thumb/62.jpg")})}.call(this),window.addEventListener("DOMContentLoaded",function(){var e=document.querySelector('input.form-control[name="user[email]"]');if(e){var t=e.form;t&&t.addEventListener("keyup",function(){e.value=e.value.toLowerCase()})}});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};!function(e,t){var n=function(e){
return Array.prototype.slice.call(document.querySelectorAll(e))},s=function(e){if(t.globalJS&&t.globalJS.getCookie){var n=t.globalJS.getCookie("jwt_token");return n&&e?fetch("/api/proxy",{method:"POST",headers:_extends({"Content-Type":"application/json"},n?{Authorization:"bearer "+n}:{}),body:JSON.stringify(e)}):new Error("No Authorization")}};e.addEventListener("DOMContentLoaded",function(){function i(e){return e?{operationName:"startToWatchEvent",query:"mutation startToWatchEvent($eventId: ID!) {\n          startToWatchEvent(eventId: $eventId) {\n            ok\n            errors {\n              type\n              message\n            }\n          }\n        }",variables:{eventId:btoa("Event-"+e)}}:null}if(e.body.classList.contains("events")){t.addEventListener("tagFilter:sort",function(e){var n=e.detail;if(t.globalJS&&t.globalJS.updateURLParameter){var s=t.globalJS.updateURLParameter(location.href,"order",n.sort.value);history.replaceState(null,null,s),location.reload()}});var r=$(".js-right-column");t.innerWidth>=768&&$(".js-left-column").height()>r.height()&&r.gbAffix()}n(".js-video-start-watch-event").forEach(function(e){function t(e){if(!n){n=!0;var t=e.target.dataset.startWatch||e.currentTarget.dataset.startWatch,r=e.target.dataset.eventId||e.currentTarget.dataset.eventId;if(t)return!1;var o=i(r);if(!o)return!1;s(o)["catch"](function(){})}}var n=!1;e.addEventListener("play",t),e.addEventListener("playing",t)}),n(".js-link-start-watch-event").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var n=e.target.getAttribute("href")||e.currentTarget.getAttribute("href"),r=e.target.dataset.startWatch||e.currentTarget.dataset.startWatch,o=e.target.dataset.eventId||e.currentTarget.dataset.eventId;if(r)return n&&(t.location=n),!1;var a=i(o);return s(a).then(function(){n&&(t.location=n)})["catch"](function(){}),!1})})})}(document,window),function(){var e,t;t=!1,e=$("#feedbacks__dropdown-menu"),$(function(){var n,s,i,r,o,a,c,l,d,u,m,p,h,f,g,v,b,_,w,y,k,j,C,x,T,I;if($("body").hasClass("feedbacks")){if(!(r=$(".js-feedbacks-charts-container")))return;window.onload=function(){var e,t,n,s,i,o;if(i=document.querySelector(".js-feedbacks-messages-wrapper"),n=document.querySelector(".js-feedbacks-charts"),i&&n)return o=i.offsetHeight,s=n.offsetHeight,o>s?(t=96,e=$("footer").outerHeight(!0)+40,r.affix({offset:{top:t,bottom:e}})):void 0},r.on("affix.bs.affix",function(){return r.width(r.width())}),r.on("affixed-top.bs.affix",function(){return r.width("auto")})}return $("#feedbacks__toggle-dropdown-menu-button").click(function(e){return e.stopPropagation(),j(),$(this).toggleClass("open"),$("#feedbacks__dropdown-menu").toggle()}),$(document.body).click(function(){return $("#feedbacks__dropdown-menu").hide(),$("#feedbacks__toggle-dropdown-menu-button").removeClass("open")}),u=$(".js-feedback-rate-submit-button"),m=$("[data-name='feedback[teacher_score]']"),l=$("[data-name='feedback[program_score]']"),c=$("[data-name='feedback[mentor_score]']"),n=m.add(l),d=".js-feedback-rate-score",s=$("#feedback_body"),i=$("#feedback-body-message"),o=$("#feedback_mentor_feedback_body"),a=$("#mentor-body-message"),p=$("#feedback_without_mentor"),h="\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043e \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c, \u043c\u044b \u043f\u0440\u0438\u043c\u0435\u043c \u044d\u0442\u043e \u043a \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044e \u0438 \u043f\u043e\u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c (\u043d\u0435 \u043c\u0435\u043d\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432):",C=i.text(),x=a.text(),I=!!c.size(),T=function(e){return!!e.find(d).filter(function(){return $(this).hasClass("active")&&+$(this).data("score")<=3}).size()},y=function(e){return!!e.find(".js-feedback-rate-score.active").size()},g=function(){return c.find(d).removeClass("active"),$("input[name='feedback[mentor_score]']").val(null),o.val(null).prop("disabled",!0)},_=function(){var e;return e=y(m)&&y(l),T(n)?e&&s.val().trim().length>=20:e},w=function(){var e;return!!p.prop("checked")||(e=y(c),T(c)?e&&o.val().trim().length>=20:e)},k=function(){return I?_()&&w():_()},s.add(o).keyup(function(){return u.prop("disabled",!k())}),p.change(function(){return g(),p.prop("checked")?c.find(d).addClass("disabled"):(c.find(d).removeClass("disabled"),o.prop("disabled",!1)),u.prop("disabled",!k())}),$(document.body).on("click",d,function(e){var t,s;if($(this).is(".gb-checkbox")||e.preventDefault(),!$(this).hasClass("disabled"))return s=$(e.currentTarget),t=$("input[name='"+s.parent().data("name")+"']"),s.siblings().each(function(){return $(this).removeClass("active")}),s.addClass("active"),t.length&&t.val(s.data("score")),i.text(T(n)?h:C),a.text(T(c)?h:x),u.prop("disabled",!k())}),j=function(){if(!t)return t=!0,$.get("/api/v2/feedbacks/count").done(b).fail(v)},b=function(t){var n,s;return s=e.data("feedbackable_type"),n=e.data("feedbackable_id"),$("#feedbacks_loader").remove(),t.forEach(function(t){var i;return i=f(t,s,n),e.append(i)})},v=function(){},f=function(e,t,n){var s;return"<a class='feedbacks__dropdown-menu-link "+(null!=(s=t&&n===e.id)?s:{active:""})+"' href="+e.url+"> <span>"+e.title+"</span> <span class='pull-right text-muted'>"+e.count+"</span> </a>"}})}.call(this),$(function(){if($(".js-form-phone-input").length>0){(function(){var e=$(".js-form-text-input"),t=$(".js-form-phone-input"),n=$(".js-form-submit-btn"),s=function(){var s=e.val().trim(),i=t.val().trim(),r=!!i;r&&t.parsley().validate();var o=!0;t.parsley().on("field:error",function(){return o=!1});var a=t.hasClass("parsley-error"),c=!o||!(s.length>1)||a||!r;n.attr("disabled",c)};s(),t.on("keyup",function(){return s()}),e.on("keyup",function(){return s()})})()}}),function(){$(function(){var e,t,n,s,i;return e=".sliding-search-input, .no-float-label",s=["input[type='text']:not("+e+")","input[type='email']:not("+e+")","input[type='password']:not("+e+")","input[type='tel']:not("+e+")","textarea:not("+e+")"].join(", "),i=function(e){var t,n;return t=null,n=e.parents(".gb-phone-input").first(),t=n.length?n:e,t.siblings("label").css("visibility","visible"),e.data("holder")||e.data("holder",e.attr("placeholder")),e.attr("placeholder","")},t=function(e){var t,n;return t=null,n=e.parents(".gb-phone-input").first(),t=n.length?n:e,setTimeout(function(){if(!e.val().length)return e.attr("placeholder",e.data("holder")),t.siblings("label").css("visibility","hidden")},0)},n=$(s).filter(":focus"),n.length&&i($(n[0])),$(document.body).on("focus",s,function(e){return i($(e.currentTarget))}).on("blur",s,function(e){return t($(e.currentTarget))}).on("focus","select",function(){return $(this).siblings("label").css("visibility","visible")}).on("keyup","input#user_email",function(e){var t;return t=$(e.currentTarget),t.siblings("label").css("visibility","visible")}),$("input, textarea, select").each(function(){if(null!==$(this).val()&&$(this).val().length)return $(this).siblings("label").css("visibility","visible")}),$(".tokenfield").each(function(){return $(this).siblings("label").css("visibility","visible")})})}.call(this),$(function(){var e=$(".js-inputmask-phone-input");e.length&&(e.inputmask("+9{1,13}"),e.intlTelInput({nationalMode:!1,autoHideDialCode:!0,autoPlaceholder:!1,initialCountry:"ru",preferredCountries:["ru","ua","by","kz"],geoIpLookup:function(e){e(gon.location.data.country_code||"")}}))}),function(){$(function(){var e,t,n,s,i;return $("#intense-discount").length&&(e=function(){return $("#intense-discount").toggleClass("not-visible"),$(".intense-discount").toggleClass("expanded"),$(".intense-discount-container").toggleClass("expanded"),$(".callback-buttons").toggleClass("callback-buttons-hidden")},$("#claim-btn.intense-discount").click(function(){return $("#intense-discount").addClass("not-visible"),$(".intense-discount").removeClass("expanded"),$(".intense-discount-container").removeClass("expanded"),$(".callback-buttons").addClass("callback-buttons-hidden"),$("html, body").animate({scrollTop:$("#outcome").offset().top},310)}),$(".js-icon-callback-hide").click(function(){return e(),$.cookie("call_form","hidden",{expires:90})}),$(".js-callback").click(function(){return e(),$.cookie("call_form","shown",{expires:90})})),n=function(e,t){var n;return e%=100,n=e%10,10<e&&e<20?t[2]:1<n&&n<5?t[1]:1===n?t[0]:t[2]},s=$(".hidden-date").text(),s=""===s&&new Date(1)||new Date(s),t=function(){var e,t,i;return e=s-new Date,e<=0?"\u0441\u043a\u0438\u0434\u043a\u0430 \u043a\u043e\u043d\u0447\u0438\u043b\u0430\u0441\u044c":(t=parseInt(e/36e5),t>0?t+" "+n(t,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]):(i=parseInt(e/(36e5*t)),i>0?i+" "+n(i,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]):"\u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0438\u043d\u0443\u0442\u044b"))},i=function(){var e;return e=t(),$("span.time-left").text(e),$("span.time-left-title").text("\u0441\u043a\u0438\u0434\u043a\u0430 \u043a\u043e\u043d\u0447\u0438\u043b\u0430\u0441\u044c"===e&&e||e+" \u0434\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f")},i(),setInterval(i,3e4)})}.call(this),window.TOGGLE_LOGIN_BUTTONS||(window.TOGGLE_LOGIN_BUTTONS=!0,$(function(){return $(".btn-show-register").on("mousedown touchstart",function(e){return e.preventDefault(),$(".registration-form-v2-wrapper").first().toggleClass("visible")}),$(".registration-form-v2-wrapper .close-form").on("mousedown touchstart",function(e){return e.preventDefault(),$(e.currentTarget).parent().parent().toggleClass("visible")})})),function(){$(function(){var e,t,n,s,i,r;return r=$(".js-top-menu-mobile-toggle"),n=$(".js-mobile-menu"),s=r.find(".js-nav-icon"),t=!1,i=function(){return t=!0,s.addClass("open"),n.removeClass("hidden")},e=function(){return t=!1,s.removeClass("open"),n.addClass("hidden")},r.click(function(n){return n.stopPropagation(),t?e():i()}),$(window).resize(function(){if(this.innerWidth>767&&t)return e()}),$(document).click(function(){if(t)return e()}),n.on("click","a",function(){})})}.call(this),function(){$(function(){var e,t,n;if(n=$(".js-main-top-menu"),e=new CustomEvent("noticeMenuHide"),t=$(".js-notices-dropdown"),n.find(".dropdown-menu"),n.length>0)return function(){var s;return s=function(){if(t.is(":visible"))return window.dispatchEvent(e),t.hide()},n.on("click","a",function(e){var n;if(s(e),$(this).hasClass("js-notices-link")&&(e.preventDefault(),t.length>0&&(t.show().css("left",0),t.offset().left+t.width()>$(window).width())))return n=t.offset().left+t.width()-$(window).width()+32,t.css("left",-n),t.find(".arrow").first().css("left",n+($(this).width()/2-10))}),$(document).click(function(){return s()})}()})}.call(this),function(){$(function(){var e;if($(document.body).hasClass("notices"))return e="/api/v2/notices",$(".notices-page-wrapper").on("click",".js-read-trigger",function(){var t;if(t=$(this).parent(),!t.hasClass("read"))return $.post(e+"/"+t.data("id")+"/read").done(function(e){if(e.status)return t.addClass("read")}).fail(function(){})}),$(".notices-page-wrapper").on("click",".js-read-all-button",function(){if($(".notices-page-wrapper li.notice").not(".read").length)return $.post(e+"/read").done(function(e){if(e.status)return $(".notices-page-wrapper li.notice").not(".read").addClass("read")}).fail(function(){})}),$("a.later").click(function(){return"function"==typeof $.cookie&&$.cookie("sms_settings_accepted",1,{expires:365}),$(".settings-notice").remove()})})}.call(this),function(){$(function(){var e;if($(document.body).hasClass("orders"))return e=$(".js-order-submit-button"),e.length&&$(document.body).on("click",e.selector,function(e){var t;return e.preventDefault(),$(this).prop("disabled",!0),t=$(this).data("ref"),$.post("/api/v2/orders/"+t+"/choose").done(function(e){if(e.status)return window.location.replace("/cart")}).fail(function(){})}),$(".collapse").on("shown.bs.collapse hidden.bs.collapse",function(){return $(this).prev().find(".icon-arrow-down").toggleClass("open")})})}.call(this),function(){+function(e){var t,n,s,i;s=function(t){var n,s;return s=t.attr("data-target"),s||(s=t.attr("href"),s=s&&/#/.test(s)&&s.replace(/.*(?=#[^\s]*$)/,"")),n=s&&e(s),n&&n.length?n:e("body")},n="[data-toggle=anchor]",t=function(n,s){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,s),e(n).on("click.bs.anchor",this.toggle)},t.DEFAULTS={offset:0},t.prototype.toggle=function(t){var n,i,r;i=e(this),n=s(i),r=n.offset().top,parseFloat(e("body").css("padding-top"))>0&&(r-=parseFloat(e("body").css("padding-top"))),t.preventDefault(),n.trigger(t=e.Event("scroll.bs.anchor")),t.isDefaultPrevented()||(e("html,body").animate({scrollTop:r},500,"swing"),n.trigger("scrolled.bs.anchor"),i.focus())},i=e.fn.anchor,e.fn.anchor=function(n){return this.each(function(){var s,i,r;s=e(this),i=s.data("bs.anchor"),r=e.extend({},t.DEFAULTS,s.data(),"object"==typeof n&&n),i||s.data("bs.anchor",i=new t(this,r)),"string"==typeof n&&i[n].call(s)})},e.fn.anchor.Constructor=t,e.fn.anchor.noConflict=function(){return e.fn.anchor=i,this},e(document).on("click.bs.anchor.data-api",n,t.prototype.toggle)}(jQuery)}.call(this),function(e,t){"undefined"!=typeof POST_TAGS&&null!==POST_TAGS&&(e.globalJS.autoCompleteTokenField("#post_tag_list",gon.settings.api_path+"/tags","tags"),t.getElementById("#post_title").focus()),t.addEventListener("DOMContentLoaded",function(){var n=t.querySelector(".js-blogpost-content"),s=t.querySelector(".js-fixed-banner"),i=t.querySelector(".js-fixed-banner-helper"),r=t.querySelector(".js-last-item-in-column"),o=!1,a=t.body.clientWidth;if(n){var c=n.querySelectorAll("table");if(0===c.length)return;c.forEach(function(e){var n=t.createElement("div");n.classList.add("js-post-table-wrapper"),e.parentNode.insertBefore(n,e),n.appendChild(e)})}var l=window._.throttle(function(){if(r&&!(a<768)){if(t.scrollingElement.scrollTop>r.getBoundingClientRect().top+e.pageYOffset+r.offsetHeight){var n=s.getBoundingClientRect().left;i.style.width=s.clientWidth+"px",i.classList.add("fixed"),i.style.left=n+"px",o=!0}else o&&(i.style.width="auto",i.classList.remove("fixed"),o=!1)}},150),d=function(){a=t.body.clientWidth};e.addEventListener("resize",d),l()})}(window,document),function(){$(function(){var e,t,n,s,i,r,o,a,c,l,d,u,m,p,h,f,g,v,b,_,w;return $(document.body).hasClass("profile")&&(e=window.gon.settings.api_path||"/",p=$(".js-phone-input"),s=$(".js-code-input"),h=$(".js-submit-phone-btn"),i=$(".js-submit-code-btn"),m=$(".js-pending-message"),n=$(".easypiechart"),o=n.find(".counter"),f=$(".js-resend-code-button"),d=$(".message-box"),u=d.text(),_=$('input[name="sms"]'),t=$("a.change-phone"),null,l=null,a=t.siblings(".intl-tel-input").find(".flag-container"),p.prop("disabled")&&a.css("cursor","no-drop"),r=function(){var e;return f.hide(),e=30,o.text(e),m.css("display","inline-block"),n.data("easyPieChart").update(100),n.css("display","inline-block"),l=setInterval(function(){if(e-=1,o.text(e),n.data("easyPieChart").update(3.3*e-100),!e)return clearInterval(l),$(".submit-code-block").is(":visible")&&f.css("display","inline-block"),n.hide(),m.hide()},1e3)},w=function(e){return i.attr("disabled",!e.match(/^[0-9]{6}/))},b=function(e){return d.removeClass("text-muted"),d.addClass("text-danger"),d.text(e)},c=function(){return d.removeClass("text-danger"),d.addClass("text-muted"),d.text(u)},v=function(t,n){return $.post(e+"/profile/settings",{settings:{action:t,value:n}})},g=function(){return $.post(e+"/profile/phone/send_confirmation",{phone:p.val()})},s.on({keyup:function(){return w(s.val())},keypress:function(e){if(13===e.which&&s.val().match(/^[0-9]{6}/))return i.click()}}),h.click(function(){return setTimeout(function(){if(!p.hasClass("parsley-error"))return g().always(function(e){var t;return(null!=(t=e.responseJSON)?t.error:void 0)?b(e.responseJSON.error):e.status&&"ok"===e.status?(h.prop("disabled",!0),$(".submit-phone-block").hide(),$(".submit-code-block").show(),u="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",c(),s.focus(),r()):void 0})},30)}),f.click(function(){return s.val("").focus(),w(s.val()),g().always(function(e){var t;return(null!=(t=e.responseJSON)?t.error:void 0)?b(e.responseJSON.error):e.status&&"ok"===e.status?($(this).hide(),c(),r()):void 0})}),i.click(function(){if($(".submit-code-block").is(":visible"))return $.ajax({url:e+"/profile/phone/confirm",data:{token:s.val()},method:"PUT"}).always(function(e){var s;return(null!=(s=e.responseJSON)?s.error:void 0)?b(e.responseJSON.error):e.status&&"ok"===e.status&&(clearInterval(l),i.hide(),f.hide(),m.hide(),n.hide(),u="\u041d\u043e\u043c\u0435\u0440, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",c(),h.hide(),p.prop("disabled",!0),$(".submit-code-block").hide(),$(".submit-phone-block").show(),t.show(),a.css("cursor","no-drop"),!_.prop("checked"))?_.prop("disabled",!1).prop("checked",!0).trigger("change"):void 0})}),t.click(function(){return p.prop("disabled",!1).focus(),h.show(),i.show(),s.val(""),w(s.val()),$(this).hide(),a.css("cursor","")}),s.inputmask("9{6}"),$(".js-profile-settings").on("change","input:checkbox",function(){return v($(this).attr("name"),$(this).prop("checked")).success(function(e){return function(){var t,n;return n=$(e).attr("name"),t=$(e).prop("checked"),$("input:checkbox").filter(function(e,s){var i,r;if(r=$(s).attr("name"))return i=$(s).prop("checked"),r!==n&&r.indexOf(n)>-1?$(s).prop("disabled",!$(s).prop("disabled")):r===n&&i!==t?$(s).prop("checked",!i):void 0})}}(this)).fail(function(){return"There was an error occured while sending data."})})),$("#delete_profile").click(function(){if(!$(this).hasClass("active"))return!0,$("#modal-dialog").modal()})})}.call(this),function(e,t){t.addEventListener("DOMContentLoaded",function(){$(t.body).hasClass("promo_codes")&&function(){var n=$(".js-promo-code-form"),s=t.querySelector(".js-special-offer-header-link"),i=n.length,r=function(n){n.preventDefault();var s=n.currentTarget.hash;if(s.length){var i=t.querySelector(s);if(i){i.classList.contains(a)||(i.classList.remove("hide-form"),i.classList.add(a));var r=i.getBoundingClientRect(),o=r.top,a="js-form-show";e.scroll({top:o,left:0,behavior:"smooth"})}}};i&&s&&s.addEventListener("click",function(e){e.preventDefault(),r(e)}),i&&function(){var e=n.find('button[type="submit"]'),t=n.find('input[type="text"]'),s=n.parsley();e.prop("disabled",!s.isValid()),t.keyup(function(){return e.prop("disabled",!s.isValid())})}();var o=$(".hidden-date").text();o=""===o&&new Date(1)||new Date(o);var a=function(){var e=o-new Date;if(e<=0)return"\u0441\u043a\u0438\u0434\u043a\u0430 \u043a\u043e\u043d\u0447\u0438\u043b\u0430\u0441\u044c";var t=parseInt(e/864e5);e-=1e3*t*60*60*24;var n=parseInt(e/36e5);e-=1e3*n*60*60;var s=parseInt(e/6e4);e-=1e3*s*60;parseInt(e/1e3);return[t>0&&t+"\u0434"||"",n>0&&n+"\u0447"||"",s>0&&s+"\u043c"||""].join(" ").trim()},c=function(){var e=a();return"\u0441\u043a\u0438\u0434\u043a\u0430 \u043a\u043e\u043d\u0447\u0438\u043b\u0430\u0441\u044c"===e?$("span.green-text").hide():$("span.green-text.date").text(e)};c(),setInterval(c,3e4)}()})}(window,document),function(){$(function(){return"undefined"!=typeof TOPIC_TAGS&&null!==TOPIC_TAGS&&($("#topic_tags").tokenfield({minLength:2}),$("#topic_title").focus()),$("#send-message").click(function(e){var t;return t={},t.id=$(e.currentTarget).data("id"),t.name=$(e.currentTarget).data("name"),t.avatar="/images/avatars/"+$(e.currentTarget).data("avatar"),$(document).trigger("outside_message",t)})})}.call(this),function(){$(function(){var e,t,n,s,i,r;if($(document.body).hasClass("account"))return $("body.account input.date").datepicker({dateFormat:"dd.mm.yy"}),s=$("form.account_details_form"),i=s.find("input.form-control"),n=s.find("select#account_details_kind").val(),r=null,e=$("#saveButton"),t=function(){return i.each(function(e,t){var s;return s=$(t),!0==!s.data("kind-"+n)?s.parent().addClass("hidden"):s.parent().removeClass("hidden")}),r=i.filter(function(){var t;return $(this).parsley().destroy(),$(this).removeAttr("data-parsley-group"),t=!$(this).parent().hasClass("hidden"),t&&($(this).attr("data-parsley-group",n),$(this).parsley(),$(this).parsley().on("field:validated",function(){return e.prop("disabled",!s.parsley().isValid({group:n}))})),t}),s.parsley().validate(n),s.off("submit.Parsley")},t(),$("#account_details_kind").change(function(){return n=this.value,t()})})}.call(this),function(e,t,n){function s(e){var t={},s=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!s.test(n.name)&&(t[n.name]=n.value)}),t}function i(e,s){var i=this,r=n(i);if(i.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),!0===e)return r[0].value=s;r.focus()}else i.value="",r.removeClass("placeholder"),i==t.activeElement&&i.select()}function r(){var e,t=this,r=n(t),o=this.id;if(""==t.value){if("password"==t.type){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(t){e=n("<input>").attr(n.extend(s(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":r,"placeholder-id":o}).bind("focus.placeholder",i),r.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",o).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}var o,a,c="placeholder"in t.createElement("input"),l="placeholder"in t.createElement("textarea"),d=n.fn,u=n.valHooks,m=n.propHooks;c&&l?(a=d.placeholder=function(){return this},a.input=a.textarea=!0):(a=d.placeholder=function(){var e=this;return e.filter((c?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":i,"blur.placeholder":r}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},a.input=c,a.textarea=l,o={get:function(e){var t=n(e),s=t.data("placeholder-password");return s?s[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,s){var o=n(e),a=o.data("placeholder-password");return a?a[0].value=s:o.data("placeholder-enabled")?(""==s?(e.value=s,e!=t.activeElement&&r.call(e)):o.hasClass("placeholder")?i.call(e,!0,s)||(e.value=s):e.value=s,o):e.value=s}},c||(u.input=o,m.value=o),l||(u.textarea=o,m.value=o),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(i);setTimeout(function(){e.each(r)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),window.Modernizr=function(e,t,n){function s(e){p.cssText=e}function i(e,t){return typeof e===t}var r,o,a="2.6.2",c={},l=!0,d=t.documentElement,u="modernizr",m=t.createElement(u),p=m.style,h=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),f={},g=[],v=g.slice,b=function(e,n,s,i){var r,o,a,c,l=t.createElement("div"),m=t.body,p=m||t.createElement("body");if(parseInt(s,10))for(;s--;)a=t.createElement("div"),a.id=i?i[s]:u+(s+1),l.appendChild(a);return r=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),l.id=u,(m?l:p).innerHTML+=r,p.appendChild(l),m||(p.style.background="",p.style.overflow="hidden",c=d.style.overflow,d.style.overflow="hidden",d.appendChild(p)),o=n(l,e),m?l.parentNode.removeChild(l):(p.parentNode.removeChild(p),d.style.overflow=c),!!o},_={}.hasOwnProperty;o=i(_,"undefined")||i(_.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return _.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=v.call(arguments,1),s=function(){if(this instanceof s){var i=function(){};i.prototype=t.prototype;var r=new i,o=t.apply(r,n.concat(v.call(arguments)));return Object(o)===o?o:r}return t.apply(e,n.concat(v.call(arguments)))};return s}),f.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:b(["@media (",h.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n};for(var $ in f)o(f,$)&&(r=$.toLowerCase(),c[r]=f[$](),g.push((c[r]?"":"no-")+r));return c.addTest=function(e,t){if("object"==typeof e)for(var s in e)o(e,s)&&c.addTest(s,e[s]);else{if(e=e.toLowerCase(),c[e]!==n)return c;t="function"==typeof t?t():t,void 0!==l&&l&&(d.className+=" "+(t?"":"no-")+e),c[e]=t}return c},s(""),m=null,c._version=a,c._prefixes=h,c.testStyles=b,d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(l?" js "+g.join(" "):""),c}(this,this.document),Modernizr.addTest("android",function(){return!!navigator.userAgent.match(/Android/i)}),Modernizr.addTest("chrome",function(){return!!navigator.userAgent.match(/Chrome/i)}),Modernizr.addTest("firefox",function(){return!!navigator.userAgent.match(/Firefox/i)}),Modernizr.addTest("iemobile",function(){return!!navigator.userAgent.match(/IEMobile/i)}),Modernizr.addTest("ie",function(){return!!navigator.userAgent.match(/MSIE/i)}),Modernizr.addTest("ie8",function(){return!!navigator.userAgent.match(/MSIE 8/i)}),Modernizr.addTest("ie10",function(){return!!navigator.userAgent.match(/MSIE 10/i)}),Modernizr.addTest("ie11",function(){return!!navigator.userAgent.match(/Trident.*rv:11\./)}),Modernizr.addTest("ios",function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)}),function(e,t){var n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,s=function(){for(var e,n,s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"]],i=0,r=s.length,o={};r>i;i++)if((e=s[i])&&e[1]in t){for(i=0,n=e.length;n>i;i++)o[s[0][i]]=e[i];return o}return!1}(),i={request:function(e){var i=s.requestFullscreen;e=e||t.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[i]():e[i](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){t[s.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(){},onerror:function(){},raw:s};s?(Object.defineProperties(i,{isFullscreen:{get:function(){return!!t[s.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[s.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!t[s.fullscreenEnabled]}}}),t.addEventListener(s.fullscreenchange,function(e){i.onchange.call(i,e)}),t.addEventListener(s.fullscreenerror,function(e){i.onerror.call(i,e)}),e.screenfull=i):e.screenfull=!1}(window,document),function(e){var t=function(t){this.$element=e(t),this.$prev=this.$element.prev(),!this.$prev.length&&(this.$parent=this.$element.parent())};t.prototype={constructor:t,init:function(){var e=this.$element,t=e.data().toggle.split(":")[1],n=e.data("target");e.hasClass("in")||e[t](n).addClass("in")},reset:function(){this.$parent&&this.$parent.prepend(this.$element),!this.$parent&&this.$element.insertAfter(this.$prev),this.$element.removeClass("in")}},e.fn.shift=function(n){return this.each(function(){var s=e(this),i=s.data("shift");i||s.data("shift",i=new t(this)),"string"==typeof n&&i[n]()})},e.fn.shift.Constructor=t}(jQuery),function(e){var t=function(t,n){this.options=n,this.$element=e(t),this.start()};t.DEFAULTS={backdrop:!0,url:""},t.prototype.start=function(){var t=this;this.backdrop(),e.ajax(this.options.url).done(function(e){t.$content=e,t.complete()})},t.prototype.complete=function(){try{window.history.pushState({},"",this.options.url)}catch(e){window.location.replace(this.options.url)}this.updateBar(100)},t.prototype.backdrop=function(){this.$element.css("position","relative"),this.$backdrop=e('<div class="backdrop fade"></div>').appendTo(this.$element),this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),this.$bar=e('<div class="bar b-t b-info"></div>').width(0).appendTo(this.$backdrop)},t.prototype.update=function(){!this.$element.is("html")&&this.$element.html(this.$content),this.$element.is("html")&&(document.open(),document.write(this.$content),document.close())},t.prototype.updateBar=function(e){var t=this;this.$bar.stop().animate({width:e+"%"},500,"linear",function(){100==e&&t.update()})},t.prototype.enable=function(e){var t=e.currentTarget;return location.protocol===t.protocol&&location.hostname===t.hostname&&((!t.hash||t.href.replace(t.hash,"")!==location.href.replace(location.hash,""))&&(t.href!==location.href+"#"&&t.href!==location.href&&-1==location.href.indexOf(t.href)&&-1!=t.protocol.indexOf("http")))},e.fn.bjax=function(n){return this.each(function(){var s=e(this),i=s.data("app.bjax"),r=e.extend({},t.DEFAULTS,s.data(),"object"==typeof n&&n);i||s.data("app.bjax",i=new t(this,r)),"string"==typeof n&&i[n]()})},e.fn.bjax.Constructor=t,e(window).on("popstate",function(e){null!==e.originalEvent.state&&window.location.reload(!0),e.preventDefault()})}(jQuery),Date.now=Date.now||function(){return+new Date},function(e){e(function(){e(document).on("click","[data-toggle=fullscreen]",function(e){e.preventDefault(),screenfull.enabled&&screenfull.request()}),e("input[placeholder], textarea[placeholder]").placeholder(),e("[data-toggle=popover]").popover(),e(document).on("click",".popover-title .close",function(t){var n=e(t.target),s=n.closest(".popover").prev();s&&s.popover("hide")}),e(document).on("click",'[data-toggle="ajaxModal"]',function(t){e("#ajaxModal").remove(),t.preventDefault();var n=e(this),s=n.data("remote")||n.attr("href"),i=e('<div class="modal fade" id="ajaxModal"><div class="modal-body"></div></div>');e("body").append(i),i.modal(),i.load(s)}),e.fn.dropdown.Constructor.prototype.change=function(t){t.preventDefault();var n,s,i,r=e(t.target),o=!1;!r.is("a")&&(r=r.closest("a")),s=r.closest(".dropdown-menu"),i=s.parent().find(".dropdown-label"),$labelHolder=i.text(),n=r.find("input"),o=n.is(":checked"),n.is(":disabled")||"radio"==n.attr("type")&&o||("radio"==n.attr("type")&&s.find("li").removeClass("active"),r.parent().removeClass("active"),!o&&r.parent().addClass("active"),n.prop("checked",!n.prop("checked")),$items=s.find("li > a > input:checked"),$items.length?($text=[],$items.each(function(){var t=e(this).parent().text();t&&$text.push(e.trim(t))}),$text=$text.length<4?$text.join(", "):$text.length+" selected",i.html($text)):i.html(i.data("placeholder")))},e(document).on("click.dropdown-menu",".dropdown-select > li > a",e.fn.dropdown.Constructor.prototype.change),e("[data-toggle=tooltip]").tooltip(),e(document).on("click",'[data-toggle^="class"]',function(t){t&&t.preventDefault();var n,s,i,r,o,a=e(t.target);!a.data("toggle")&&(a=a.closest('[data-toggle^="class"]')),n=a.data().toggle,s=a.data("target")||a.attr("href"),n&&(i=n.split(":")[1])&&(r=i.split(",")),s&&(o=s.split(",")),r&&r.length&&e.each(o,function(t){if(-1!==r[t].indexOf("*")){var n=new RegExp("\\s"+r[t].replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");e(a).each(function(t,s){for(var i=" "+s.className+" ";n.test(i);)i=i.replace(n," ");s.className=e.trim(i)})}"#"!=o[t]&&e(o[t]).toggleClass(r[t])||a.toggleClass(r[t])}),a.toggleClass("active")}),e(document).on("click",".panel-toggle",function(t){t&&t.preventDefault();var n,s=e(t.target),i="collapse";s.is("a")||(s=s.closest("a")),n=s.closest(".panel"),n.find(".panel-body").toggleClass(i),s.toggleClass("active")}),e(".carousel.auto").carousel(),e(document).on("click.button.data-api","[data-loading-text]",function(t){var n=e(t.target);n.is("i")&&(n=n.parent()),n.button("loading")});var t=e(window),n=function(t){return"reset"==t?(e('[data-toggle^="shift"]').shift("reset"),!0):(e('[data-toggle^="shift"]').shift("init"),!0)};t.width()<768&&n();var s;t.resize(function(){clearTimeout(s),s=setTimeout(function(){i(),t.width()<767&&n(),t.width()>=768&&n("reset")&&r()},500)});var i=function(){return e(".app-fluid #nav > *").css("min-height",e(window).height()),!0};i();var r=function(){return e(".ie11 .vbox").each(function(){e(this).height(e(this).parent().height())}),!0};r(),e(document).on("click",'[data-ride="collapse"] a',function(t){var n,s=e(t.target)
;s.is("a")||(s=s.closest("a")),n=s.parent().siblings(".active"),n&&n.toggleClass("active").find("> ul:visible").slideUp(200),s.parent().hasClass("active")&&s.next().slideUp(200)||s.next().slideDown(200),s.parent().toggleClass("active"),s.next().is("ul")&&t.preventDefault(),setTimeout(function(){e(document).trigger("updateNav")},300)}),e(document).on("click.bs.dropdown.data-api",".dropdown .on, .dropup .on, .open .on",function(e){e.stopPropagation()})})}(jQuery),function(e,t){if(!t.getElementById("courses-tab"))return null;var n=function(t,n){var s=e.location,i=s.protocol,r=s.host,o=s.pathname,a=s.hash,c=s.search;t=encodeURI(t),n=encodeURI(n);for(var l=c.substr(1).split("&"),d=l.length,u=undefined;d--;)if(u=l[d].split("="),u[0]===t){u[1]=n,l[d]=u.join("=");break}d<0&&(l[l.length]=[t,n].join("="));var m=i+"//"+r+o+"?"+l.join("&")+a;e.history.replaceState(null,null,m)},s=function s(){var i=this;_classCallCheck(this,s),this.coursesCards=[].concat(_toConsumableArray(t.getElementsByClassName("js-course-card"))),this.coursesFiterForm=[].concat(_toConsumableArray(t.getElementsByClassName("js-courses-filter"))),this.checkBoxes=[].concat(_toConsumableArray(this.coursesFiterForm[0].getElementsByClassName("js-checkbox"))),this.checkBoxes.forEach(function(e){e.addEventListener("change",function(e){var t=e.currentTarget,r=(t.value,t.checked,i.checkBoxes.filter(function(e){return e.checked}).map(function(e){return e.value}));if(n("tags",r.toString()),!r.length)return i.coursesCards.forEach(function(e){return e.hidden=!1});s.filterCards(i.coursesCards,r)})}),e.addEventListener("load",function(){var t=e.location.search;if(!t)return null;var n=new URLSearchParams(t.substring(1)),r=n.get("tags");if(!r)return null;var o=r.includes(",")?r.split(","):[r];s.filterCards(i.coursesCards,o),s.setActiveCheckboxes(i.checkBoxes,o)})};s.filterCards=function(e,t){e.forEach(function(e){var n=!e.dataset.filterIds.split(" ").some(function(e){return t.includes(e)});e.hidden=n})},s.setActiveCheckboxes=function(e,t){e.forEach(function(e){return t.includes(e.value)?e.checked=!0:e.checked=!1})},new s}(window,document),function(){$(function(){if($("body").hasClass("static_pages")&&($(".static-page__content table").addClass("table"),$("#toc-nav").length))return $("body").scrollspy({target:"#toc-nav"})})}.call(this),function(){$(function(){if($(document.body).hasClass("subjects"))return ForcedRegistration.checkFlag()})}.call(this),function(){$(function(){var e,t,n,s;if($(document.body).hasClass("teacher"))return t=$("#popover-content-new"),e=$("#popover-content-existed"),n=gon.settings.api_path+"/TeacherPayouts::Tranche",s=function(n){var s;return s=!!n.data("complaint-text"),n.popover({html:!0,placement:"top",content:s?e.html():t.html(),container:"body",trigger:"manual",template:["<div class='popover' role='tooltip'>","<div class='arrow "+(s?"existed":"new")+"'></div>","<h3 class='popover-title'></h3>","<div class='popover-content'></div> </div>"].join("")})},$(".js-claim").each(function(){return s($(this))}),$(document.body).on("click",".js-claim",function(e){var t;return t=$(e.currentTarget),t.hasClass("js-claim-with-popover")?t.removeClass("js-claim-with-popover").popover("hide"):($(".js-claim-with-popover").removeClass("js-claim-with-popover").popover("hide"),t.popover("show"),$(".popover textarea").val(t.data("complaint-text")),t.addClass("js-claim-with-popover"))}),$(document.body).on("click",".js-popover-dismiss",function(e){var t;return t=$(e.currentTarget),t.parents(".popover").first().popover("hide"),$(".js-claim-with-popover").removeClass("js-claim-with-popover")}),$(document.body).on("click",".js-popover-submit",function(e){var t,i,r,o,a,c;if(e.preventDefault(),i=$(e.currentTarget),a=i.parents(".popover").first().find("textarea").val().trim(),t=$(".js-claim-with-popover"),r=t.data("complaint-text"),a&&a!==r)return o=t.data("payment-id"),c=n+"/"+o+"/complaint",$.post(c,{text:a}).done(function(){var e;return e=i.parents(".popover").first(),e.find(".arrow"),t.removeClass("js-claim-with-popover").data("complaint-text",a).popover("destroy").parent().addClass("payments-table__claim_with-claim"),setTimeout(function(){return s(t),t.popover("show").addClass("js-claim-with-popover")},200)}).fail(function(){})}),$("#homeworks-filter").bind("ajax:success",function(e,t){var n,s,i,r,o,a,c,l,d;for($("#completed-homeworks > tbody").empty(),c=t.homeworks_data.completed_homeworks,i=s=0,o=c.length;s<o;i=++s)n=c[i],$("#completed-homeworks > tbody").append(function(){return"<tr> <td>"+n.teacher_score+"</td> <td>"+n.username+"</td> <td>"+n.lesson_title+"</td> <td>"+n.chapter+"</td> <td><a href='"+n.teacher_path+"'>\u041f\u0435\u0440\u0435\u0439\u0442\u0438</a></td> </tr>"});for($("#pending-homeworks > tbody").empty(),l=t.homeworks_data.pending_homeworks,d=[],i=r=0,a=l.length;r<a;i=++r)n=l[i],d.push($("#pending-homeworks > tbody").append(function(){return"<tr> <td>"+n.deadline_time+"</td> <td>"+n.username+"</td> <td>"+n.lesson_title+"</td> <td>"+n.chapter+"</td> <td><a href='"+n.teacher_path+"'>\u041f\u0435\u0440\u0435\u0439\u0442\u0438</a></td> <td><div class='"+(n.seen?"disabled-":"pending-")+"homeworks-state-icon'></div></td> </tr>"}));return d})})}.call(this),function(){$(function(){var e,t,n,s;return n=function(){var e,t;return t=window.location.search,e={},t.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(t,n,s,i){return e[n]=i}),e},t=n(),$(".nav-tabs a").on("shown.bs.tab",function(e){var t;if(t=$(e.currentTarget).data("tab"))return window.history.replaceState("page","title",window.location.href.split("?")[0]+"?tab="+t)}),t.tab&&(s=t.tab,(e=$(".nav-tabs a[data-tab='"+s+"']"))&&e.tab("show")),$('a[data-toggle="tab"]').on("shown.bs.tab",function(){return $(".CodeMirror").each(function(e,t){return t.CodeMirror.refresh()})})})}.call(this),function(){$(function(){return $(document.body).on("click","a.thank, a.js-thank",function(e){var t,n,s,i;return e.preventDefault(),t="/api/v2",i=$(this).attr("data-thankable_type"),n=$(this).attr("data-thankable_id"),s=$(this).hasClass("active")?"unlike":"like",$.post(t+"/"+i+"/"+n+"/"+s).done(function(e){return function(t){var n;return n=$(e).toggleClass("active").find(".counter"),n.text(t.likes_count)}}(this))})})}.call(this),function(){$(function(){if($("body").hasClass("topics"))return window.globalJS.autoCompleteTokenField("#topic_tags",gon.settings.api_path+"/tags","tags"),$("#topic_title").focus(),3!==$(".js-accept_forum_rules:checked").length&&$("form#new_topic").find('[type="submit"]').prop("disabled",!0),$(".js-accept_forum_rules").change(function(){return $(this).closest("form").find('[type="submit"]').prop("disabled",3!==$(".js-accept_forum_rules:checked").length)}),$(document).on("click","a.topic-page-button_type_subscribe",function(e){var t,n,s;return e.preventDefault(),n=$(this),t=n.html(),s=null,n.html('<i class="i i-spinner"></i>'),s="subscribe-btn"===n.attr("id")?"/topics/"+n.data("topic-id")+"/follow":"/topics/"+n.data("topic-id")+"/unsubscribe",$.ajax({url:s,method:"PATCH"}).success(function(e){return n.html(t),n.siblings("a.topic-page-button_type_subscribe").removeClass("topic-page-button_hide"),n.addClass("topic-page-button_hide"),$("#subscribers-counter").text(e)}).error(function(){return n.html(t)})}),$("#message-body").length&&new EasyMDE({element:$("#message-body")[0],showIcons:["bold","italic","strikethrough","unordered-list","code","link","quote"],hideIcons:["heading","ordered-list","image"],spellChecker:!1,status:!1,renderingConfig:{markedOptions:{sanitize:!0}}}),$(document).on("click","#topic-hide-button",function(e){return e.preventDefault(),$("#topic-hide-form").toggle()})})}.call(this),function(){$(function(){return $("[data-track]").each(function(e,t){var n,s,i,r,o,a,c;return n=$(t).data("trackAction"),s=$(t).data("trackPayload"),a=$(t).data("trackTrackable_type"),o=$(t).data("trackTrackable_id"),c=null!=(i=window.gon)&&null!=(r=i.settings)?r.tracker_url:void 0,c?$.ajax({url:c,type:"POST",dataType:"json",data:{track_action:n,payload:s,trackable_type:a,trackable_id:o}}):void 0})})}.call(this),function(){$(function(){if($(document.body).hasClass("user")||$(document.body).hasClass("wizard")||$(document.body).hasClass("registrations")||$(document.body).hasClass("profile"))return $("#checkLicenseAgreement").change(function(){return $(this).closest("form").find('[type="submit"]').prop("disabled",!$(this).is(":checked"))}),$("#fileAvatar").change(function(){return $(this).parents("form").submit()}),$("input[type=tel]").length>0&&function(){var e;if(e=$(this),$.trim(e.val()))return e.toggleClass("parsley-error",!e.intlTelInput("isValidNumber"))},$(".js-certificate").click(function(e){return e.preventDefault(),window.open("/certificates/"+$(e.currentTarget).data("id"),"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442","location=1,status=1,scrollbars=1,width=902,height=820,")}),$(".user .date").datepicker({dateFormat:"dd-mm-yy"}),$(document.body).on("focus","#first_name, #last_name",function(e){var t;return t=e.currentTarget,$(t).parent().siblings("label").css("visibility","visible"),$(t).attr("placeholder","")}).on("blur","#first_name, #last_name",function(e){var t;if(t=e.currentTarget,!$(t).val().length)return $(t).attr("placeholder",$(t).parent().siblings("label").text()),$(t).parent().siblings("label").css("visibility","hidden")})})}.call(this),function(){$(function(){if($(document.body).hasClass("wizard"))return $(".icon-password-show").click(function(){return $("#user_password").prop("type","text"),$(".icon-password-show, .icon-password-hide").toggle()}),$(".icon-password-hide").click(function(){return $("#user_password").prop("type","password"),$(".icon-password-show, .icon-password-hide").toggle()}),$(".wizard-more-fields-button").click(function(){return $(".wizard-more-fields").show(),$(".wizard-more-fields-button").hide()})})}.call(this),function(){$(function(){if($("gb__learning").length){var e=($(".left-side-wrapper"),$(".left-side-toggle-button"),$(".right-side-wrapper")),t=document.querySelector(".js-homework-description-toggler"),n=document.querySelector(".js-homework-description-container");$(".right-side-wrapper__toggle-button").click(function(){return e.toggleClass("open")}),$(".lessons-list-dropdown").click(function(e){e.target.classList.toggle("lessons-list-dropdown_collapsed")}),t&&n&&function(){var e=t.querySelector(".js-toggler-text");t.addEventListener("click",function(){n.classList.toggle("collapsed"),t.classList.toggle("collapsed");var s=t.classList.contains("collapsed");e.textContent=s?"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c":"\u0421\u043a\u0440\u044b\u0442\u044c"})}(),document.body.onclick=function(e){var t=undefined,n=undefined,s=undefined,i=undefined;for(s=e.target,i=[];s&&s!==this;)s&&s.matches(".js-send-message")&&(e.preventDefault(),t=s.dataset,n={id:t.id,name:t.name,avatar:t.avatar},$(window).trigger("chatMessage",n)),i.push(s=s.parentNode);return i}}})}.call(undefined),function(){var e=document.querySelector(".js-overflow-toggle"),t=document.querySelector(".gb__main-wrapper");e&&t&&e.addEventListener("click",function(){t.classList.toggle("overflow-off")})}();var _slicedToArray=function(){function e(e,t){var n=[],s=!0,i=!1,r=undefined;try{for(var o,a=e[Symbol.iterator]();!(s=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{!s&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(function(){var e=window.globalJS.getNoun,t=function(t){var n=t-new Date;if(n<=0)return null;var s=parseInt(n/864e5);n-=1e3*s*60*60*24;var i=""+e(s,"\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"),r=parseInt(n/36e5);n-=1e3*r*60*60;var o=parseInt(n/6e4);return n-=1e3*o*60,[s,i,r,o,parseInt(n/1e3)]};window.globalJS.getDelta=t;var n=function(e,t){if(null===e)return"lesson"===t?"\u0412\u0440\u0435\u043c\u044f \u0438\u0441\u0442\u0435\u043a\u043b\u043e":"\u0441\u043a\u0438\u0434\u043a\u0430 \u043a\u043e\u043d\u0447\u0438\u043b\u0430\u0441\u044c";var n=Array.from(e),s=_slicedToArray(n,4),i=s[0],r=(s[1],s[2]),o=s[3];return[i>0&&i+"\u0434"||"",r>0&&r+"\u0447"||"",o>0&&o+"\u043c"||""].join(" ").trim()};$(".data-end-time").each(function(){function e(){var e=t(r),o=n(e,i);null===e?($(".collapse-on-timeout").hide(),"lesson"===i&&(s.parent().find(".timer-label-text").hide(),s.text("00:00").addClass("deadline"),s.filter(".timer-main").text(o),s.parents(".time").addClass("deadline"))):s.text(o)}var s=$(this),i=s.attr("data-timer-type")||"discount",r=s.attr("data-end-time");r=""===r&&new Date(1)||new Date(r),e();var o="lesson"===i?6e4:3e4;setInterval(e,o)}),document.querySelectorAll(".js-countdown").forEach(function(e){var n=e.getAttribute("data-deadline"),s=e.getAttribute("data-madal-class-name"),i=e.getAttribute("data-modal-cookies-name");n=""===n&&new Date(1)||new Date(n);var r=function(){e.querySelector(".js-countdown-counter").classList.add("js-hidden");var t=e.querySelector(".js-countdown-timer-over");t&&t.classList.remove("js-hidden"),""!=s&&setTimeout(function(){$("."+s).fadeOut()},3e3),document.cookie=i+"=true"};if(n==new Date)return void r();if("Invalid Date"==n)return e.style.width=0,e.style.height=0,void(e.style.visibility="hidden");e.querySelector(".js-countdown-counter").classList.remove("js-hidden");var o=e.querySelector(".js-countdown-days-wrapper"),a=function(){var e=t(n);if(n===new Date||null==e)return r(),void clearInterval(c);var s=_slicedToArray(e,5),i=s[0],a=s[1],l=s[2],d=s[3],u=s[4];0===i&&o&&o.classList.add("js-hidden"),document.querySelector(".js-countdown-days").innerHTML=i,document.querySelector(".js-countdown-days-in-text").innerHTML=a,document.querySelector(".js-countdown-hours").innerHTML=l,document.querySelector(".js-countdown-minutes").innerHTML=d,document.querySelector(".js-countdown-seconds").innerHTML=u};a();var c=setInterval(a,1e3)})}),function(){$(function(){var e,t,n,s,i,r,o,a,c,l,d,u,m,p,h,f,g,v,b,w,y,k,j,C,x,T,I,S,E,P,O;if(l=$(".js-main-top-menu"),l.length)return a=$(".search-panel",l),o=$(".search-panel__form",a),r=$(".search-panel__search-field",a),s=$(".search-panel__search-reset",a),c=$("a.show-search-form"),i=$('<div class="search-overlay"></div>'),t=$(".search-panel__progress-bar_error",a),n=$(".search-panel__progress-bar_success",a),e=$(".search-panel__progress-bar_default",a),x=!1,f=!1,S=void 0,m=700,u=location.pathname+location.search,p={webinars:24,blogs:24,forums:48,vacancies:24,companies:24,geeks:96},d={method:"GET",dataType:"html",timeout:3e4,beforeSend:function(){return x=!0,e.addClass("animating")},success:function(){return x=!1,n.addClass("animating"),setTimeout(function(){return I()},500)},error:function(){return x=!0,t.addClass("animating")}},w=function(e){var t;return t=new RegExp("[?&]"+e+"=([^&#]*)").exec(location.search),t?t[1]:""},v=function(){return r.val()},O=function(){var e,t,n;return t=jQuery.Deferred(),n=i.find("img"),e=n.length,n.on("load error",function(){if(!--e)return t.resolve()}).filter(function(){return this.complete}).load(),t.promise()},I=function(){return t.removeClass("animating"),n.removeClass("animating"),e.removeClass("animating")},E=function(){return a.addClass("visible"),setTimeout(function(){return r.focus()},500),P()},j=function(){return a.removeClass("visible"),r.val(""),C(),history.pushState({},"",u)},P=function(){return $("body").css("overflowY","hidden"),i.appendTo(".js-search-wrapper"),i.click(j)},C=function(){return $("body").css("overflowY",""),i.detach().empty()},g=function(e){var t,n;if(clearTimeout(S),n=v(),!(n.length<2))return e=e||"all",f=!1,t=jQuery.Deferred(),I(),S=setTimeout(function(){return $.ajax(_.assign({},d,{url:"/search",data:{q:n}})).done(function(n){return i.animate({scrollTop:0},500,function(){return k(e),t.resolve()}),i.html(n),i.off("click")}).fail(function(){return t.reject()})},m),t.promise()},r.on("input",function(){return g()}),o.on("submit",function(e){return e.preventDefault(),g()}),a.click(function(e){return e.stopPropagation()}),c.on("click",function(e){return e.preventDefault(),I(),E()}),s.click(j),h=function(){var e,t;return t=jQuery.Deferred(),e=$('.search-results-tab[data-tab="all"]').find(".search-page-block"),e.each(function(n){var s;return s=$(this),s.css({transform:"translateY(-75px)"}),setTimeout(function(){if(s.css({transform:"none",opacity:"1"}),e.size()===n+1)return f=!0,t.resolve()},300*(n+1))}),t.promise()},b=function(e,t,n){return $.ajax(_.assign({},d,{url:"/search",data:{q:e,tab:t,page:n}}))},y=function(){var e,t,n,s,r,o,a;if((e=$(".search-results-tab:visible"))&&(o=e.data(),r=o.tab,t=o.page,a=o.totalItems,!x&&"all"!==r&&p[r]&&!(p[r]*t>a)))return i[0].offsetHeight+i.scrollTop()>i[0].scrollHeight-200?(s=v(),n=++o.page,$.when(b(s,r,n)).done(function(t){return e.find(".container > .row").append(t)})):void 0},T=function(e){var t,n,s,r,o,a,c;if(f||"all"!==e||$.when(h()).then(function(){return O()}).then(function(){return stickyHeaders.load($(".search-page-block__header"),i)}),n=$(".search-page-tabs__item").filter("[data-tab='"+e+"']"),!n.parent().hasClass("active"))return a=v(),o=w("page")||1,c=$("span",n).first().text(),n.each(function(){return $(this).parent().addClass("active").siblings().removeClass("active")}),s=$(".search-results-tab"),r=$(".search-results-wrapper"),t=s.filter("[data-tab='"+e+"']"),t.length||$.when(b(a,e,o)).done(function(n){return t=$('<div class="search-results-tab" />').attr({"data-tab":e,"data-page":o,"data-total-items":c}),$("<div class='container'> <div class='row'>"+n+"</div> </div>").appendTo(t),t.appendTo(r)}),history.pushState({},"","/search?q="+encodeURI(a)+"&tab="+e),i.animate({scrollTop:0},500,function(){return s.hide(),t.show()})},k=function(e){var t,n;if(n=$(".search-page-tabs"),t=angular.injector(["ng","geekbrains"]),t.invoke(["$rootScope","$compile",function(e,t){return n.replaceWith(t(n[0])(e))}]),i.on("scroll",_.throttle(y,350)),i.on("click","a[data-tab]",function(){var e;return e=this,setTimeout(function(){return T($(e).data().tab)},0)}),!$(".search-results-nothing").length)return T(e)},function(){var e,t;if("search"===location.pathname.replace(/^\//,"")&&(e=w("q"),t=w("tab")),e)return s.hide(),r.val(decodeURI(e)),E(),g(t)}()})}.call(this);var stickyHeaders=function(){var e,t,n,s=$(window),i=function(){t.each(function(n){var s=$(this);if(s.data("originalPosition")<=e.scrollTop()){var i=t.eq(n+1),r=i.data("originalPosition")-s.data("originalHeight"),o=e.offset()&&e.offset().top||0;s.addClass("fixed").css("top",o+"px"),i.length>0&&e.scrollTop()>=r&&s.addClass("absolute").css("top",r)}else{var a=t.eq(n-1);s.removeClass("fixed").css("top",""),a.length>0&&e.scrollTop()<=s.data("originalPosition")-s.data("originalHeight")&&a.removeClass("absolute")}})};return{load:function(r,o){"object"==typeof r&&r instanceof jQuery&&r.length>0&&(e=o||s,n=o?"position":"offset",t=r.each(function(){var t=$(this).wrap('<div class="stickyTitleWrap" />'),s=t[n]().top+(o?e.scrollTop():0);t.data("originalPosition",s).data("originalHeight",t.outerHeight()).width(t.width()).parent().height(t.outerHeight())}),e.off("scroll.stickies").on("scroll.stickies",function(){i()}))}}}();(function(){$(function(){var e,t,n,s,i,r;if(n=$(document.body),t=$("#difficulty"),n.hasClass("subjects")&&0!==t.length&&(s=t.data("difficulty"),$("#difficulty").raty({readOnly:!0,score:s})),n.hasClass("memberships"))return r=globalJS.socialSharer,e=$(".js-sharing-button"),i=window.location.protocol+"//"+window.location.hostname,r&&e.on("click",function(){return function(e){return e.preventDefault(),r.share()[$(e.currentTarget).data("type")](encodeURIComponent(i+"/welcome_test"),encodeURIComponent("\u042f \u0443\u0437\u043d\u0430\u043b, \u043d\u0430 \u0447\u0442\u043e \u044f \u0441\u043f\u043e\u0441\u043e\u0431\u0435\u043d!"))}}()),$("#test-result-popup").fadeIn(),$(".js-certificate").click(function(e){return e.preventDefault(),window.open("/certificates/"+$(e.currentTarget).data("id"),"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442","location=1,status=1,scrollbars=1,width=902,height=820,")})})}).call(this),function(){$(function(){var e,t,n,s;if($(".gb-company").size())return t=function(e){var t;return null==e&&(e="body"),t=$(e).offset().top,$("html, body").animate({scrollTop:t},600)},$(".js-scroll-down").click(function(){return t("#our-work")}),$(".js-scroll-down-our-goal").click(function(){return t("#our-goal")}),$(".js-open-history").click(function(){return t(),$('.nav-tabs a[href="#history"]').tab("show")}),ymaps.ready(function(){var e;e=new ymaps.Map("map",{center:[55.79682445013263,37.533689108624685],zoom:16,controls:[]},{searchControlProvider:"yandex#search"}),e.geoObjects.add(new ymaps.Placemark([55.796562,37.536922],{balloonContent:"<strong>GeekBrains, 16 \u044d\u0442\u0430\u0436</strong>",iconCaption:"GeekBrains"},{preset:"islands#blackDotIconWithCaption"}))}),e=[$("#it-incubator-slider"),$("#internship-slider")],n=function(e){var t,n,s,i,r;for(r=[],n=s=0,i=e.length;s<i;n=s+=1)t=e[n].parent(),r.push(e[n].sly({slidee:e[n].find(".mobile-slider__items"),itemSelector:e[n].find(".mobile-slider__item"),pagesBar:t.find(".mobile-slider__pages-bar"),dynamicHandle:1,clickBar:1}));return r},n(e),s=function(e){var t,n,s,i;for(i=[],t=n=0,s=e.length;n<s;t=n+=1)i.push(e[t].sly("reload"));return i},$(window).resize(function(){return s(e)})})}.call(this),function(e){function t(){n()}function n(){var t=e.querySelector(".js-poll-template-form");t&&t.addEventListener("submit",function(e){if([].concat(_toConsumableArray(document.querySelectorAll('[data-required="true"]'))).map(function(e){return e.value}).includes(""))return e.preventDefault(),void alert("\u0412\u044b \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u043e\u043b\u044f")})}e.addEventListener("DOMContentLoaded",t)}(document,window);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};!function(){document.addEventListener("DOMContentLoaded",function(){window.gon&&!window.gon.current_user&&function(){var e=["user[full_name]","user[email]","user[phone]"],t=JSON.parse(localStorage.getItem("geekbrains:formData"));[].concat(_toConsumableArray(document.querySelectorAll("form[data-autofill]"))).forEach(function(n){t&&[].concat(_toConsumableArray(new FormData(n).keys())).forEach(function(e){t[e]&&(n[e].value=t[e])}),n.addEventListener("submit",function(s){s.preventDefault();var i=new FormData(s.target),r={};e.forEach(function(e){var t=i.get(e);t&&(r[e]=t)}),localStorage.setItem("geekbrains:formData",JSON.stringify(_extends({},t,r))),n.getAttribute("data-nosubmit")||n.submit()})})}()})}(),function(e,t){e.addEventListener("DOMContentLoaded",function(){var n=t.querySelectorAll(".js-product-banner"),s=0!==n.length?Array.prototype.slice.call(n):null;e.dataLayer=e.dataLayer||[];var i=function(t,n){e.dataLayer.push({event:"autoEventProduct",eventCategory:"ProductBanner",eventAction:t,eventLabel:n})},r=function(e,t){e.forEach(function(e){if(e.isIntersecting){var n=e.target,s=n.getAttribute("data-product-banner-id");i("show",s),t.unobserve(n)}})},o={root:null,rootMargin:"0px",threshold:0},a=new IntersectionObserver(r,o);s&&s.forEach(function(e){var t=e.getAttribute("data-product-banner-id");a.observe(e),e.addEventListener("click",function(){i("click",t)})})})}(window,document);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();!function(e,t){var n=function(){function e(t){_classCallCheck(this,e),this.accordionNode=t,this.accordionNode.childNodes.forEach(function(e){e.addEventListener("click",function(e){var t=e.currentTarget;t.classList.toggle("accordion__line_hidden"),t.classList.toggle("accordion__line_active")})})}return _createClass(e,[{key:"hideAll",value:function(){this.accordionNode.childNodes.forEach(function(e){e.classList.add("accordion__line_hidden")})}},{key:"initPanels",value:function(){this.accordionNode.dataset.hasOwnProperty("noAutosize")||this.accordionNode.childNodes.forEach(function(e){e.lastChild.style.height=e.lastChild.offsetHeight+"px"})}},{key:"init",value:function(){this.initPanels(),this.hideAll()}}]),e}();[].concat(_toConsumableArray(t.getElementsByClassName("js-accordion"))).forEach(function(e){return new n(e).init()})}(window,document);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();!function(e,t){var n=function(e){var t=e.value;return""!==t.trim()&&t!==e.getAttribute("placeholder")},s=function(e){return/^\+(?:[0-9] ?){6,14}[0-9]$/.test(e)},i=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},r=function(e){e.parentNode.classList.remove("form__input-wrapper_error")},o=function(e){e.parentNode.classList.add("form__input-wrapper_error")},a=function(e,t){return e?r(t):o(t),e},c=function(){function t(e){_classCallCheck(this,t),this.formNode=e,this.formNodeChildNodes=[].concat(_toConsumableArray(this.formNode.elements)),this.loaderNode=this.formNode.parentNode.getElementsByClassName("js-form-loader")[0],this.successNode=this.formNode.parentNode.getElementsByClassName("js-form-success")[0],this.errorNode=this.formNode.parentNode.getElementsByClassName("js-form-error")[0],this.salesForceId=this.formNode.dataset.product,this.gaEventName=this.formNode.dataset.gaEventName,this.validateForm=this.validateForm.bind(this),this.formNode.addEventListener("submit",this.validateForm)}return _createClass(t,[{key:"init",value:function(){this.formNodeChildNodes.filter(function(e){return"hidden"!==e.type}).filter(function(e){return e.classList.contains("form__input")}).forEach(function(e){e.value.trim()&&e.classList.add("form__input_filled"),e.addEventListener("focus",function(){e.parentNode.classList.remove("form__input-wrapper_error"),e.classList.add("form__input_focused")}),e.addEventListener("blur",function(t){var n=t.target.value.trim();e.classList.remove("form__input_focused","form__input_filled"),n&&e.classList.add("form__input_filled")})})}},{key:"validateForm",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.data={};var r=this.formNodeChildNodes.filter(function(e){return"hidden"!==e.type}),o=!1;setTimeout(function(){r.forEach(function(e){var r=e.value.trim();switch(e.name){case"user[first_name]":case"user[last_name]":case"user[full_name]":t.data[e.name]=r,o=!a(n(e),e)||o;break;case"user[phone]":t.data[e.name]=r,o=e.classList.contains("parsley-error"),o=!a(n(e)&&s(r),e)||o;break;case"user[email]":t.data[e.name]=r,o=!a(n(e)&&i(r),e)||o}}),o||(t.sendData(),t.hideFormNode(),t.toggleLoader())},30)}},{key:"hideFormNode",value:function(){this.formNode.parentNode.style.height=this.formNode.offsetHeight+"px",this.formNode.classList.add("form_hidden")}},{key:"toggleLoader",value:function(){this.loaderNode.classList.toggle("form__loader_active")}},{key:"trackGaEvent",value:function(){e.dataLayer&&e.dataLayer.push({event:this.gaEventName,eventCategory:this.salesForceId})}},{key:"sendData",value:function(){var e=this;$.post(this.formNode.action,$(this.formNode).serialize(),function(){t.trackSubmitFormEvent(),e.trackGaEvent(),e.toggleLoader(),e.setSuccessState()},"json").fail(function(){e.toggleLoader(),e.setErrorState()})}},{key:"setSuccessState",value:function(){this.successNode.classList.add("form__success_active")}},{key:"setErrorState",value:function(){this.errorNode.classList.add("form__error_active")}}]),t}();c.trackSubmitFormEvent=function(){var t=new Event("landings-form-submit");e.dispatchEvent(t)};var l=[].concat(_toConsumableArray(t.getElementsByClassName("js-form")));l.length&&l.forEach(function(e){return new c(e).init()})}(window,document);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();$(function(){var e=function(){function e(t){_classCallCheck(this,e),this.sliderElem=t,this.sliderElemParent=this.sliderElem.parent(),this.sliderElemSlidee=this.sliderElemParent.find(".js-gb-slider-slidee"),this.sliderElemPagesBar=this.sliderElemParent.find(".js-gb-slider-pages-bar"),this.sliderElemScrollBar=this.sliderElemParent.find(".js-gb-slider-scroll-bar"),this.sliderElemItems=this.sliderElemParent.find(".js-gb-slider-item"),this.sliderElemPrevButton=this.sliderElemParent.find(".js-gb-slider-buttons-prev"),this.sliderElemNextButton=this.sliderElemParent.find(".js-gb-slider-buttons-next"),this.sliderElemSlidee.size(),this.sliderElemItems.size()&&(this.slider=this.init(),$(window).resize(this.slider.reload))}return _createClass(e,[{key:"checkSliderWidth",value:function(){if(this.frame.clientWidth<this.slidee.clientWidth)return this.initialized||this.init(),void $(this.frame).removeClass("js-destroyed").find(".js-gb-slider-buttons").css("visibility","visible");$(this.frame).addClass("js-destroyed"),this.destroy()}},{key:"init",value:function(){var e={clickBar:1,dynamicHandle:1,slidee:this.sliderElemSlidee,pagesBar:this.sliderElemPagesBar,prevPage:this.sliderElemPrevButton,nextPage:this.sliderElemNextButton,scrollBar:this.sliderElemScrollBar,itemSelector:this.sliderElemItems.selector};return new Sly(this.sliderElem,e,{load:this.checkSliderWidth}).init()}}]),e}();$(".js-gb-slider").each(function(){var t=new e($(this));Hammer($(this)[0]).on("swipeleft",function(){return t.slider.nextPage()}),Hammer($(this)[0]).on("swiperight",function(){return t.slider.prevPage()})})});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();!function(e){function t(){[].concat(_toConsumableArray(e.querySelectorAll(".js-poll-selectable-component"))).forEach(function(e){return new n(e)})}var n=function(){function e(t){var n=this;_classCallCheck(this,e),this.node=t,this.handleClick=this.handleClick.bind(this),this.input=this.node.querySelector('input[type="hidden"]'),this.selectableItems=[].concat(_toConsumableArray(this.node.getElementsByClassName("js-poll-selectable-component-item"))),["click","touchend"].forEach(function(e){n.selectableItems.forEach(function(t){return t.addEventListener(e,n.handleClick)})})}return _createClass(e,[{key:"handleClick",value:function(e){e.preventDefault();var t=e.target,n=t.parentElement,s=[].concat(_toConsumableArray(n.children)).filter(function(e){return e!=t});t.classList.add("js-selected"),s.forEach(function(e){return e.classList.remove("js-selected")}),this.input.value=t.dataset.value}}]),e}();e.addEventListener("DOMContentLoaded",t)}(document),function(){$(function(){var e;return e=$(".gb-tabs__header .gb-tabs__tab-item"),e.click(function(t){var n,s;return t.preventDefault(),n=$(this),s=$(n.attr("href")),e.siblings().removeClass("gb-tabs__tab-item_active"),n.addClass("gb-tabs__tab-item_active"),s.siblings().removeClass("gb-tabs__content-item_active"),s.addClass("gb-tabs__content-item_active")})})}.call(this);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();document.addEventListener("DOMContentLoaded",function(){var e=1024,t=[],n=function(){function n(e){_classCallCheck(this,n),this.$videoContainer=e,this.$playButton=this.$videoContainer.find(".js-play-button"),this.videoElem=this.$videoContainer.find("video").get(0),this.videoElem.volume=0,t.push(this),this.state={isOpen:!1},this.init()}return _createClass(n,[{key:"isOpen",value:function(){return this.state.isOpen}},{key:"close",value:function(){this.isOpen()&&($(this.cloneVideoWrapper).remove(),this.state.isOpen=!1)}},{key:"open",value:function(){if(!this.isOpen()){t.forEach(function(e){e.close()}),this.state.isOpen=!0,
this.$videoContainer.clone().addClass("js-warped-video__container_clone").appendTo(window.document.body).removeClass("warped-video__container-video_collapsed warped-video__container_show-play warped-video__container-blur").css({position:"fixed",top:"50%",left:"50%","z-index":100,height:getComputedStyle(this.$videoContainer[0]).height,perspective:"none",perspectiveOrigin:"unset",transform:"translate(-50%, -50%)"}),this.cloneVideoWrapper=$(".js-warped-video__container_clone")[0];var e=this.cloneVideoWrapper.children[0];e.volume=1,e.autoplay=!0;var n=e.play();n!==undefined&&n.then(function(){})["catch"](function(){}),e.setAttribute("controls",!0)}}},{key:"initDesktop",value:function(){var e=this,t=this;this.$videoContainer.click(function(){e.open()}),$(document.body).on("click",function(e){for(var n=e.target;n&&n!==this;){if(n.matches(".js-warped-video-container"))return e.preventDefault(),void e.stopPropagation();n=n.parentNode}t.close()})}},{key:"initMobile",value:function(){var e=this;this.videoElem.volume=1,this.$playButton.css("opacity",1),this.$videoContainer.click(function(){if(e.videoElem.paused){var t=e.videoElem.play();t!==undefined&&t.then(function(){})["catch"](function(){}),e.videoElem.setAttribute("controls",!0),e.$playButton.css("opacity",0),e.$videoContainer.parent().css({"z-index":5,width:"100%"}).end().removeClass("warped-video__container-blur").css("opacity","1").attr("id",e.$videoContainer.attr("id")+"-open")}else e.videoElem.pause(),e.videoElem.setAttribute("controls",!1),e.$playButton.css("opacity",1),e.$videoContainer.addClass("warped-video__container-blur").css("opacity",".75").attr("id",e.$videoContainer.attr("id").replace("-open","")).parent().css({"z-index":0,height:""})})}},{key:"init",value:function(){$(window).width()>e?this.initDesktop():this.initMobile()}}]),n}(),s=$(".js-warped-video-container");s.length>0&&s.each(function(){new n($(this))})}),function(){$(function(){var e,t;if($(".js-profession-short").size())return e=$(window),t=function(){return e.on("mobile-form-popup:opened",function(e,t){var n,s;if(s=t.popupEl,n=s.find('input[type="text"]:first'),!n.val().length)return setTimeout(function(){return n.focus()},250)})},[t].forEach(function(e){return e.call()})})}.call(this),function(){$(function(){if($(document.body).hasClass("professions")&&$(".professions-faq").size())return $(".professions-faq-list-item").click(function(e){var t;e.stopPropagation(),$(".current-item").toggleClass("toggle"),t=$(this).hasClass("current-item"),$(".current-item").removeClass("current-item"),t||($(this).addClass("current-item"),$(this).toggleClass("toggle"))})})}.call(this),function(e,t){e.dataLayer=e.dataLayer||[];var n=function(){t.querySelectorAll(".js-success-story-video").forEach(function(t){t.addEventListener("click",function(){e.dataLayer.push({event:"SuccessStoryWatch",eventCategory:"SuccessStoryWatch"})})})};t.addEventListener("DOMContentLoaded",n)}(window,document),$(function(){if($(".js-profession-redesign").size()){var e=window._,t=window.moment,n=window.globalJS,s=$(window),i=$(".site-footer"),r=$(".js-add-to-cart-btn"),o=$(".js-btn-send-submit"),a=$(".js-btn-send-app"),c=$(".js-call-me"),l=$(".js-profession-checkout-form"),d=$(".js-profession-menu"),u=$(".js-available-seats"),m=$(".js-available-seats-label"),p=$(".js-btn-scroll-to-checkout"),h=document.documentElement,f=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),g=!1,v=r.outerHeight(),b=o.outerHeight(),_=c.outerHeight(),w=0,y=!1,k="js-fixed";_>0&&(w=_+46);var j=function(e){return e.offset().top},C=function(){$('.js-animate-scroll:not([href="#"])').click(function(e){e.preventDefault();var t=$(this.hash);t.length&&$("html, body").animate({scrollTop:j(t)},700)})},x=function(e){a.removeClass("hidden"),a.css("bottom",e+"px"),g=!0},T=function(){if(window.innerWidth>=1024)return n.isInViewport(l[0])?p.addClass("js-hidden"):p.removeClass("js-hidden"),!1;var e=j(i),t=j(r),s=j(o),c=t+v,d=s+b,u=window.pageYOffset||h.scrollTop,m=u+f,$=t<=m,y=c>=u&&c<=m,k=$&&y,C=t+v<=u,T=t>m-_,I=d<=u,S=d>u,E=e<=m;if(I&&T&&!g&&x(w),(S||k)&&g&&(a.addClass("hidden"),g=!1),C){if(g||x(w),E){var P=f-(e-u);return a.css("bottom",P+"px")}return a.css("bottom","0px")}},I=e.once(function(){var e=undefined,n=u.data(),s=n.coefficient,i=t().tz("Europe/Moscow").hours();return i>=0&&i<6&&(e=6-i),i>=6&&i<18&&(e=i-6),i>=18&&i<=24&&(e=30-i),Math.floor(e*(Math.random()*(1.2-.8)+.8)*s)}),S=e.once(function(){setTimeout(function(){var e=I();0!==e&&$(".js-btn-interested").each(function(){var t=this;$(this).addClass("js-fade-in").find(".js-btn-interested-count").text(e).end().find(".js-btn-interested-label").text(n.getNoun(e,"\u0447\u0435\u043b\u043e\u0432\u0435\u043a","\u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430","\u0447\u0435\u043b\u043e\u0432\u0435\u043a")),setTimeout(function(){$(t).addClass("js-fade-out"),setTimeout(function(){$(t).addClass("js-fade-over")},1e3)},5e3)})},4e3)}),E=function(){var e=u.data(),t=e.canDecrease,s=u.text();t&&(s<=1||y||(y=!0,setTimeout(function(){var e=u.data().cookie,t=s-1;m.text(n.getNoun(t,"\u043c\u0435\u0441\u0442\u043e","\u043c\u0435\u0441\u0442\u0430","\u043c\u0435\u0441\u0442")),u.text(t).addClass("js-animated"),$.cookie(e,t,{expires:30})},5e3)))},P=function(){u.size()&&n.isInViewport(l[0])&&E()},O=function(){window.innerWidth<1024||(j(d)>72?(d.addClass(k),u.length&&S()):d.removeClass(k))},L=n.throttle(O,200),R=n.throttle(T,100),M=n.throttle(P,100);return s.on("scroll",function(){R(),L(),M()}).on("callForm::toggle",function(){setTimeout(O,100)}),$(".js-gb-profession-reviews").on("click","a",function(e){return e.preventDefault()}),[O,C].forEach(function(e){return e.call()})}}),function(e,t){e.addEventListener("DOMContentLoaded",function(){if(document.getElementById("recaptcha-div")){var e=function(e){e.preventDefault();var n=t.querySelector(".js-form-with-recaptcha");n.checkValidity()?grecaptcha.execute():n.reportValidity()};t.querySelector(".js-button-with-recaptcha").onclick=e}})}(window,document);var getRecaptchaToken=function(e){return new Promise(function(t){grecaptcha.ready(function(){grecaptcha.execute(window.GoogleRecaptcha.site_key,{action:"create_claim"}).then(function(n){e.g_recaptcha_response.value=n,t()})})})};(function(){}).call(this);